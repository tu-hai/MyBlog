function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),a=n("zVF4"),s=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(y);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(y);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(y);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function y(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function _(t,e){t||m()}function b(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var E=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(E),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return I.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(E),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(S.g(e))},t.C=function(e){return new t(S.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return S.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new S(e.slice()))},t}();function P(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function x(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){j(t,e,W(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function L(t,e,n,r){j(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&L(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function U(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "));return r}function j(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function B(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function H(t,e,n){k(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function z(t,e,n,r){var i=q(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function G(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var X=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Y(t,e){return t<e?-1:t>e?1:0}function $(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Y(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){x("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(x("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return x("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),at=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.G(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return C(this.H)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new st(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function dt(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ft(t,e,n,r,i,o,a)}function pt(t){var e=b(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ar(e.startAt)),e.endAt&&(n+="|ub:",n+=ar(e.endAt)),e.tt=n}return e.tt}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function gt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yt,mt,_t=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===a&&(a=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),bt=function(t){this.count=t};function wt(t){switch(t){case l.OK:return m();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return m()}}function kt(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case yt.OK:return l.OK;case yt.CANCELLED:return l.CANCELLED;case yt.UNKNOWN:return l.UNKNOWN;case yt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case yt.INTERNAL:return l.INTERNAL;case yt.UNAVAILABLE:return l.UNAVAILABLE;case yt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case yt.NOT_FOUND:return l.NOT_FOUND;case yt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case yt.ABORTED:return l.ABORTED;case yt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case yt.DATA_LOSS:return l.DATA_LOSS;default:return m()}}(mt=yt||(yt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function t(t,e){this.i=t,this.root=e||St.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,St.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,St.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Et(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new Et(this.root,t,this.i,!1)},t.prototype.dt=function(){return new Et(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new Et(this.root,t,this.i,!0)},t}(),Et=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw m();if(this.right.yt())throw m();var t=this.left.Nt();if(t!==this.right.Nt())throw m();return t+(this.yt()?0:1)},t}();St.EMPTY=null,St.RED=!0,St.at=!1,St.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new St(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var It=function(){function t(t){this.i=t,this.data=new Ct(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Tt(this.data._t())},t.prototype.ft=function(t){return new Tt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Tt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),At=new Ct(A.i);function Pt(){return At}function xt(){return Pt()}var Ot=new Ct(A.i);function Nt(){return Ot}var Dt=new Ct(A.i),Rt=new It(A.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mt=new It(Y);function Ft(){return Mt}var Ut=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Ot=Nt(),this.Lt=new Ct(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),jt=function(){function t(){this.qt=new Ct(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):m():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Vt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ut.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Gn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Bt.Zt(e,n)),new t(ut.min(),r,Ft(),Pt(),Lt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Lt(),Lt(),Lt())},t}(),Ht=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},zt=function(t,e){this.targetId=t,this.oe=e},Gt=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wt=function(){function t(){this.ae=0,this.ce=Xt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Lt(),e=Lt(),n=Lt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Bt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Xt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Kt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=Pt(),this.Ve=Qt(),this.pe=new It(Y)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Pn?this.ve(r,t.re):t.re instanceof xn&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:m()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(gt(i))if(0===n){var o=new A(i.path);this.Se(e,o,new xn(o,ut.min()))}else _(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&gt(o.target)){var a=new A(o.target.path);null!==e.ye.get(a)||e.Le(i,a)||e.Se(i,a,new xn(a,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Lt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new qt(t,n,this.pe,this.ye,r);return this.ye=Pt(),this.Ve=Qt(),this.pe=new It(Y),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new It(Y),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Wt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Qt(){return new Ct(A.i)}function Xt(){return new Ct(A.i)}function Yt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $t(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yt(t)?4:10:m()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $t(t).isEqual($t(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return se(t.bytesValue).isEqual(se(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ae(t.geoPointValue.latitude)===ae(e.geoPointValue.latitude)&&ae(t.geoPointValue.longitude)===ae(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ae(t.integerValue)===ae(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ae(t.doubleValue),r=ae(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ae(t.integerValue||t.doubleValue),r=ae(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re($t(t),$t(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(t,e){var n=se(t),r=se(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Y(n[i],r[i]);if(0!==o)return o}return Y(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Y(ae(t.latitude),ae(e.latitude));return 0!==n?n:Y(ae(t.longitude),ae(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return Y(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Y(r[a],o[a]);if(0!==s)return s;var u=ne(n[r[a]],i[o[a]]);if(0!==u)return u}return Y(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=oe(t),r=oe(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?se(e.bytesValue).toBase64():"referenceValue"in e?A.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):m();var n}(t)}function oe(t){if(_(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ae(t.seconds),nanos:ae(t.nanos)}}function ae(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function se(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ge=function(t,e){this.U=t,this.Qe=e};function ye(t){return{integerValue:""+t}}function me(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function _e(t,e){return ht(e)?ye(e):me(t,e)}function be(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function ke(t,e){return be(t,e.Z())}function Ce(t){return _(!!t),ut.J(function(t){var e=oe(t);return new st(e.seconds,e.nanos)}(t))}function Ee(t,e){return function(t){return new S(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Se(t){var e=S.g(t);return _(We(e)),e}function Ie(t,e){return Ee(t.U,e.path)}function Te(t,e){var n=Se(e);return _(n.get(1)===t.U.projectId),_(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Oe(n))}function Ae(t,e){return Ee(t.U,e)}function Pe(t){var e=Se(t);return 4===e.length?S.P():Oe(e)}function xe(t){return new S(["projects",t.U.projectId,"databases",t.U.database]).R()}function Oe(t){return _(t.length>4&&"documents"===t.get(4)),t.u(5)}function Ne(t,e,n){return{name:Ie(t,e),fields:n.proto.mapValue.fields}}function De(t,e){var n;if(e instanceof yn)n={update:Ne(t,e.key,e.value)};else if(e instanceof Cn)n={delete:Ie(t,e.key)};else if(e instanceof mn)n={update:Ne(t,e.key,e.data),updateMask:Ge(e.We)};else if(e instanceof bn)n={transform:{document:Ie(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof $e)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw m()}(0,t)}))}};else{if(!(e instanceof En))return m();n={verify:Ie(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ke(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ge)),n}function Re(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ce(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.ze()}(e.currentDocument):cn.ze();if(e.update){var r=Te(t,e.update.name),i=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new an((t.fieldPaths||[]).map((function(t){return T.S(t)})))}(e.updateMask);return new mn(r,i,o,n)}return new yn(r,i,n)}if(e.delete){var a=Te(t,e.delete);return new Cn(a,n)}if(e.transform){var s=Te(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_("REQUEST_TIME"===e.setToServerValue),n=new $e):"appendMissingElements"in e?n=new Je(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):m();var r=T.S(e.fieldPath);return new sn(r,n)}(t,e)}));return _(!0===n.exists),new bn(s,u)}if(e.verify){var c=Te(t,e.verify);return new En(c,n)}return m()}function Le(t,e){return{documents:[Ae(t,e.path)]}}function Me(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ae(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qe(t.field),op:Ve(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qe(t.field),direction:je(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Qe||ct(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Fe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fe(e.endAt)),n}function Fe(t){return{before:t.before,values:t.position}}function Ue(t){return new or(t.values||[],!!t.before)}function je(t){return pe[t]}function Ve(t){return ve[t]}function qe(t){return{fieldPath:t.R()}}function Be(t){return T.S(t.fieldPath)}function He(t){return Yn.create(Be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function ze(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Be(t.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Be(t.unaryFilter.field);return Yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Be(t.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Be(t.unaryFilter.field);return Yn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function Ge(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function We(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ke=function(){this.He=void 0};function Qe(t,e,n){return t instanceof $e?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=Ye(t,e),r=rn(n)+rn(t.je);return ce(n)&&ce(t.je)?ye(r):me(t.serializer,r)}(t,e)}function Xe(t,e,n){return t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):n}function Ye(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ke),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function Ze(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(Ke);function rn(t){return ae(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var an=function(){function t(t){this.fields=t,t.sort(T.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return $(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sn=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof Pn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Pn}var hn=function(){};function fn(t,e,n){return t instanceof yn?function(t,e,n){return new Pn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof mn?function(t,e,n){if(!ln(t.Ge,e))return new On(t.key,n.version);var r=_n(t,e);return new Pn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof bn?function(t,e,n){if(_(null!=n.transformResults),!ln(t.Ge,e))return new On(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Pn&&(s=e.field(o.field)),r.push(Xe(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=kn(t,r.data(),i);return new Pn(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new xn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof yn?function(t,e){if(!ln(t.Ge,e))return e;var n=gn(e);return new Pn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof mn?function(t,e){if(!ln(t.Ge,e))return e;var n=gn(e),r=_n(t,e);return new Pn(t.key,n,r,{Je:!0})}(t,e):t instanceof bn?function(t,e,n,r){if(!ln(t.Ge,e))return e;var i=wn(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Pn&&(c=n.field(s.field)),null===c&&r instanceof Pn&&(c=r.field(s.field)),i.push(Qe(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=kn(t,i.data(),o);return new Pn(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return ln(t.Ge,e)?new xn(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof bn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Pn?e.field(o.field):void 0,s=Ye(o.transform,a||null);null!=s&&(n=null==n?(new In).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||$(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?$(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof $e&&e instanceof $e}(t.transform,e.transform)}(t,e)})))}function gn(t){return t instanceof Pn?t.version:ut.min()}var yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),mn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function _n(t,e){return function(t,e){var n=new In(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof Pn?e.data():Sn.empty())}var bn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function kn(t,e,n){for(var r=new In(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),Sn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),In=function(){function t(t){void 0===t&&(t=Sn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(T.P(),this.tn);return null!=t?new Sn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.nn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Tn(t){var e=[];return k(t.fields||{},(function(t,n){var r=new T([t]);if(de(n)){var i=Tn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new an(e)}var An=function(t,e){this.key=t,this.version=e},Pn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(An),xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Nn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null};function Dn(t,e,n,r,i,o,a,s){return new Nn(t,e,n,r,i,o,a,s)}function Rn(t){return new Nn(t)}function Ln(t){return!ct(t.limit)&&"F"===t.an}function Mn(t){return!ct(t.limit)&&"L"===t.an}function Fn(t){return t.on.length>0?t.on[0].field:null}function Un(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function jn(t){return null!==t.collectionGroup}function Vn(t){var e=b(t);if(null===e.cn){e.cn=[];var n=Un(e),r=Fn(e);if(null!==n&&null===r)n.p()||e.cn.push(new cr(n)),e.cn.push(new cr(T.v(),"asc"));else{for(var i=!1,o=0,a=e.on;o<a.length;o++){var s=a[o];e.cn.push(s),s.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new cr(T.v(),u))}}}return e.cn}function qn(t){var e=b(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Vn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vn(e);r<i.length;r++){var o=i[r];n.push(new cr(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new or(e.endAt.position,!e.endAt.before):null,s=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.un}function Bn(t,e,n){return new Nn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hn(t,e){return new Nn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function zn(t,e){return new Nn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Gn(t,e){return vt(qn(t),qn(e))&&t.an===e.an}function Wn(t){return pt(qn(t))+"|lt:"+t.an}function Kn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ar(t.startAt)),t.endAt&&(e+=", endAt: "+ar(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.an+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!sr(t.startAt,Vn(t),e)||t.endAt&&sr(t.endAt,Vn(t),e))}(t,e)}function Xn(t){return function(e,n){for(var r=!1,i=0,o=Vn(t);i<o.length;i++){var a=o[i],s=lr(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new $n(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Jn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),$n=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this._n(e)},e}(Yn),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Yn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Yn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Yn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Yn),or=function(t,e){this.position=t,this.before=e};function ar(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function sr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?A.i(A.C(a.referenceValue),n.key):ne(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&m(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),vr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(a.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=a.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new yr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new yr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=_r.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),c={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return p("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&a<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),yr=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function mr(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new yr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Cr(e.target.error);n.Zn.reject(new yr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new yr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new br(e)},t}(),br=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Cr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gr(i),a=e(i.primaryKey,i.value,o);if(a instanceof pr){var s=a.catch((function(t){return o.done(),pr.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cr(t.target.error);n(e)}}))}var kr=!1;function Cr(t){var e=vr.On(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kr||(kr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Er(){return"undefined"!=typeof window?window:null}function Sr(){return"undefined"!=typeof document?document:null}var Ir=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Tr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Sr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Sr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Sr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!mr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Ir._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&m()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Ar(t,e){if(v("AsyncQueue",e+": "+t),mr(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Pr=function(){this.Ls=void 0,this.listeners=[]},xr=function(){this.Bs=new at((function(t){return Wn(t)}),Gn),this.onlineState="Unknown",this.qs=new Set};function Or(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=b(t),o=!1,(a=n.Bs.get(i=e.query))||(o=!0,a=new Pr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=Ar(u,"Initialization of query '"+Kn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,a),a.listeners.push(e),e.Qs(n.onlineState),a.Ls&&e.Ws(a.Ls)&&Lr(n),[2]}}))}))}function Nr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=b(t),o=!1,(a=n.Bs.get(i=e.query))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Dr(t,e){for(var n=b(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.Bs.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Ws(a)&&(r=!0);s.Ls=a}}r&&Lr(n)}function Rr(t,e,n){var r=b(t),i=r.Bs.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(e)}function Lr(t){t.qs.forEach((function(t){t.next()}))}var Mr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Vt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Fr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fr.UNAUTHENTICATED=new Fr(null),Fr.ei=new Fr("google-credentials-uid"),Fr.ni=new Fr("first-party-uid");var Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function jr(t,e){return"firestore_clients_"+t+"_"+e}function Vr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function qr(t,e){return"firestore_targets_"+t+"_"+e}Ur.ai=-1;var Br=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ft(),a=0;i&&a<r.activeTargetIds.length;++a)i=ht(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wr=function(){function t(){this.activeTargetIds=Ft()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Ct(Y),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=jr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Wr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(jr(this.persistenceKey,i)))&&(a=zr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(u=this.vi(s))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)this.mi(l[c]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(qr(this.persistenceKey,t));if(n){var r=Hr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(qr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,a,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(a=this.vi(n.newValue)))return[2,this.Si(a)]}else n.key===this.Ri&&(s=function(t){var e=Ur.ai;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Br(this.currentUser,t,e,n),i=Vr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Vr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=qr(this.persistenceKey,t),i=new Hr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return zr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Br.ci(new Fr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Hr.ci(r,e)},t.prototype.vi=function(t){return Gr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Ft();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Qr=function(){function t(){this.ir=new Wr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Wr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Xr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=dn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations,(function(t,e){return vn(t,e)}))&&$(this.baseMutations,t.baseMutations,(function(t,e){return vn(t,e)}))},t}(),Yr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){_(e.mutations.length===r.length);for(var i=Dt,o=e.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),$r=function(){function t(){this.wr=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=xt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=Pt();return i.forEach((function(t,e){e||(e=new xn(t,ut.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):jn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new A(e)).next((function(t){var e=Nt();return t instanceof Pn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Nt();return this.Dr.Qr(t,i).next((function(a){return pr.forEach(a,(function(a){var s=function(t,e){return new Nn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,a.child(i));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return o.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=dn(u,l,l,o.ar);r=h instanceof Pn?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof mn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Pn&&(c=c.ot(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Lt(),i=Lt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=Y(t[0],e[0]);return 0===i?Y(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new It(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var ai=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==oi.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return mr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Io(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),si=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Ur.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,a=Date.now(),l.yo(t,r)})).next((function(r){return n=r,s=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(_(e>=2),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),S.P();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&m(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:m()}o=a+2}return new S(r)}var fi=function(t){this.Co=t};function di(t,e){if(e.document)return function(t,e,n){var r=Te(t,e.name),i=Ce(e.updateTime),o=new Sn({mapValue:{fields:e.fields}});return new Pn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=mi(e.noDocument.readTime);return new xn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),o=mi(e.unknownDocument.version);return new On(i,o)}return m()}function pi(t,e,n){var r=vi(n),i=e.key.path.h().A();if(e instanceof Pn){var o=function(t,e){return{name:Ie(t,e.key),fields:e.rn().mapValue.fields,updateTime:be(t,e.version.Z())}}(t.Co,e);return new zi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof xn){var a=e.key.path.A(),s=yi(e.version),u=e.hasCommittedMutations;return new zi(null,new Bi(a,s),null,u,r,i)}if(e instanceof On){var c=e.key.path.A(),l=yi(e.version);return new zi(new Hi(c,l),null,null,!0,r,i)}return m()}function vi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function gi(t){var e=new st(t[0],t[1]);return ut.J(e)}function yi(t){var e=t.Z();return new Fi(e.seconds,e.nanoseconds)}function mi(t){var e=new st(t.seconds,t.nanoseconds);return ut.J(e)}function _i(t,e){var n=(e.baseMutations||[]).map((function(e){return Re(t.Co,e)})),r=e.mutations.map((function(e){return Re(t.Co,e)})),i=st.fromMillis(e.localWriteTimeMs);return new Xr(e.batchId,i,n,r)}function bi(t){var e,n,r=mi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(_(1===(n=t.query).documents.length),e=qn(Rn(Pe(n.documents[0])))):e=function(t){var e=Pe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[ze(e)]:void 0!==e.fieldFilter?[He(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):m():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new cr(Be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ue(n.startAt));var l=null;return n.endAt&&(l=Ue(n.endAt)),qn(Dn(e,i,s,a,u,"F",c,l))}(t.query),new _t(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=yi(e.nt),i=yi(e.lastLimboFreeSnapshotVersion);n=gt(e.target)?Le(t.Co,e.target):Me(t.Co,e.target);var o=e.resumeToken.toBase64();return new Wi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var ki=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return _(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).rs({index:Vi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Ii(t),a=Si(t);return a.add({}).next((function(s){_("number"==typeof s);for(var u=new Xr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return De(t.Co,e)})),i=n.mutations.map((function(e){return De(t.Co,e)}));return new Vi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new It((function(t,e){return Y(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],v=qi.key(i.userId,p.key.path,s);h=h.add(p.key.path.h()),l.push(a.put(c)),l.push(o.put(v,qi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=u.keys()})),pr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Si(t).get(e).next((function(t){return t?(_(t.userId===n.userId),_i(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Si(t).rs({index:Vi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r),o=_i(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Si(t).rs({index:Vi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).ts(Vi.userMutationsIndex,n).next((function(t){return t.map((function(t){return _i(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=qi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ii(t).rs({range:i},(function(r,i,a){var s=r[0],u=r[2],c=hi(r[1]);if(s===n.userId&&e.path.isEqual(c))return Si(t).get(u).next((function(t){if(!t)throw m();_(t.userId===n.userId),o.push(_i(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new It(Y),i=[];return e.forEach((function(e){var o=qi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ii(t).rs({range:a},(function(t,i,o){var a=t[0],s=t[2],u=hi(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=qi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new It(Y);return Ii(t).rs({range:a},(function(t,e,o){var a=t[0],u=t[2],c=hi(t[1]);a===n.userId&&r.T(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Qo(t,s)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Si(t).get(e).next((function(t){if(null===t)throw m();_(t.userId===n.userId),r.push(_i(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ei(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(e.userId)),i=[];return Ii(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ci(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Ti(t).get(this.userId).next((function(t){return t||new ji(e.userId,-1,"")}))},t}();function Ci(t,e,n){var r=qi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ii(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Ei(t,e,n){var r=t.store(Vi.store),i=t.store(qi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){_(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qi.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pr.$n(o).next((function(){return c}))}function Si(t){return uo.Qn(t,Vi.store)}function Ii(t){return uo.Qn(t,qi.store)}function Ti(t){return uo.Qn(t,ji.store)}var Ai=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Oi(t).put(Ni(e),n)},t.prototype.Ar=function(t,e){var n=Oi(t),r=Ni(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Oi(t).get(Ni(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Oi(t).get(Ni(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=xt();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=xt(),i=new Ct(A.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Di(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Oi(t).rs({range:r},(function(t,e,r){for(var a=A.$(t);o&&A.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=Nt(),o=e.path.length+1,a={};if(n.isEqual(ut.min())){var s=e.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.A(),c=vi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=zi.collectionReadTimeIndex}return Oi(t).rs(a,(function(t,n,a){if(t.length===o){var s=di(r.serializer,n);e.path.T(s.key.path)?s instanceof Pn&&Qn(e,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new Pi(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return xi(t).get(Gi.key).next((function(t){return _(!!t),t}))},t.prototype.Jo=function(t,e){return xi(t).put(Gi.key,e)},t.prototype.Xo=function(t){if(t){var e=di(this.serializer,t);return e instanceof xn&&e.version.isEqual(ut.min())?null:e}return null},t}(),Pi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new It((function(t,e){return Y(t.R(),e.R())}));return this.wr.forEach((function(o,a){var s=e.ua.get(o);if(a){var u=pi(e.ca.serializer,a,e.readTime);i=i.add(o.path.h());var c=Di(u);r+=c-s,n.push(e.ca.Er(t,o,u))}else if(r-=s,e.oa){var l=pi(e.ca.serializer,new xn(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}($r);function xi(t){return uo.Qn(t,Gi.store)}function Oi(t){return uo.Qn(t,zi.store)}function Ni(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}var Ri=function(){function t(){this.ha=new Li}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Li=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new It(S.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new It(S.i)).A()},t}(),Mi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new _r("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ui.store)}(t),function(t){t.createObjectStore(ji.store,{keyPath:ji.keyPath}),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qi.store)}(t),Yi(t),function(t){t.createObjectStore(zi.store)}(t));var a=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ki.store),t.deleteObjectStore(Wi.store),t.deleteObjectStore(Qi.store)}(t),Yi(t)),a=a.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().Z(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Vi.store).ts().next((function(n){t.deleteObjectStore(Vi.store),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var r=e.store(Vi.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore($i.store,{keyPath:$i.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Gi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zi.store);e.createIndex(zi.readTimeIndex,zi.readTimeIndexPath,{unique:!1}),e.createIndex(zi.collectionReadTimeIndex,zi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(zi.store).rs((function(t,n){e+=Di(n)})).next((function(){var n=new Gi(e);return t.store(Gi.store).put(Gi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ji.store),r=t.store(Vi.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Vi.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){_(r.userId===n.userId);var i=_i(e.serializer,r);return Ei(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ki.store),n=t.store(zi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new S(n),a=function(t){return[0,ui(t)]}(o);r.push(e.get(a).next((function(n){return n?pr.resolve():function(n){return e.put(new Ki(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Xi.store,{keyPath:Xi.keyPath});var n=e.store(Xi.store),r=new Li,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(zi.store).rs({ss:!0},(function(t,e){var n=new S(t);return i(n.h())})).next((function(){return e.store(qi.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Wi.store);return n.rs((function(t,r){var i=bi(r),o=wi(e.serializer,i);return n.put(o)}))},t}(),Fi=function(t,e){this.seconds=t,this.nanoseconds=e},Ui=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ui.store="owner",Ui.key="owner";var ji=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ji.store="mutationQueues",ji.keyPath="userId";var Vi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var qi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var Bi=function(t,e){this.path=t,this.readTime=e},Hi=function(t,e){this.path=t,this.version=e},zi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zi.store="remoteDocuments",zi.readTimeIndex="readTimeIndex",zi.readTimeIndexPath="readTime",zi.collectionReadTimeIndex="collectionReadTimeIndex",zi.collectionReadTimeIndexPath=["parentPath","readTime"];var Gi=function(t){this.byteSize=t};Gi.store="remoteDocumentGlobal",Gi.key="remoteDocumentGlobalKey";var Wi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wi.store="targets",Wi.keyPath="targetId",Wi.queryTargetsIndexName="queryTargetsIndex",Wi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Xi=function(t,e){this.collectionId=t,this.parent=e};function Yi(t){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}).createIndex(Wi.queryTargetsIndexName,Wi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Xi.store="collectionParents",Xi.keyPath=["collectionId","parent"];var $i=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$i.store="clientMetadata",$i.keyPath="clientId";var Ji=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([ji.store,Vi.store,qi.store,zi.store,Wi.store,Ui.store,Qi.store,Ki.store],[$i.store]),[Gi.store]),[Xi.store]),Zi=function(){function t(){this.la=new Li}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:ui(i)};return to(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return to(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function to(t){return uo.Qn(t,Xi.store)}var eo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),no=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new eo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ut.J(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return ro(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return _(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return ro(t).rs((function(a,s){var u=bi(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return ro(t).rs((function(t,n){var r=bi(n);e(r)}))},t.prototype.ma=function(t){return io(t).get(Qi.key).next((function(t){return _(null!==t),t}))},t.prototype.Ta=function(t,e){return io(t).put(Qi.key,e)},t.prototype.ga=function(t,e){return ro(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(t).rs({range:r,index:Wi.queryTargetsIndexName},(function(t,n,r){var o=bi(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=oo(t);return e.forEach((function(e){var a=ui(e.path);i.push(o.put(new Ki(n,a))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=oo(t);return pr.forEach(e,(function(e){var o=ui(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=oo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=oo(t),i=Lt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return oo(t).rs({index:Ki.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return ro(t).get(e).next((function(t){return t?bi(t):null}))},t}();function ro(t){return uo.Qn(t,Wi.store)}function io(t){return uo.Qn(t,Qi.store)}function oo(t){return uo.Qn(t,Ki.store)}var ao="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Zr),uo=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=c,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new fi(u),this.ja=new vr(this.Wa,10,new Mi(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new Zi,this.vr=function(t,e){return new Ai(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof so)return vr.Qn(t.jo,e);throw m()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,ao);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Ur(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lo(e).put(new $i(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(mr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return co(t).get(Ui.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return lo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,$i.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):co(t).get(Ui.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,ao);return!1}}return!(!e.networkEnabled||!e.inForeground)||lo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ui.store,$i.store],(function(e){var n=new so(e,Ur.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return ki.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ji,(function(o){return r=new so(o,i.Ma?i.Ma.next():Ur.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(l.FAILED_PRECONDITION,Jr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return co(t).get(Ui.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,ao)}))},t.prototype.ic=function(t){var e=new Ui(this.clientId,this.allowTabSynchronization,Date.now());return co(t).put(Ui.key,e)},t.Ln=function(){return vr.Ln()},t.prototype.sc=function(t){var e=this,n=co(t);return n.get(Ui.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Ui.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function co(t){return uo.Qn(t,Ui.store)}function lo(t){return uo.Qn(t,$i.store)}var ho=function(){function t(t,e){this.db=t,this.wo=new si(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fo(t,n)},t.prototype.Na=function(t,e,n){return fo(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fo(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Ti(t).os((function(r){return Ci(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(a,s){if(s<=e){var u=n.Pc(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),oo(t).delete([0,ui(a.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fo(t,e)},t.prototype.gc=function(t,e){var n,r=oo(t),i=Ur.ai;return r.rs({index:Ki.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Ur.ai&&e(new A(hi(n)),i),i=a,n=o):i=Ur.ai})).next((function(){i!==Ur.ai&&e(new A(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fo(t,e){return oo(t).put(function(t,e){return new Ki(0,ui(t.path),e)}(e,t.xa))}function po(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Ct(Y),this.vc=new at((function(t){return pt(t)}),vt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function go(t,e){var n=b(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=pr.resolve();return o.forEach((function(t){a=a.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,a=n.dr.get(t);_(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function yo(t){var e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function mo(t,e){var n=b(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=s.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return _(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,c,e)&&a.push(n.Ka.ya(t,c))}}}));var s=Pt(),u=Lt();if(e.Yt.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof xn&&c.version.isEqual(ut.min())?(o.Ar(u,r),s=s.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),s=s.ot(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&a.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));a.push(c)}return pr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,s)}))})).then((function(t){return n.bc=i,t}))}function _o(t,e){var n=b(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function bo(t,e){var n=b(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new _t(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(t),o=i.bc.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!mr(s=r.sent()))throw s;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function ko(t,e,n){var r=b(t),i=ut.min(),o=Lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=b(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,qn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Lt())})).next((function(t){return{documents:t,Fc:o}}))}))}function Co(t,e){var n=b(t),r=b(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Eo(t){var e=b(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=b(t),i=Pt(),o=vi(n),a=Oi(e),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:zi.readTimeIndex,range:s},(function(t,e){var n=di(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:gi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function So(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=b(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Oi(t),n=ut.min();return e.rs({index:zi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Io(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Jr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var To=function(){function t(){this.$c=new It(Ao.kc),this.Mc=new It(Ao.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Ao(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new Ao(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new A(new S([])),r=new Ao(n,t),i=new Ao(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new A(new S([])),n=new Ao(e,t),r=new Ao(e,t+1),i=Lt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new Ao(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Ao=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return A.i(t.key,e.key)||Y(t.jc,e.jc)},t.Oc=function(t,e){return Y(t.jc,e.jc)||A.i(t.key,e.key)},t}(),Po=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},xo=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Fr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Oo=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Fr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_("string"==typeof n.accessToken),new Po(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t),new Fr(t)},t}(),No=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Fr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new No(this.eu,this.nu))},t.prototype.Hc=function(t){t(Fr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Ro=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Lo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(_(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(_(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?l.UNKNOWN:kt(t.code);return new h(e,t.message||"")}(a);n=new Gt(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=Te(t,u.document.name),f=Ce(u.document.updateTime),d=new Sn({mapValue:{fields:u.document.fields}}),p=new Pn(c,f,d,{});n=new Ht(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var v=e.documentDelete,g=Te(t,v.document),y=v.readTime?Ce(v.readTime):ut.min(),b=new xn(g,y);n=new Ht([],v.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){var w=e.documentRemove,k=Te(t,w.document);n=new Ht([],w.removedTargetIds||[],k,null)}else{if(!("filter"in e))return m();var C=e.filter,E=new bt(C.count||0);n=new zt(C.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ce(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=xe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=gt(r)?{documents:Le(t,r)}:{query:Me(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=xe(this.serializer),e.removeTarget=t,this.du(e)},e}(Ro),Mo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(_(void 0!==e),t.map((function(t){return function(t,e){var n=Ce(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ce(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ce(t.commitTime);return this.listener.Du(n,e)}return _(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=xe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return De(e.serializer,t)}))};this.du(n)},e}(Ro),Fo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Uo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(v(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),jo=function(t,e,n,i,o){var a=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Xo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=b(t)).Yu.add(4),[4,qo(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Vo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Uo(n,i)};function Vo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Xo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=b(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,qo(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Ho(t,e){var n=b(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Qo(n)?Ko(n):la(n).uu()&&Go(n,e))}function zo(t,e){var n=b(t),r=la(n);n.Hu.delete(e),r.uu()&&Wo(n,e),0===n.Hu.size&&(r.uu()?r._u():Xo(n)&&n.th.set("Unknown"))}function Go(t,e){t.eh.Ie(e.targetId),la(t).Vu(e)}function Wo(t,e){t.eh.Ie(e),la(t).pu(e)}function Ko(t){t.eh=new Kt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),la(t).start(),t.th.Bu()}function Qo(t){return Xo(t)&&!la(t).cu()&&t.Hu.size>0}function Xo(t){return 0===b(t).Yu.size}function Yo(t){t.eh=void 0}function $o(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Go(t,e)})),[2]}))}))}function Jo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Yo(t),Qo(t)?(t.th.Qu(e),Ko(t)):t.th.set("Unknown"),[2]}))}))}function Zo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof Gt&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(a=o[i])?[4,t.Gu.nh(a,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(a),t.eh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ta(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ht?t.eh.be(e):e instanceof zt?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yo(t.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Wo(t,e);var r=new _t(n.target,e,1,n.sequenceNumber);Go(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ta(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ta(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!mr(e))throw e;return t.Yu.add(1),[4,qo(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return yo(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Vo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ea(t,e){return e().catch((function(n){return ta(t,n,e)}))}function na(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:e=b(t),n=ha(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Xo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,_o(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=ha(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,ta(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ra(e)&&ia(e),[2]}}))}))}function ra(t){return Xo(t)&&!ha(t).cu()&&t.zu.length>0}function ia(t){ha(t).start()}function oa(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return ha(t).Nu(),[2]}))}))}function aa(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=ha(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function sa(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=Yr.from(i,e,n),[4,ea(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,na(t)];case 2:return r.sent(),[2]}}))}))}function ua(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&ha(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),ha(t).lu(),[4,ea(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,na(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ra(t)&&ia(t),[2]}}))}))}function ca(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),e?(n.Yu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,qo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function la(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=b(t);return r.xu(),new Lo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:$o.bind(null,t),Tu:Jo.bind(null,t),yu:Zo.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Qo(t)?Ko(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Yo(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function ha(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=b(t);return r.xu(),new Mo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:oa.bind(null,t),Tu:ua.bind(null,t),Cu:aa.bind(null,t),Du:sa.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,na(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var fa=function(t){this.key=t},da=function(t){this.key=t},pa=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Lt(),this.Wt=Lt(),this._h=Xn(t),this.fh=new Ut(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new jt,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,a=i,s=!1,u=Ln(this.query)&&i.size===this.query.limit?i.last():null,c=Mn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof Pn?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ln(this.query)||Mn(this.query))for(;a.size>this.query.limit;){var l=Ln(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var a=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new Vt(this.query,t.fh,i,o,t.Wt,0===s,u,!1),Rh:a}:{Rh:a}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new jt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Lt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new da(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new fa(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Lt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Vt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),va=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ga=function(t){this.key=t,this.Vh=!1},ya=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new at((function(t){return Wn(t)}),Gn),this.Fh=new Map,this.xh=[],this.$h=new Ct(A.i),this.kh=new Map,this.Mh=new To,this.Oh={},this.Lh=new Map,this.Bh=eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function ma(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=za(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,bo(n.ju,qn(e))];case 2:return a=r.sent(),s=n.Sh.Oi(a.targetId),[4,_a(n,e,a.targetId,"current"===s)];case 3:i=r.sent(),n.Uh&&Ho(n.ph,a),r.label=4;case 4:return[2,i]}}))}))}function _a(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,ko(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.zt.get(e.targetId),s=e.view.yr(o,t.Uh,a),[2,(xa(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,n,i)},[4,ko(t.ju,e,!0)];case 1:return o=h.sent(),a=new pa(e,o.Fc),s=a.wh(o.documents),u=Bt.Zt(n,i&&"Offline"!==t.onlineState),c=a.yr(s,t.Uh,u),xa(t,n,c.Rh),l=new va(e,n,a),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}}))}))}function ba(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!Gn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),zo(n.ph,i.targetId),Aa(n,i.targetId)})).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Aa(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function wa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(_(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?_(r.Vh):t.se.size>0&&(_(r.Vh),r.Vh=!1))})),[4,Da(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ka(t,e,n){var r=b(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=b(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Lr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Ca(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=b(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(a=o&&o.key)?(s=(s=new Ct(A.i)).ot(a,new xn(a,ut.min())),u=Lt().add(a),c=new qt(ut.min(),new Map,new It(Y),s,u),[4,wa(i,c)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(a),i.kh.delete(e),Na(i),[3,4];case 2:return[4,wo(i.ju,e,!1).then((function(){return Aa(i,e,n)})).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Ea(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,go(n.ju,e)];case 2:return o=r.sent(),Ta(n,i,null),Ia(n,i),n.Sh.ki(i,"acknowledged"),[4,Da(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Sa(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=b(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return _(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),Ta(i,e,n),Ia(i,e),i.Sh.ki(e,"rejected",n),[4,Da(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Ta(t,e,n){var r=b(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function Aa(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||Pa(t,e)}))}function Pa(t,e){var n=t.$h.get(e);null!==n&&(zo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Na(t))}function xa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fa?(t.Mh.Da(o.key,e),Oa(t,o)):o instanceof da?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Pa(t,o.key)):m()}}function Oa(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),Na(t))}function Na(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new ga(e)),t.$h=t.$h.ot(e,n),Ho(t.ph,new _t(qn(Rn(e.path)),n,2,Ur.ai))}}function Da(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(u){switch(u.label){case 0:return i=b(t),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){s.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.zr(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!mr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)u=(s=a[o]).targetId,s.fromCache||(c=n.bc.get(u),l=c.rt(c.nt),n.bc=n.bc.ot(u,l));return[2]}}))}))}(i.ju,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ra(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=b(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(a){return r=a,i=n.persistence.mc(e),o=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],a=Lt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return o.kr(t,a).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),a)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Da(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function La(t,e){var n=b(t),r=n.kh.get(e);if(r&&r.Vh)return Lt().add(r.key);var i=Lt(),o=n.Fh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Nh.get(s[a]);i=i.kt(u.view.dh)}return i}function Ma(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ko((n=b(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&xa(n,e.targetId,o.Rh),o)]}}))}))}function Fa(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=b(t),r=b(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((o=b(t)).ju,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,na(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ta(o,e,i||null),Ia(o,e),function(t,e){b(b(t).Sr).Ko(e)}(o.ju,e)):m(),r.label=4;case 4:return[4,Da(o,a)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Ua(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return za(n=b(t)),Ga(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,ja(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,ca(n.ph,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)Ho(n.ph,s[a]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return Aa(n,e),wo(n.ju,e,!0)})),zo(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,ja(n,u)];case 5:return r.sent(),function(t){var e=b(t);e.kh.forEach((function(t,n){zo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new Ct(A.i)}(n),n.qh=!1,[4,ca(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function ja(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,d,p,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(c=void 0,(l=n.Fh.get(u=s[a]))&&0!==l.length?[4,bo(n.ju,qn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Ma(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Co(n.ju,u)];case 8:return v=r.sent(),[4,bo(n.ju,v)];case 9:return c=r.sent(),[4,_a(n,Va(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Va(t){return Dn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qa(t){var e=b(t);return b(b(e.ju).persistence).pi()}function Ba(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=b(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Eo(o.ju)];case 3:return a=r.sent(),s=qt.Xt(e,"current"===n),[4,Da(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,e,!0)];case 6:return r.sent(),Aa(o,e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function Ha(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=za(t)).qh)return[3,10];o=0,a=e,d.label=1;case 1:return o<a.length?i.Fh.has(s=a[o])?(p("SyncEngine","Adding an already active target "+s),[3,5]):[4,Co(i.ju,s)]:[3,6];case 2:return u=d.sent(),[4,bo(i.ju,u)];case 3:return c=d.sent(),[4,_a(i,Va(u),c.targetId,!1)];case 4:d.sent(),Ho(i.ph,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,wo(i.ju,t,!1).then((function(){zo(i.ph,t),Aa(i,t)})).catch(Io)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function za(t){var e=b(t);return e.ph.Gu.sh=wa.bind(null,e),e.ph.Gu.qe=La.bind(null,e),e.ph.Gu.nh=Ca.bind(null,e),e.Ch.yu=Dr.bind(null,e.bh),e.Ch.Wh=Rr.bind(null,e.bh),e}function Ga(t){var e=b(t);return e.ph.Gu.ih=Ea.bind(null,e),e.ph.Gu.rh=Sa.bind(null,e),e}var Wa=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(a){var s=i.Yh(e,a);return(Ln(e)||Mn(e))&&i.Eh(e.an,s,r,n)?i.Hh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(e)),i.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new It(Xn(t));return e.forEach((function(e,r){r instanceof Pn&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(e)),this.zh.Lr(t,e,ut.min())},t}(),Ka=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new It(Ao.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new Xr(i,e,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Xh=this.Xh.add(new Ao(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new Ao(e,0),i=new Ao(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new It(Y);return e.forEach((function(t){var e=new Ao(t,0),i=new Ao(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Ao(new A(i),0),a=new It(Y);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.jc)),!0)}),o),pr.resolve(this.el(a))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;_(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var o=new Ao(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Ao(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Qa=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Ct(A.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=xt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=Nt(),i=new A(e.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.value,u=s.ta,c=s.readTime;if(!e.path.T(a.key.path))break;c.L(n)<=0||u instanceof Pn&&Qn(e,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Xa(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Xa=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}($r),Ya=function(){function t(t){this.persistence=t,this.rl=new at((function(t){return pt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new To,this.targetCount=0,this.cl=eo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new eo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),$a=function(){function t(t){var e=this;this.ul={},this.Ma=new Ur(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Ya(this),this.Dr=new Ri,this.vr=function(t,n){return new Qa(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Ka(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Ja(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Ja=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Zr),Za=function(){function t(t){this.persistence=t,this.dl=new To,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw m()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=A.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ts=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),es={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ns=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);a.send(e,"POST",u,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,d=new ts({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(s.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),v(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),v(s.WebChannel.EventType.ERROR,(function(t){f||(f=!0,g("Connection","WebChannel transport errored:",t),d.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),v(s.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=yt[t];if(void 0!==e)return kt(e)}(i),a=r.message;void 0===o&&(o=l.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,a)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw g("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+es[t]},t}()),rs=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),is=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function os(t){return new ge(t,!0)}var as="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ss=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Wa,new vo(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,as);return new $a(Za.ml)},t.prototype.Ll=function(t){return new Qr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,as)},t}(),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Kr?(this.Sh.fi={er:Fa.bind(null,n),nr:Ba.bind(null,n),sr:Ha.bind(null,n),pi:qa.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Ua(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Er();if(!Kr.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(t.bl.U,t.bl.persistenceKey);return new Kr(e,t.cs,n,t.clientId,t.Wl)}return new Qr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,So(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Ga(this.Kl.fi)];case 4:return n.sent(),[4,na(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new ai(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=po(t.bl.U,t.bl.persistenceKey),n=os(t.bl.U);return new uo(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Er(),Sr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Qr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return vr.Ln()?[4,vr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(po(t,e))},e}(ss)),cs=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return ka(n.fi,t,1)},this.ph.Gu.Jl=Ra.bind(null,this.fi),[4,ca(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new xr},t.prototype.Gl=function(t){var e=os(t.bl.U),n=new ns(t.bl);return function(t,e,n){return new Fo(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,o,a=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return ka(a.fi,t,0)},o=rs.Ln()?new rs:new is,new jo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,a){var s=new ya(t,e,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Bo(this.ph)},t}(),ls=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),hs=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(D("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new T(t)},fs=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(T.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(hs),ds=new RegExp("[~\\*/\\[\\]]"),ps=function(t){this.e_=t},vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ps);function gs(t,e,n){return new As({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new sn(t.path,new $e)},e.prototype.isEqual=function(t){return t instanceof e},e}(ps),ms=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=gs(this,t,!0),n=this.a_.map((function(t){return Rs(t,e)})),r=new Je(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),_s=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=gs(this,t,!0),n=this.a_.map((function(t){return Rs(t,e)})),r=new tn(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ps),bs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,_e(t.serializer,this.c_));return new sn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ps),ws=function(){function t(t,e){if(x("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Y(this.u_,t.u_)||Y(this.h_,t.h_)},t}(),ks=function(t){this.l_=t},Cs=/^__.*__$/,Es=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Ss=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new mn(t,this.data,this.We,e):new yn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new bn(t,this.fieldTransforms)),n},t}(),Is=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new mn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new bn(t,this.fieldTransforms)),n},t}();function Ts(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var As=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Vs(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ts(this.s_)&&Cs.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Ps=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||os(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new As({s_:t,methodName:e,r_:n,path:T.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function xs(t,e,n,r,i,o){void 0===o&&(o={});var a=t.P_(o.merge||o.mergeFields?2:0,e,n,i);Fs("Data must be an object, but it was:",a,r);var s,u,c=Ls(r,a);if(o.merge)s=new an(a.We),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var v=p[d],g=void 0;if(v instanceof hs)g=v.t_;else{if("string"!=typeof v)throw m();g=js(e,v,n)}if(!a.contains(g))throw new h(l.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");qs(f,g)||f.push(g)}s=new an(f),u=a.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,u=a.fieldTransforms;return new Ss(new Sn(c),s,u)}function Os(t,e,n,r){var i=t.P_(1,e,n);Fs("Data must be an object, but it was:",i,r);var o=[],a=new In;k(r,(function(t,r){var s=js(e,t,n),u=i.A_(s);if(r instanceof vs||r instanceof ks&&r.l_ instanceof vs)o.push(s);else{var c=Rs(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new an(o);return new Is(a.Xe(),s,i.fieldTransforms)}function Ns(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[Us(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Us(e,o[c])),u.push(o[c+1]);for(var f=[],d=new In,p=s.length-1;p>=0;--p)if(!qs(f,s[p])){var v=s[p],g=u[p],y=a.A_(v);if(g instanceof vs||g instanceof ks&&g.l_ instanceof vs)f.push(v);else{var m=Rs(g,y);null!=m&&(f.push(v),d.set(v,m))}}var _=new an(f);return new Is(d.Xe(),_,a.fieldTransforms)}function Ds(t,e,n,r){return void 0===r&&(r=!1),Rs(n,t.P_(r?4:3,e))}function Rs(t,e){if(t instanceof ks&&(t=t.l_),Ms(t))return Fs("Unsupported field value:",e,t),Ls(t,e);if(t instanceof ps)return function(t,e){if(!Ts(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Rs(o[i],e.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=st.fromDate(t);return{timestampValue:be(e.serializer,n)}}if(t instanceof st){var r=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:be(e.serializer,r)}}if(t instanceof ws)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Es){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ee(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+q(t))}(t,e)}function Ls(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.We.push(e.path):k(t,(function(t,r){var i=Rs(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ms(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ws||t instanceof tt||t instanceof Es||t instanceof ps)}function Fs(t,e,n){if(!Ms(n)||!V(n)){var r=q(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Us(t,e,n){if(e instanceof hs)return e.t_;if("string"==typeof e)return js(t,e);throw Vs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function js(t,e,n){try{return function(t){if(t.search(ds)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fs.bind.apply(fs,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Vs((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Vs(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(s+=". ")+t+u)}function qs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Bs=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=xe(n.serializer)+"/documents",o={documents:e.map((function(t){return Ie(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_(!!e.found);var n=Te(t,e.found.name),r=Ce(e.found.updateTime),i=new Sn({mapValue:{fields:e.found.fields}});return new Pn(n,r,i,{})}(t,e):"missing"in e?function(t,e){_(!!e.missing),_(!!e.readTime);var n=Te(t,e.missing),r=Ce(e.readTime);return new xn(n,r)}(t,e):m()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());_(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof xn||t instanceof Pn?n.D_(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Cn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new En(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(t),i=xe(n.serializer)+"/documents",o={writes:e.map((function(t){return De(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof Pn)e=t.version;else{if(!(t instanceof xn))throw m();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?cn.updateTime(e):cn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Hs=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Bs(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),zs=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=X.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var a=new fr,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=b(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Xo(n),n.Yu.add(3),[4,qo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=b(t);return e.Yu.delete(0),Vo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return c.sent(),[4,e.initialize(t,a)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=ma.bind(null,this.fi),this.q_.js=ba.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new ss,new cs,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=b(t)).Yu.add(0),[4,qo(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Bo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Ar(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Xo((n=b(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=b(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return a=r.sent(),s=Ar(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new ls(n),o=new Mr(t,i,e);return this.cs.ws((function(){return Or(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Nr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=b(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof Pn?n.resolve(i):i instanceof xn?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=Ar(o,"Failed to get document '"+e+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ls({next:function(o){e.ws((function(){return Nr(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Mr(Rn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Or(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ko(t,e,!0)];case 1:return i=r.sent(),o=new pa(e,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return u=r.sent(),c=Ar(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ls({next:function(n){e.ws((function(){return Nr(t,a)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Mr(n,o,{includeMetadataChanges:!0,Xs:!0});return Or(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Ga(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=b(t),i=st.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=pn(c,n.get(c.key));null!=l&&a.push(new mn(c.key,l,Tn(l.proto.mapValue),cn.exists(!0)))}return r.Sr.ko(t,i,a,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new Ct(Y)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,Da(i,o.wr)];case 3:return r.sent(),[4,na(i.ph)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Ar(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new ls(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){b(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){b(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Hs(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function Gs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ws=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(se(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw m()}},t.prototype.if=function(t){var e=this,n={};return k(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new ws(ae(t.latitude),ae(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Yt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_($t(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new st(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=S.g(t);_(We(e));var n=new ot(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ks=oi.ho,Qs=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(H("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),M("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(t.cacheSizeBytes!==Ks&&t.cacheSizeBytes<oi.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,M("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xs=function(){function t(e,n,i,o){var a=this;if(void 0===i&&(i=new ss),void 0===o&&(o=new cs),this.rf=i,this.af=o,this.cf=null,this.uf=new Tr,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new Oo(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new xo}this.wf=new Qs({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ps(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){x("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Qs(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new xo;switch(t.type){case"gapi":var e=t.client;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Do(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),Gs(t)?this.lf.G_(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new ss,new cs,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new zs(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return x("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.hf(),new lu(S.g(t),this,null)},t.prototype.doc=function(t){return x("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.hf(),Js.Rf(S.g(t),this,null)},t.prototype.collectionGroup=function(t){if(x("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new uu(function(t){return new Nn(S.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return x("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Ys(e,n))}))},t.prototype.batch=function(){return this.hf(),new $s(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){x("Firestore.setLogLevel",arguments,1),U("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Ys=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;x("Transaction.get",arguments,1);var n=pu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof xn)return new tu(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Pn)return new tu(e.yf,n.f_,r,!1,!1,n.d_);throw m()}))},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=pu("Transaction.set",t,this.yf);n=hu("Transaction.set",n);var i=gu(r.d_,e,n),o=xs(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof fs?(O("Transaction.update",arguments,3),r=pu("Transaction.update",t,this.yf),i=Ns(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(x("Transaction.update",arguments,2),r=pu("Transaction.update",t,this.yf),i=Os(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){x("Transaction.delete",arguments,1);var e=pu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),$s=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.vf();var r=pu("WriteBatch.set",t,this.yf);n=hu("WriteBatch.set",n);var i=gu(r.d_,e,n),o=xs(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,cn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof e||e instanceof fs?(O("WriteBatch.update",arguments,3),r=pu("WriteBatch.update",t,this.yf),i=Ns(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(x("WriteBatch.update",arguments,2),r=pu("WriteBatch.update",t,this.yf),i=Os(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,cn.exists(!0))),this},t.prototype.delete=function(t){x("WriteBatch.delete",arguments,1),this.vf();var e=pu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Cn(e.f_,cn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(x("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.g(t);return new lu(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2),e=hu("DocumentReference.set",e);var n=gu(this.d_,t,e),r=xs(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,cn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fs?(O("DocumentReference.update",arguments,2),n=Ns(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(x("DocumentReference.update",arguments,1),n=Os(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,cn.exists(!0)))},e.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this.lf.write([new Cn(this.f_,cn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];N("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gs(i[s])||(H("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Gs(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else D("DocumentReference.onSnapshot","function",s,i[s]),R("DocumentReference.onSnapshot","function",s+1,i[s+1]),R("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Sf(t))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Rn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;N("DocumentReference.get",arguments,0,1),du("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new tu(e.firestore,e.f_,t,!0,t instanceof Pn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new tu(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Es),Zs=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tu=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(N("DocumentSnapshot.data",arguments,0,1),t=fu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new eu(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ws(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Js(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(N("DocumentSnapshot.get",arguments,1,2),e=fu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Us("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Ws(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Js(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Js(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Zs(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tu);function nu(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(a,o);for(var u=[],c=0,f=a;c<f.length;c++)u.push(iu(r,t,f[c]));s={arrayValue:{values:u}}}else s=iu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(a,o),s=Ds(n,e,a,"in"===o||"not-in"===o);var d=Yn.create(i,o,s);return function(t,e){if(e.hn()){var n=Un(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Fn(t);null!==r&&au(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function ru(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===Fn(t)){var n=Un(t);null!==n&&au(0,n,e.field)}}(t,r),r}function iu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jn(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(S.g(n));if(!A.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new A(r))}if(n instanceof Es)return ue(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function ou(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function au(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function su(t){if(Mn(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){x("Query.where",arguments,3),B("Query.where",3,r);var i=U("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Us("Query.where",e),a=nu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Nn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Us("Query.orderBy",e),o=ru(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new Nn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return x("Query.limit",arguments,1),D("Query.limit","number",1,e),G("Query.limit",1,e),new t(Bn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return x("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(Bn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(zn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&Gn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(B(t,1,e),e instanceof tu)return x(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vn(t);a<s.length;a++){var u=s[a];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if(Yt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jn(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(S.g(c));if(!A.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new A(f);s.push(ue(e,d))}else{var p=Ds(n,r,c);s.push(p)}}return new or(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];N("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Gs(i[s])||(H("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Gs(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else D("Query.onSnapshot","function",s,i[s]),R("Query.onSnapshot","function",s+1,i[s+1]),R("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new cu(r.firestore,r.Ff,t,r.d_))},error:i[s+1],complete:i[s+2]};return su(this.Ff),this.firestore.hf().listen(this.Ff,a,c)},t.prototype.get=function(t){var e=this;N("Query.get",arguments,0,1),du("Query.get",t),su(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new cu(e.firestore,e.Ff,t,e.d_)}))},t}(),cu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Zs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(H("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:vu(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Gn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new eu(this.yf,t.key,t,e,n,this.d_)},t}(),lu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Js(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=X.k()),D("CollectionReference.doc","non-empty string",1,t);var e=S.g(t);return Js.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){x("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;D("CollectionReference.add","object",1,e);var n=this.doc();return new Js(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(uu);function hu(t,e){if(void 0===e)return{merge:!1};if(H(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fs}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fu(t,e){return void 0===e?{}:(H(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function du(t,e){R(t,"object",1,e),e&&(H(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function pu(t,e,n){if(e instanceof Es){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function vu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function gu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){P("FieldValue.serverTimestamp",arguments);var t=new ys("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){P("FieldValue.delete",arguments);var t=new vs("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];O("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("arrayUnion()",arguments,1),new ms("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];O("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("arrayRemove()",arguments,1),new _s("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){D("FieldValue.increment","number",1,t),x("FieldValue.increment",arguments,1);var n=function(t){return new bs("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(ks),mu={Firestore:Xs,GeoPoint:ws,Timestamp:st,Blob:rt,Transaction:Ys,WriteBatch:$s,DocumentReference:Js,DocumentSnapshot:tu,Query:uu,QueryDocumentSnapshot:eu,QuerySnapshot:cu,CollectionReference:lu,FieldPath:fs,FieldValue:yu,setLogLevel:Xs.setLogLevel,CACHE_SIZE_UNLIMITED:Ks};function _u(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new cs,r=new us(n);return new Xs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}_u(c.default),e.__PRIVATE_registerFirestore=_u},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Pa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t,e,n){this.code=A+t,this.message=e||P[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var T,A="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}T=O("__EID__")?"__EID__":void 0,E(D,Error),D.prototype.name="CustomError",E(R,D),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new M((function(){return new q}),(function(t){t.reset()}));function V(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return st(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function _t(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt={},wt={},kt=new mt(wt,"");function Ct(t,e){this.a=t===Pt&&e||"",this.b=At}function Et(t){return t instanceof Ct&&t.constructor===Ct&&t.b===At?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=_t(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?_t(t):encodeURIComponent(String(t))})),new Ct(Pt,t)}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},Pt={};function xt(t,e){this.a=t===Lt&&e||"",this.b=Rt}function Ot(t){return t instanceof xt&&t.constructor===xt&&t.b===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}xt.prototype.sa=!0,xt.prototype.ra=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof xt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new xt(Lt,t))}var Rt={},Lt={};function Mt(){this.a="",this.b=Ut}function Ft(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function jt(t){var e=new Mt;return e.a=t,e}jt("<!DOCTYPE html>");var Vt=jt("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}jt("<br>"),Ht[" "]=h;var zt,Gt,Wt=ht("Opera"),Kt=ht("Trident")||ht("MSIE"),Qt=ht("Edge"),Xt=Qt||Kt,Yt=ht("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),$t=st(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(Gt=J,Yt?/rv:([^\);]+)(\)|;)/.exec(Gt):Qt?/Edge\/([\d\.]+)/.exec(Gt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):$t?/WebKit\/(\S+)/.exec(Gt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(te&&(Zt=te?te[1]:""),Kt){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){zt=String(ee);break t}}zt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(zt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ne=u.document&&Kt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var oe=!Kt||9<=Number(ne);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||v(o)&&0<o.nodeType?r(o):H(de(o)?$(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ve(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(me)}}else ce=function(){var t=me;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new Ct(Pt,_t(kt));yt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ft(Vt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),ge||(ce(),ge=!0),ye.add(t,e)}var ge=!1,ye=new U;function me(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}F(j,t)}ge=!1}function _e(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ne(n,we,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,ke,t)}))}catch(r){Ne(this,ke,r)}}var be=0,we=2,ke=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new M((function(){return new Ce}),(function(t){t.reset()}));function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,we,t),e}function Te(t){return new _e((function(e,n){n(t)}))}function Ae(t,e,n){De(t,e,n,null)||ve(k(e,t))}function Pe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],k(i,o,!0),k(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=we&&t.a!=ke||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Se(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,xe(t,i),i.a}function Ne(t,e,n){t.a==be&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=ke||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof _e)return xe(t,Se(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,ve(t.fc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ue.call(null,i)}F(Ee,e)}function Fe(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).na=function(t,e){return(t=Se(t,t,e)).c=!0,xe(this,t),this},t.s=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new je(t);ve((function(){!function t(e,n){if(e.a==be)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==be&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Le(r),Me(r,o,ke,n)))}e.c=null}else Ne(e,ke,n)}(this,e)}),this)}},t.Zc=function(t){this.a=be,Ne(this,we,t)},t.$c=function(t){this.a=be,Ne(this,ke,t)},t.fc=function(){for(var t;t=Le(this);)Me(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){D.call(this,t)}function Ve(){0!=qe&&(Be[g(this)]=this),this.xa=this.xa,this.oa=this.oa}E(je,D),je.prototype.name="cancel";var qe=0,Be={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Kt||9<=Number(ne),We=Kt&&!ie("9"),Ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,Qe);var Ye=ze({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Je,this.va=this.Oa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?bn(t,e,n,v(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?wn(t,e,n,v(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=mn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&hn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Xe(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){Ve.call(this),this.v=new en(this),this.$b=this,this.fb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&nn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function En(t){var e=null;return new _e((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function Sn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(_n,Ve),_n.prototype[$e]=!0,_n.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Tn.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,Nn(this,t.f),this.l=t.l,this.a=t.a,Dn(this,t.g),this.c=t.c,Rn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Dn(this,n[4]),this.c=jn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Nn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Vn(e,Gn)),t.b=new Kn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Fn(t){return t instanceof On?new On(t):new On(t,void 0)}function Un(t,e,n,r){var i=new On(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.c=r),i}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Vn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Vn(n,Wn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Nn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Dn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Wn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Qn(t),e=tr(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function $n(t,e){return Qn(t),e=tr(t,e),Pn(t.a.b,e)}function Jn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),$(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Kn.prototype).add=function(t,e){Qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,$n(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function ar(){var t=Er();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function sr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||u.window;var n="about:blank";t&&(n=Ot(Dt(t))),e.location.href=n}function cr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),wr(Er())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Dt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(a=fe(document,"A"),"HTMLAnchorElement"),e instanceof xt||e instanceof xt||(e="object"==typeof e&&e.sa?e.ra():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new xt(Lt,e)),a.href=Ot(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Ot(e),a&&(Xt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=a.document)&&(r.write(Ft(t)),r.close())):(a=r.open(Ot(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new _e((function(e){"complete"==u.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).s((function(e){throw ln(window,"load",t),e}))}function vr(t){return t=t||Er(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function mr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var t=mr();return"ReactNative"===t||"Node"===t}var br="Firefox";function wr(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?br:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var kr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=mr())?r=wr(i=Er()):"Worker"===r&&(r=wr(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return u.navigator&&u.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=u.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!u.indexedDB}catch(n){return yr()&&!!u.indexedDB}return!1}function Tr(){return(Ar()||"chrome-extension:"===Pr()||vr())&&!_r()&&Ir()&&!yr()}function Ar(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return u.location&&u.location.protocol||null}function xr(t){return!cr(t=t||Er())&&wr(t)!=br}function Or(t){return void 0===t?null:er(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=wr(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=mr(),this.b=cr(t)||"ReactNative"===e}function Ur(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Sr("fireauth.oauthhelper",u)&&!Sr("fireauth.iframe",u))}Fr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,jr(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Gr.abcd}catch(Gt){Br=!1}function Wr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return Kr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function Yr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ti]),Wr(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function $r(t){try{var e=new ni(t)}catch(n){e=null}return e}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Yr.call(this,t),Wr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=$r(t[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Wr(this,gi,i),Wr(this,vi,Xr(e))}E(ni,Yr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",vi="data",gi="operation";function yi(t){var e=Mn(t=Fn(t),mi)||null,n=Mn(t,_i)||null,r=Mn(t,ki)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new S("argument-error",mi+", "+_i+"and "+ki+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,bi)||null,languageCode:Mn(t,wi)||null,tenantId:Mn(t,Ci)||null})}var mi="apiKey",_i="oobCode",bi="continueUrl",wi="languageCode",ki="mode",Ci="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new yi(t)}catch(e){return null}}function Ii(t){var e=t[Oi];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Ri];var r=n[Ni];if(n=n[Di],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new S("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",Ai="dynamicLinkDomain",Pi="handleCodeInApp",xi="iOS",Oi="url",Ni="installApp",Di="minimumVersion",Ri="packageName",Li="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=Vi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ji(t){try{return new Ui(t)}catch(e){return null}}function Vi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Hi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Bi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Bi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Bi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Gi(t){var e={};e["facebook.com"]=Yi,e["google.com"]=Ji,e["github.com"]=$i,e["twitter.com"]=Zi;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Qi(t)}catch(r){}return null}var Wi="idToken",Ki="providerId";function Qi(t){var e=t[Ki];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Xi(t){Qi.call(this,t),Wr(this,"profile",Xr((t=Dr(t.rawUserInfo||"{}"))||{}))}function Yi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Fn(t),n=Mn(e,"link"),r=Mn(Fn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Fn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}E(Xi,Qi),E(Yi,Xi),E($i,Xi),E(Ji,Xi),E(Zi,Xi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Ga]){var n=ji(t[Ga]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t}))}function ao(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Pc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(zi(t)||{}).Ja||null,this.nb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function vo(t){fo.call(this,t,Bi),this.a=[]}function go(){vo.call(this,"facebook.com")}function yo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function mo(){vo.call(this,"github.com")}function _o(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function bo(){vo.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new bo).credential({idToken:n,accessToken:e})}function ko(){fo.call(this,"twitter.com",qi)}function Co(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=Ao(e)))throw new S("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Si(t=to(t)))&&t.operation===oi?t:null}function Po(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new S("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function xo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Po(e)}return null}function Oo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function No(t){try{this.a=t||e.auth()}catch(n){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Do(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Po({cb:t,bb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return yo(n);case"github.com":return _o(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ao(e,a):new co(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Lo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Ie(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ja=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},ao.prototype.ja=function(t){return fs(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,ds(t,n)},ao.prototype.c=function(t,e){return oo(ps(t,so(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ja=function(t){return fs(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ds(t,n)},co.prototype.c=function(t,e){return oo(ps(t,lo(this)),e)},co.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Hb=pt(t),this},E(po,fo),E(vo,fo),vo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},vo.prototype.Pb=function(){return $(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},E(go,vo),Wr(go,"PROVIDER_ID","facebook.com"),Wr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mo,vo),Wr(mo,"PROVIDER_ID","github.com"),Wr(mo,"GITHUB_SIGN_IN_METHOD","github.com"),E(bo,vo),Wr(bo,"PROVIDER_ID","google.com"),Wr(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(ko,fo),Wr(ko,"PROVIDER_ID","twitter.com"),Wr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ja=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,ks,{email:this.a,oobCode:this.f}):Xs(t,zs,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,Cs,{idToken:e,email:this.a,oobCode:this.f}):Xs(t,Ms,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return oo(this.ja(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(Io,{PROVIDER_ID:"password"}),Kr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ja=function(t){return t.eb(Oo(this))},Po.prototype.b=function(t,e){var n=Oo(this);return n.idToken=e,Xs(t,Ws,n)},Po.prototype.c=function(t,e){var n=Oo(this);return n.operation="REAUTH",oo(t=Xs(t,Ks,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.eb=function(t,e){var n=this.a.a;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return Xs(t,Us,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return Xs(t,js,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Xs(t,Rs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(No,{PROVIDER_ID:"phone"}),Kr(No,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.S=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,Vo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Bo(t,e,n){S.call(this,t,n),(t=e||{}).Ib&&Wr(this,"email",t.Ib),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Yb&&Wr(this,"tenantId",t.Yb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Ro(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function zo(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Yo(t,e,n){this.reset(t,e,n,void 0,void 0)}function $o(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}E(qo,S),E(Bo,S),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,E(Go,zo),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Go,E(Ko,zo),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),ta=new Jo("WARNING",900),ea=new Jo("CONFIG",700),na=new Jo("FINE",500);$o.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ra={},ia=null;function oa(t){var e;if(ia||(ia=new $o(""),ra[""]=ia,ia.c=ea),!(e=ra[t])){e=new $o(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ra[t]=e}return e}function aa(t,e){t&&t.log(na,e,void 0)}function sa(t){this.f=t}function ua(t){_n.call(this),this.o=t,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=oa("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(sa,zo),sa.prototype.a=function(){return new ua(this.f)},sa.prototype.b=function(t){return function(){return t}}({}),E(ua,_n);var ca=0;function la(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ha(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fa(t)}function fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function da(t){_n.call(this),this.headers=new Tn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=pa,this.u=this.R=!1}(t=ua.prototype).open=function(t,e){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,fa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ha(this,!1)),this.readyState=ca},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fa(this)),this.a&&(this.readyState=3,fa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,la(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ha(this,!0):fa(this),3==this.readyState&&la(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ha(this,!0))},t.rc=function(t){this.a&&(this.response=t,ha(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(ta,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ha(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ta,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ta,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(da,_n);var pa="";da.prototype.b=oa("goog.net.XhrIo");var va=/^https?$/i,ga=["POST","PUT"];function ya(t){return"content-type"==t.toLowerCase()}function ma(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_a(t),wa(t)}function _a(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ba(t){if(t.c&&void 0!==s)if(t.A[1]&&4==Ca(t)&&2==Ea(t))aa(t.b,Sa(t,"Local request error detected and ignored"));else if(t.i&&4==Ca(t))Cn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ca(t)){aa(t.b,Sa(t,"Request complete")),t.c=!1;try{var e,n=Ea(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!va.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ca(t)?t.a.statusText:""}catch(l){aa(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ea(t)+"]",_a(t)}}finally{wa(t)}}}function wa(t,e){if(t.a){ka(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ka(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Ca(t){return t.a?t.a.readyState:0}function Ea(t){try{return 2<Ca(t)?t.a.status:-1}catch(e){return-1}}function Sa(t,e){return e+" ["+t.P+" "+t.l+" "+Ea(t)+"]"}function Ia(t){var e=Fa;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(t,e,n){t.a=!0,t.c=n,t.f=!e,Oa(t)}function Aa(t){if(t.a){if(!t.m)throw new Na(t);t.m=!1}}function Pa(t,e,n,r){t.g.push([e,n,r]),t.a&&Oa(t)}function xa(t){return W(t.g,(function(t){return p(t[1])}))}function Oa(t){if(t.h&&t.a&&xa(t)){var e=t.h,n=La[e];n&&(u.clearTimeout(n.a),delete La[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,xa(t)||(n=!0)}}t.c=e,r&&(s=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Ia?(Pa(e,s,r),e.A=!0):e.then(s,r)),n&&(e=new Ra(e),La[e.a]=e,t.h=e.a)}function Na(){D.call(this)}function Da(){D.call(this)}function Ra(t){this.a=u.setTimeout(w(this.c,this),0),this.b=t}(t=da.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",aa(this.b,Sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(aa(this.b,Sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wa(this,!0)),da.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ba(this):this.Ic())},t.Ic=function(){ba(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return aa(this.b,"Can not get response: "+e.message),null}},Ia.prototype.cancel=function(t){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Da(this),Aa(this),Ta(this,!1,t))}},Ia.prototype.v=function(t,e){this.i=!1,Ta(this,t,e)},Ia.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Pa(this,r,(function(t){t instanceof Da?o.cancel():i(t)})),o.then(t,e,n)},Ia.prototype.$goog_Thenable=!0,E(Na,D),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",E(Da,D),Da.prototype.message="Deferred was canceled",Da.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete La[this.a],this.b};var La={};function Ma(t){var e={},n=e.document||document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Ia(o),s=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(s=window.setTimeout((function(){Ua(i,!0);var t=new qa(Va,"Timeout reached for loading script "+r);Aa(a),Ta(a,!1,t)}),h),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ua(i,e.wd||!1,s),Aa(a),Ta(a,!0,null))},i.onerror=function(){Ua(i,!0,s);var t=new qa(ja,"Error while loading script "+r);Aa(a),Ta(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Et(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Fa(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ua(t,!0,this.Ma)}}function Ua(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var ja=0,Va=1;function qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ba(t){this.f=t}function Ha(t,n,r){if(this.c=t,this.l=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Wa,this.g=pt(t.secureTokenHeaders||Ka),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Qa,this.a=pt(t.firebaseHeaders||Xa),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==mr(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!yr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new sa(self):_r()?new Ba(r):new Ko,this.b=null}E(qa,D),E(Ba,zo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var za,Ga="idToken",Wa=new Fr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Fr(3e4,6e4),Xa={"Content-Type":"application/json"};function Ya(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function $a(t,e){e&&(t.l=Ja("https://securetoken.googleapis.com/v1/token",e),t.h=Ja("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ja("https://identitytoolkit.googleapis.com/v2/",e))}function Ja(t,e){return t=Fn(t),e=Fn(e.url),t.c=t.a+t.c,Nn(t,e.f),t.a=e.a,Dn(t,e.g),t.toString()}function Za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ts(t,e,n,r,i,o,a){(function(){var t=Er();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&ne&&!(9<ne))})()||yr()?t=w(t.u,t):(za||(za=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ns]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Pa(t,null,e,void 0)}(Ma(St(es,{onload:ns})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.o,t)),t(e,n,r,i,o,a)}Ha.prototype.S=function(){return this.b},Ha.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new da(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return aa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(a,"ready",(function(){s&&clearTimeout(s),He(this)})),wn(a,"timeout",(function(){s&&clearTimeout(s),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():jo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:jo),t.a.onreadystatechange=w(t.Ub,t);try{aa(t.b,Sa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return aa(t.b,Sa(t,"Error opening Xhr: "+a.message)),void ma(t,a)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=In(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ya,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!K(ga,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ka(t),0<t.g&&(t.u=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),aa(t.b,Sa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.o=Cn(t.Ma,t.g,t)),aa(t.b,Sa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){aa(t.b,Sa(t,"Send error: "+a.message)),ma(t,a)}}(a,t,n,r,i)};var es=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new S("invalid-email")}function is(t){"email"in t&&rs(t)}function os(t){if(!t[Ga]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,pt(t));throw new S("internal-error")}}function as(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ha.prototype.o=function(t,e,n,r,i){var o=this;za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.yb=function(){return Xs(this,Fs,{})},Ha.prototype.Ab=function(t,e){return Xs(this,Ls,{idToken:t,email:e})},Ha.prototype.Bb=function(t,e){return Xs(this,Ms,{idToken:t,password:e})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function us(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function cs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ls(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&$n(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function hs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=Ys(t.errorMessage)),e)throw e;os(t)}function fs(t,e){return e.returnIdpCredential=!0,Xs(t,Vs,e)}function ds(t,e){return e.returnIdpCredential=!0,Xs(t,Bs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xs(t,qs,e)}function vs(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ha.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(ss,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Xs(this,Ls,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Xs(this,xs,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xs(this,Ts,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xs(this,As,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xs(this,Ps,t)},t.eb=function(t){return Xs(this,Gs,t)},t.mb=function(t,e){return Xs(this,Ds,{oobCode:t,newPassword:e})},t.Qa=function(t){return Xs(this,ys,{oobCode:t})},t.ib=function(t){return Xs(this,gs,{oobCode:t})};var gs={endpoint:"setAccountInfo",B:vs,Z:"email",C:!0},ys={endpoint:"resetPassword",B:vs,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},ms={endpoint:"signupNewUser",B:function(t){if(rs(t),!t.password)throw new S("weak-password")},F:os,U:!0,C:!0},_s={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=f(t.deleteProvider))throw new S("internal-error")}},ks={endpoint:"emailLinkSignin",M:["email","oobCode"],B:rs,F:os,U:!0,C:!0},Cs={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:rs,F:os,U:!0},Es={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:us,F:os,C:!0,Na:!0},Ss={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:us,F:os,C:!0,Na:!0},Is={endpoint:"getAccountInfo"},Ts={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");rs(t)},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},Ps={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},xs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");rs(t)},Z:"email",C:!0},Os={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ns={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ds={endpoint:"resetPassword",B:vs,Z:"email",C:!0},Rs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:is,U:!0},Ms={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(is(t),!t.password)throw new S("weak-password")},F:os,U:!0},Fs={endpoint:"signupNewUser",F:os,U:!0,C:!0},Us={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Vs={endpoint:"verifyAssertion",B:cs,Xa:ls,F:hs,U:!0,C:!0},qs={endpoint:"verifyAssertion",B:cs,Xa:ls,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Ys(t.errorMessage);os(t)},U:!0,C:!0},Bs={endpoint:"verifyAssertion",B:function(t){if(cs(t),!t.idToken)throw new S("internal-error")},Xa:ls,F:hs,U:!0},Hs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new S("invalid-custom-token")},F:os,U:!0,C:!0},zs={endpoint:"verifyPassword",B:function(t){if(rs(t),!t.password)throw new S("wrong-password")},F:os,U:!0,C:!0},Gs={endpoint:"verifyPhoneNumber",B:as,F:os,C:!0},Ws={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new S("internal-error");as(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);os(t)}},Ks={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:as,F:os,C:!0},Qs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ga]^!!t.refreshToken)throw new S("internal-error")},C:!0,Na:!0};function Xs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new S("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ie(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Fn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",C().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new _e((function(e,n){ts(t,s.toString(),(function(t){t?t.error?n($s(t,o||{})):e(t):n(new S("network-request-failed"))}),r,u?void 0:er(Nr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function Ys(t){return $s({error:{errors:[{message:t}],code:400,message:t}})}function $s(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Or(t)),new S("internal-error",e)}function Js(t){this.b=t,this.a=null,this.qb=function(t){return(nu||(nu=new _e((function(t,e){function n(){Mr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:tu.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Ie(Ma(r=St(Zs,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw nu=null,t})))).then((function(){return new _e((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zs=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Fr(3e4,6e4),eu=new Fr(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Fn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function au(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function su(t){var e=sr();return function(t){return Xs(t,Os,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new qo(sr())}))}function uu(t){return t.v||(t.v=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ou(t.b),i=new ru(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.m=new Js(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.v}function cu(t){return t.l||(t.A=t.c?Cr(t.c,ou(t.b)):null,t.l=new Ha(t.g,O(t.i),t.A),t.f&&$a(t.l,t.f)),t.l}function lu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=pt(u||null),t.f=c,t.xb(l).toString()}function hu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=w(this.c,this)}ru.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},iu.prototype.xb=function(t){return this.h=t,this},iu.prototype.toString=function(){if(this.m){var t=Fn(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.o),Ln(t,"appName",this.c),Ln(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Ln(t,"providerId",this.a.providerId),n=Nr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),dt(n)||Ln(t,"customParameters",Or(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Ln(t,"scopes",r.join(",")),this.l?Ln(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Yn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Yn(t.b,"eid"),(s=ou(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=au.prototype).Nb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return uu(t).then((function(){return function(t,e){return t.qb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new _e((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return En(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Er();return!xr(t)&&!Lr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Te(new S("popup-blocked"));if(a&&!xr())return this.la().s((function(e){lr(t),i(e)})),r(),Ie();this.a||(this.a=su(cu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){Lo(n),a||ur(lu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=su(cu(this)));var i=this;return this.a.then((function(){Lo(e),ur(lu(i.o,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return uu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new S("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){X(this.h,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,Or(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,pu=[];function vu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function mu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _u(t,c),e})).s((function(e){throw _u(t,c),e}))}function _u(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,(function(t){return t==e}))}}function bu(){if(!ku())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;yr()&&self?(this.l=function(){var t=yr()?self:null;if(H(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new fu(t);pu.push(e)}return e}(),vu(this.l,"keyChanged",(function(e,n){return Tu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),vu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new yu(new gu(e)),mu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function wu(t){return t.v||(t.v=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.v}function ku(){try{return!!u.indexedDB}catch(Gt){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Eu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Iu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?mu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Ie()}function Tu(t){return wu(t).then((function(t){var e=Cu(Eu(t,!1));return e.getAll?Su(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(ku()){var t=Rr(),r="__sak"+t;return du||(du=new bu),(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function xu(){this.a={},this.type="inMemory"}function Ou(){if(!function(){var t="Node"==mr();if(!(t=Nu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==mr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Nu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Nu(){try{var t=u.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Du(){this.type="nullStorage"}function Ru(){if(!function(){var t="Node"==mr();if(!(t=Lu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==mr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Lu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=u.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Mu(){var t={};t.Browser=ju,t.Node=Vu,t.ReactNative=qu,t.Worker=Bu,this.a=t[mr()]}fu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(t,e){var n,r=!1,i=this;return wu(this).then((function(e){return Su((e=Cu(Eu(n=e,!0))).get(t))})).then((function(o){var a=Cu(Eu(n,!0));return o?(o.value=e,Su(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Su(a.add(o)))})).then((function(){return i.c[t]=e,Iu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return wu(this).then((function(e){return Su(Cu(Eu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return wu(this).then((function(r){return e=!0,n.b++,Su(Cu(Eu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Iu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.i=Tu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Pu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t}))},(t=xu.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Ou.prototype).get=function(t){var e=this;return Ie().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&sn(u.window,"storage",t)},t.ia=function(t){u.window&&ln(u.window,"storage",t)},(t=Du.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return Ie().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Or(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fu,Uu,ju={D:Ou,ab:Ru},Vu={D:Ou,ab:Ru},qu={D:hu,ab:Du},Bu={D:Ou,ab:Du},Hu={qd:"local",NONE:"none",sd:"session"};function zu(){var t=!(Lr(Er())||!gr()),e=xr(),n=Ir();this.v=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new Mu),t=Fu;try{this.g=!ar()&&qr()||!u.indexedDB?new t.a.D:new Pu(yr()?new xu:new t.a.D)}catch(r){this.g=new xu,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new xu}this.m=new xu,this.f=w(this.Xb,this),this.b={}}function Gu(){return Uu||(Uu=new zu),Uu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Ku(e,n),"local"==e.D&&(t.b[n]=null),Wu(t,e.D).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=Gu()}(t=zu.prototype).get=function(t,e){return Wu(this,t.D).get(Ku(t,e))},t.set=function(t,e,n){var r=Ku(t,n),i=this,o=Wu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ku(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&(Wu(this,"local").ca(this.f),this.h||(ar()||!qr())&&u.indexedDB||!this.l||function(t){Xu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Wu(this,"local").ia(this.f),Xu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ia(this.f):Xu(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Kt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var $u,Ju={name:"authEvent",D:"local"};function Zu(){this.a=Gu()}function tc(t,e){this.b=ec,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=u.Int32Array?new Int32Array(uc):uc),this.reset()}E(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=Y(128,rc);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|$u[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,lc)}E(cc,tc);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Zu,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new S("invalid-cordova-configuration",t)}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function pc(t){return t.f||(t.f=t.la().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),vc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Mn(o=Fn(i),"firebaseError")||null))?I(o):null)?new Mo(r.c,r.b,null,null,o,null,r.S()):new Mo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dc(t,i)}))}var n=new Mo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=En(500).then((function(){return vc(t).then((function(){r||dc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Vo||(Vo=new Uo),function(t){var e=Vo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function vc(t){var e=null;return function(t){return t.b.get(Ju,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,Qu((n=t.g).b,Ju,n.a)})).then((function(){return e}))}function gc(t){this.a=t,this.b=Gu()}(t=hc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?pr().then((function(){return new _e((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",u))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",u))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",u))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",u))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Nb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ie()},t.Lb=function(){return Te(new S("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Te(new S("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ie().then((function(){return Lo(e),pc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Mo(e,r,null,o,new S("no-auth-event"),null,i),s=Sr("BuildInfo.packageName",u);if("string"!=typeof s)throw new S("invalid-cordova-configuration");var c=Sr("BuildInfo.displayName",u),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Er().toLowerCase().match(/android/))return Te(new S("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;sc(e,oc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=lu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Ju,a.w(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){s=function(){var e=Sr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),l=function(){Ur()&&c()},o.addEventListener("resume",c=function(){a||(a=En(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return vc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null}))},t.Ea=function(t){this.b.push(t),pc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Ra=function(t){X(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",D:"session"};function mc(t){return Qu(t.b,yc,t.a)}function _c(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=w(this.o,this),this.b=new Rc,this.A=new jc,this.g=new gc(Nc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=bc(this.O,this.m,this.v,T,this.G)}function bc(t,n,r,i,o){var a=e.SDK_VERSION||null;return vr()?new hc(t,n,r,a,i,o):new au(t,n,r,a,i,o)}function wc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function kc(t){t.a.Wb()&&wc(t).s((function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.o(n)})),t.a.Sb()||Lc(t.b)}function Cc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?mc(t.g).then((function(){wc(t).s((function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.o(n)}))})):kc(t)})).s((function(){kc(t)}))}function Ec(t,e){X(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=bc(this.O,this.m,this.v,null,this.G),this.i={}},_c.prototype.o=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Lc(this.b),e};var Sc=new Fr(2e3,1e4),Ic=new Fr(3e4,6e4);function Tc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pc(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Ac(e))throw new S("operation-not-supported-in-this-environment");return o=e,mc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new _e((function(){})):mc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function xc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Sc.get())}_c.prototype.qa=function(){return this.b.qa()};var Oc={};function Nc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Dc(t,e,n,r){var i=Nc(e,n,r);return Oc[i]||(Oc[i]=new _c(t,e,n,r)),Oc[i]}function Rc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function jc(){}function Vc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function qc(t,e){this.a=e,Wr(this,"verificationId",t)}function Bc(t,e,n,r){return new No(t).eb(e,n).then((function(t){return new qc(t,r)}))}function Hc(t){var e=Vi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Wc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Gc]||[],(function(t){(t=$r(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Rc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Uc(t,s,e,null)})).s((function(e){Uc(t,s,null,e)}))}(this,t,e):Te(new S("invalid-auth-event")):(Uc(this,!1,null,null),Ie())}else Te(new S("invalid-auth-event"))},Rc.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=En(Ic.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Te(new S("invalid-auth-event"))}else Te(new S("invalid-auth-event"))},qc.prototype.confirm=function(t){return t=Do(this.verificationId,t),this.a(t)};var Gc="mfaInfo",Wc="mfaPendingCredential";function Kc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),Wr(this,"resolver",this.b)}function Qc(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Xc(){}function Yc(t){Wr(this,"factorId",t.fa),this.a=t}function $c(t){if(Yc.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jc(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function Zc(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),tl(this,n)}function tl(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function el(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nl(t){this.c=t,this.b=this.a=null}function rl(t){return t.b&&1e3*t.b.c||0}function il(t,e){var n=e.refreshToken;t.b=ji(e[Ga]||""),t.a=n}function ol(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function al(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function sl(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Cr(e.SDK_VERSION):null;this.a=new Ha(this.l,O(T),i),t.emulatorConfig&&$a(this.a,t.emulatorConfig),this.b=new nl(this.a),vl(this,n[Ga]),il(this.b,n),Wr(this,"refreshToken",this.b.a),ml(this,r||{}),_n.call(this),this.P=!1,this.o&&Tr()&&(this.i=Dc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new el((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=rl(t.b)-C()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){$a(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){ll(o,t.f)},this.aa=null,this.N=new Zc(this,r),Wr(this,"multiFactor",this.N)}function ul(t,e){t.ba&&ln(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&sn(e,"languageCodeChanged",t.Ba)}function cl(t,e){t.W&&ln(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&sn(e,"emulatorConfigChanged",t.za)}function ll(t,n){t.X=n,Za(t.a,e.SDK_VERSION?Cr(e.SDK_VERSION,t.X):null)}function hl(t,e){t.aa&&ln(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&sn(e,"frameworkChanged",t.Aa)}function fl(t){try{return e.app(t.m).auth()}catch(n){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function dl(t){t.A||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.$),sn(t,"tokenChanged",t.$))}function pl(t){ln(t,"tokenChanged",t.$),t.u.stop()}function vl(t,e){t.ya=e,Wr(t,"_lat",e)}function gl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Pe(e).then((function(){return t}))}function yl(t){t.i&&!t.P&&(t.P=!0,Cc(t.i,t))}function ml(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ol(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _l(){}function bl(t){return Ie().then((function(){if(t.A)throw new S("app-deleted")}))}function wl(t){return G(t.providerData,(function(t){return t.providerId}))}function kl(t,e){e&&(Cl(t,e.providerId),t.providerData.push(e))}function Cl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function El(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Sl(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new ol(t.a,t.b)}(e.metadata):new ol),H(e.providerData,(function(e){kl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Wr(t,"refreshToken",t.b.a),tl(t.N,e.N.b))}function Il(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Xs(t.a,Is,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||El(t,"isAnonymous",!1),e}))}))}function Tl(t,e){e[Ga]&&t.ya!=e[Ga]&&(il(t.b,e),t.dispatchEvent(new Jc("tokenChanged")),vl(t,e[Ga]),El(t,"refreshToken",t.b.a))}function Al(t,e){return Il(t).then((function(){if(K(wl(t),e))return gl(t).then((function(){throw new S("provider-already-linked")}))}))}function Pl(t,e,n){return Qr({user:t,credential:Ro(e),additionalUserInfo:e=Gi(e),operationType:n})}function xl(t,e){return Tl(t,e),t.reload().then((function(){return t}))}function Ol(t,n,r,i,o){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));if(t.f&&!o)return Te(t.f);var a=zi(r.providerId),s=Rr(t.uid+":::"),u=null;(!xr()||gr())&&t.o&&r.isOAuthProvider&&(u=lu(t.o,t.l,t.m,n,r,null,s,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Dl(t),!o)return t.I().then((function(){}))})).then((function(){return Tc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new _e((function(e,r){t.ma(n,null,new S("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=xc(t.i,t,n,c,s)}))})).then((function(t){return c&&lr(c),t?Qr(t):null})).s((function(t){throw c&&lr(c),t})),Rl(t,i,o)}function Nl(t,e,n,r,i){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));if(t.f&&!i)return Te(t.f);var o=null,a=Rr(t.uid+":::");return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,gl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fl,t.w(),e.a)),e})).then((function(){return Pc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return Ul(t.ha);throw o})).then((function(){if(o)throw o})),Rl(t,r,i)}function Dl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Rl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Te(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Jc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),fl(t),w(t.ic,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ga]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new sl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&kl(r,Qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Ml(t){this.a=t,this.b=Gu()}zc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[Gc],delete n[Wc],gt(n,t),e.g(n)}))},E(Kc,S),Xc.prototype.rb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Oo(t.a)}),Xs(e,Es,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(t.a)}),Xs(e,Ss,n)}))}(this,t,e)},E(Yc,Xc),E($c,Yc),E(Jc,Qe),(t=Zc.prototype).xc=function(t){tl(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=$r(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Tl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Xs(r,Qs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return tl(e,r),Tl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},el.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Ur()||!t?Ie():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},el.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rl(this)}},nl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new S("user-token-expired")):t||!this.b||C()>rl(this)-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ts(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r($s(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.v.get()):r(new S("internal-error"))}))}(t.c,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(sl,_n),sl.prototype.wa=function(t){this.pa=t,Ya(this.a,t)},sl.prototype.ka=function(){return this.pa},sl.prototype.Ga=function(){return $(this.X)},sl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(sl.prototype,"providerId","firebase"),(t=sl.prototype).reload=function(){var t=this;return Rl(this,bl(this).then((function(){return Il(t).then((function(){return gl(t)})).then(_l)})))},t.nc=function(t){return this.I(t).then((function(t){return new Hc(t)}))},t.I=function(t){var e=this;return Rl(this,bl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.ya&&(vl(e,t.accessToken),e.dispatchEvent(new Jc("tokenChanged"))),El(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");ml(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new al(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)kl(this,e[n]);El(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jc("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Rl(this,t.c(this.a,this.uid).then((function(t){return Tl(e,t),n=Pl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Rl(this,Al(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Pl(e,t,"link"),xl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Rl(this,Al(this,"phone").then((function(){return Bc(fl(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Rl(this,Ie().then((function(){return Bc(fl(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Rl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Tl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bl(this);var e=this;return Rl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Tl(e,t),El(e,"displayName",t.displayName||null),El(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),gl(e)})).then(_l))},t.bd=function(t){var e=this;return Rl(this,Il(this).then((function(n){return K(wl(e),t)?function(t,e,n){return Xs(t,ws,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(wl(e),(function(t){n[t]||Cl(e,t)})),n[No.PROVIDER_ID]||Wr(e,"phoneNumber",null),gl(e)})):gl(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Rl(this,this.I().then((function(e){return Xs(t.a,bs,{idToken:e})})).then((function(){t.dispatchEvent(new Jc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ul(t,null),cl(t,null),hl(t,null),t.G=[],t.A=!0,pl(t),Wr(t,"refreshToken",null),t.i&&Ec(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Ol(this,"linkViaPopup",t,(function(){return Al(e,t.providerId).then((function(){return gl(e)}))}),!1)},t.Mc=function(t){return Ol(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Ec=function(t){var e=this;return Nl(this,"linkViaRedirect",t,(function(){return Al(e,t.providerId)}),!1)},t.Nc=function(t){return Nl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,this.I().then((function(n){return ds(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Pl(i,t,"link"),xl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,Ie().then((function(){return oo(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Pl(i,t,"reauthenticate"),Tl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Rl(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Mi(new Ii(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Rl(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Mi(new Ii(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Rl(this,t=oo(Ie(t),n.uid).then((function(t){return e=Pl(n,t,"reauthenticate"),Tl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var Fl={name:"redirectUser",D:"session"};function Ul(t){return Qu(t.b,Fl,t.a)}function jl(t){this.a=t,this.b=Gu(),this.c=null,this.f=function(t){var e=Bl("local"),n=Bl("session"),r=Bl("none");return function(t,e,n){var r=Ku(e,n),i=Wu(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Dr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ql,t.a).then((function(t){return t?Bl(t):e}))}))}))})).then((function(e){return t.c=e,Vl(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bl("local"),this.a,w(this.g,this))}function Vl(t,e){var n,r=[];for(n in Hu)Hu[n]!==e&&r.push(Qu(t.b,Bl(Hu[n]),t.a));return r.push(Qu(t.b,ql,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],k(o,s),a);else e(i)}))}(r)}jl.prototype.g=function(){var t=this,e=Bl("local");Wl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Vl(t,"local").then((function(){t.c=e}))}))}))};var ql={name:"persistence",D:"session"};function Bl(t){return{name:"authUser",D:t}}function Hl(t,e){return Wl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function zl(t){return Wl(t,(function(){return Qu(t.b,t.c,t.a)}))}function Gl(t,e,n){return Wl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})}))}))}function Wl(t,e){return t.f=t.f.then(e,e),t.f}function Kl(t){if(this.m=!1,Wr(this,"settings",new Vc),Wr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new S("invalid-api-key");t=e.SDK_VERSION?Cr(e.SDK_VERSION):null,this.a=new Ha(eh(this).options&&eh(this).options.apiKey,O(T),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(w(this.zc,this)),Zl(this,null),this.l=new jl(eh(this).options.apiKey+":"+eh(this).name),this.G=new Ml(eh(this).options.apiKey+":"+eh(this).name),this.$=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.G,eh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Ul(t.G)}));return oh(t,e)}(t).then((function(){return Gl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Hl(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:zl(t.l)}))):null})).then((function(e){Zl(t,e||null)}));return oh(t,n)}(this)),this.i=oh(this,function(t){return t.$.then((function(){return Jl(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Bl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Tr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Dc(e,n,eh(t).name,t.f),Cc(t.b,t),nh(t)&&yl(nh(t)),t.o){yl(t.o);var r=t.o;r.wa(t.ka()),ul(r,t),ll(r=t.o,t.N),hl(r,t),$a((r=t.o).a,t.f),cl(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Ql(t){Qe.call(this,"languageCodeChanged"),this.h=t}function Xl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Yl(t){Qe.call(this,"frameworkChanged"),this.f=t}function $l(t){return t.gb||Te(new S("auth-domain-config-required"))}function Jl(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var e=$l(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return oh(t,e)}function Zl(t,e){nh(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(nh(t),t.Ba),ln(nh(t),"tokenChanged",t.ya),ln(nh(t),"userDeleted",t.za),ln(nh(t),"userInvalidated",t.Aa),pl(nh(t))),e&&(e.R.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.A&&dl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.ka()),ul(e,t),ll(e,t.N),hl(e,t),$a(e.a,t.f),cl(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Ro(e),r=Gi(e),function(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new sl(t,e);return n&&(i.ha=n),r&&ll(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Sl(nh(t),e),t.da(e)):(Zl(t,e),yl(e),t.da(e))})).then((function(){ih(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),t,w(t.jc,t))),n||e})).then((function(){return Qr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](rh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](rh(t))}}function oh(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function ah(){}function sh(){this.a={},this.b=1e12}jl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Hu)if(Hu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(mr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ku()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),Wl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Vl(n,t)})).then((function(){if(n.c=Bl(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},E(Kl,_n),E(Ql,Qe),E(Xl,Qe),E(Yl,Qe),(t=Kl.prototype).wb=function(t){return oh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ya(this.a,this.aa),this.dispatchEvent(new Ql(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");jr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&pr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,$a(this.a,this.f),this.dispatchEvent(new Xl(this.f))}},t.Fc=function(t){this.N.push(t),Za(this.a,e.SDK_VERSION?Cr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Yl(this.N))},t.Ga=function(){return $(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return th(i,fs(i.a,o))}))},t.Wc=function(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var n=this,r=zi(t.providerId),i=Rr(),o=null;(!xr()||gr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(o=lu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var a=hr(o,r&&r.ua,r&&r.ta);return oh(this,r=$l(this).then((function(e){return Tc(e,a,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new _e((function(t,e){n.ma("signInViaPopup",null,new S("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=xc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&lr(a),t?Qr(t):null})).s((function(t){throw a&&lr(a),t})))},t.Xc=function(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var e=this;return oh(this,$l(this).then((function(){return function(t){return Wl(t,(function(){return t.b.set(ql,t.c.D,t.a)}))}(e.l)})).then((function(){return Pc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return Jl(this).then((function(e){return t.b&&Mc(t.b.b),e})).s((function(e){throw t.b&&Mc(t.b.b),e}))},t.cd=function(t){if(!t)return Te(new S("null-user"));if(this.W!=t.tenantId)return Te(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ga]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new sl(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&ll(e,r),Sl(e,t),e}(t,n,e.G,e.Ga());return oh(this,this.i.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Sl(nh(e),t),e.da(t)):(Zl(e,r),yl(r),e.da(r))})).then((function(){ih(e)})))},t.zb=function(){var t=this;return oh(this,this.i.then((function(){return t.b&&Mc(t.b.b),nh(t)?(Zl(t,null),zl(t.l).then((function(){ih(t)}))):Ie()})))},t.Yc=function(){var t=this;return Gl(this.l,eh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Sl(nh(t),e),nh(t).I();(nh(t)||e)&&(Zl(t,e),e&&(yl(e),e.ha=t.G),t.b&&Cc(t.b,t),ih(t))}}))},t.da=function(t){return Hl(this.l,t)},t.kc=function(){ih(this),this.da(nh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return th(e,Ie(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),oh(t,t.i.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return oh(this,this.i.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return th(e,Xs(e.a,Hs,{token:t}))})).then((function(t){var n=t.user;return El(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return th(n,Xs(n.a,zs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return th(n,Xs(n.a,ms,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return th(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.a.yb()).then((function(e){var n=e.user;return El(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&nh(this)&&dl(nh(this))},t.Oc=function(t){var e=this;H(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&nh(this)&&pl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),oh(this,this.i.then((function(){e.m||K(e.u,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){X(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Bl("local"),t.a,this.pa),this.b&&(Ec(this.b,this),Mc(this.b.b)),Promise.resolve()},t.gc=function(t){return oh(this,function(t,e){return Xs(t,_s,{identifier:e,continueUri:Ar()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Ao(t)},t.vb=function(t,e){var n=this;return oh(this,Ie().then((function(){var t=new Ii(e);if(!t.c)throw new S("argument-error",Pi+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return oh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return oh(this,this.a.Qa(t).then((function(t){return new ri(t)})))},t.ib=function(t){return oh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return oh(this,Ie().then((function(){return void 0===e||dt(e)?{}:Mi(new Ii(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return oh(this,Bc(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return oh(this,Ie().then((function(){var r=e||sr(),i=To(t,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Za(i)})))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function ph(){}sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},sh.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},sh.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},sh.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Wr(dh,"FACTOR_ID","phone"),ph.prototype.g=function(){return uh||(uh=new sh),Ie(uh)},ph.prototype.c=function(){};var vh=null;function gh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mh=new Fr(3e4,6e4);gh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),mh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[e.a]},Ie(Ma(St(yh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},gh.prototype.c=function(){this.b--};var _h=null;function bh(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(vh||(vh=new ph),a=vh):(_h||(_h=new gh),a=_h),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ha(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[wh];this.a[wh]=function(t){if(Sh(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Sr(c,u);"function"==typeof e&&e(t)}};var l=this.a[kh];this.a[kh]=function(){if(Sh(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Sr(l,u);"function"==typeof t&&t()}}}var wh="callback",kh="expired-callback",Ch="sitekey",Eh="size";function Sh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ih(t,e){return t.h.push(e),e.na((function(){Q(t.h,e)})),e}function Th(t){if(t.A)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,n,r){var i=!1;try{this.b=r||e.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.SDK_VERSION?Cr(e.SDK_VERSION,a):null,bh.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),a,O(T),i)}function Ph(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=xh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=xh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=bh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ih(this,Ie().then((function(){if(Ar()&&!yr())return pr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Xs(t.o,Ns,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Th(this);var t=this;return Ih(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!oe&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Th(this);var t=this;return Ih(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Th(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Th(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Ah,bh);var xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Oh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Nh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Rh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Mh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Fh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return v(t)&&"string"==typeof t.uid}function jh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Vh(t,e){for(var n in e){var r=e[n].name;t[r]=Hh(r,t[n],e[n].j)}}function qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Ph(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=Hh(e,n,r)}function Hh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ph(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vh(Kl.prototype,{ib:{name:"applyActionCode",j:[Oh("code")]},Qa:{name:"checkActionCode",j:[Oh("code")]},mb:{name:"confirmPasswordReset",j:[Oh("code"),Oh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Oh("email"),Oh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Oh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Oh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[jh(Dh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[jh(Dh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Oh("email"),jh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Oh("email"),Dh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Oh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Mh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Mh()]},Sc:{name:"signInWithCustomToken",j:[Oh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Oh("email"),Oh("password")]},Uc:{name:"signInWithEmailLink",j:[Oh("email"),Oh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[jh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof sl)}},Lh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Oh("url")]},hd:{name:"verifyPasswordResetCode",j:[Oh("code")]}}),qh(Kl.prototype,{lc:{name:"languageCode",jb:jh(Oh(),Lh(),"languageCode")},ti:{name:"tenantId",jb:jh(Oh(),Lh(),"tenantId")}}),(Kl.Persistence=Hu).LOCAL="local",Kl.Persistence.SESSION="session",Kl.Persistence.NONE="none",Vh(sl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Mh()]},pb:{name:"linkWithCredential",j:[Mh()]},Cc:{name:"linkWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mh()]},sb:{name:"reauthenticateWithCredential",j:[Mh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[jh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},bd:{name:"unlink",j:[Oh("provider")]},Ab:{name:"updateEmail",j:[Oh("email")]},Bb:{name:"updatePassword",j:[Oh("password")]},dd:{name:"updatePhoneNumber",j:[Mh("phone")]},Cb:{name:"updateProfile",j:[Dh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Oh("email"),jh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(_e.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),qh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Nh("appVerificationDisabledForTesting")}}),Vh(qc.prototype,{confirm:{name:"confirm",j:[Oh("verificationCode")]}}),Bh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,So,xo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[jh(Oh(),Dh(),"json")]),Bh(Io,"credential",(function(t,e){return new Eo(t,e)}),[Oh("email"),Oh("password")]),Vh(Eo.prototype,{w:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(go.prototype,{Ca:{name:"addScope",j:[Oh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(go,"credential",yo,[jh(Oh(),Dh(),"token")]),Bh(Io,"credentialWithLink",To,[Oh("email"),Oh("emailLink")]),Vh(mo.prototype,{Ca:{name:"addScope",j:[Oh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(mo,"credential",_o,[jh(Oh(),Dh(),"token")]),Vh(bo.prototype,{Ca:{name:"addScope",j:[Oh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(bo,"credential",wo,[jh(Oh(),jh(Dh(),Lh()),"idToken"),jh(Oh(),Lh(),"accessToken",!0)]),Vh(ko.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(ko,"credential",Co,[jh(Oh(),Dh(),"token"),Oh("secret",!0)]),Vh(vo.prototype,{Ca:{name:"addScope",j:[Oh("scope")]},credential:{name:"credential",j:[jh(Oh(),jh(Dh(),Lh()),"optionsOrIdToken"),jh(Oh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Vh(co.prototype,{w:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(ao.prototype,{w:{name:"toJSON",j:[Oh(null,!0)]}}),Bh(No,"credential",Do,[Oh("verificationId"),Oh("verificationCode")]),Vh(No.prototype,{eb:{name:"verifyPhoneNumber",j:[jh(Oh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,ro)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Vh(Po.prototype,{w:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(S.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(Bo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(qo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(Kc.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Vh(zc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Vh(Zc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Oh("displayName",!0)]},ad:{name:"unenroll",j:[jh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uh},Oh(),"multiFactorInfoIdentifier")]}}),Vh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(yi,"parseLink",Si,[Oh("link")]),Bh(dh,"assertion",(function(t){return new $c(t)}),[Mh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kl,AuthCredential:io,Error:S};Bh(t,"EmailAuthProvider",Io,[]),Bh(t,"FacebookAuthProvider",go,[]),Bh(t,"GithubAuthProvider",mo,[]),Bh(t,"GoogleAuthProvider",bo,[]),Bh(t,"TwitterAuthProvider",ko,[]),Bh(t,"OAuthProvider",vo,[Oh("providerId")]),Bh(t,"SAMLAuthProvider",po,[Oh("providerId")]),Bh(t,"PhoneAuthProvider",No,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Kl)}}]),Bh(t,"RecaptchaVerifier",Ah,[jh(Oh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Bh(t,"ActionCodeURL",yi,[]),Bh(t,"PhoneMultiFactorGenerator",dh,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Kl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:sl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r:{default:r};i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return a})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!a.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return Zn})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return $n}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function b(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function E(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var T,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function x(t,e){return t<e?-1:t>e?1:0}t:{var O=u.navigator;if(O){var N=O.userAgent;if(N){T=N;break t}}T=""}function D(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=c;var U,j,V=P(T,"Opera"),q=P(T,"Trident")||P(T,"MSIE"),B=P(T,"Edge"),H=B||q,z=P(T,"Gecko")&&!(P(T.toLowerCase(),"webkit")&&!P(T,"Edge"))&&!(P(T,"Trident")||P(T,"MSIE"))&&!P(T,"Edge"),G=P(T.toLowerCase(),"webkit")&&!P(T,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var K="",Q=(j=T,z?/rv:([^\);]+)(\)|;)/.exec(j):B?/Edge\/([\d\.]+)/.exec(j):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):V?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Q&&(K=Q?Q[1]:""),q){var X=W();if(null!=X&&X>parseFloat(K)){U=String(X);break t}}U=K}var Y={};function $(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(U)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=x(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||x(0==a[2].length,0==s[2].length)||x(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var J=u.document&&q&&(W()||parseInt(U,10))||void 0,Z=!q||9<=Number(J),tt=q&&!$("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++at,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=k(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=kt(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=bt(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=_t,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function yt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new rt(e,this))}return mt(t,new rt(e,this))}function bt(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ct(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Et(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&lt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(Ct,w),Ct.prototype[ot]=!0,(o=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=kt(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(a=e.a[n],r,i,o))&&(ut(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;M(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Et(a,r,!0,t)&&i}if(i=Et(a=t.a=n,r,!0,t)&&i,i=Et(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Et(a=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function It(){this.b=this.a=null}var Tt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new xt}),(function(t){t.reset()}),100);function Pt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xt(){this.next=this.b=this.a=null}function Ot(t){u.setTimeout((function(){throw t}),0)}function Nt(t,e){Tt||function(){var t=u.Promise.resolve(void 0);Tt=function(){t.then(Lt)}}(),Dt||(Tt(),Dt=!0),Rt.add(t,e)}It.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xt.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Rt=new It;function Lt(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Ot(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Mt(t,e){Ct.call(this),this.b=t||1,this.a=e||u,this.f=y(this.Ya,this),this.g=_()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ut(t,e,n){if("function"==l(t))n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function jt(t){t.a=Ut((function(){t.a=null,t.c&&(t.c=!1,jt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Mt,Ct),(o=Mt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.G=function(){Mt.S.G.call(this),Ft(this),delete this.a};var Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function qt(t){w.call(this),this.b=t,this.a={}}b(qt,w);var Bt=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){D(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function Gt(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return St(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),zt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var Kt=null;function Qt(){return Kt=Kt||new Ct}function Xt(t){nt.call(this,"serverreachability",t)}function Yt(t){var e=Qt();e.dispatchEvent(new Xt(e,t))}function $t(t){nt.call(this,"statevent",t)}function Jt(t){var e=Qt();e.dispatchEvent(new $t(e,t))}function Zt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}b(Xt,nt),b($t,nt),b(Zt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,ae={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function se(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Mt(t=H?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}b(se,nt),b(ue,nt),b(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Me(xe(e)),t.j=n,t.I=!0,ve(t,null)}function ve(t,e){t.u=_(),me(t),t.l=xe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=zn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(y(t.Ca,t,t.a),t.O)),Ht(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ge(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ye(t,n);if(i==de){4==e&&(t.h=4,Jt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Jt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),Ce(t,i)}4==e&&0==n.length&&(t.h=1,Jt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),ke(t),we(t))}function ye(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function me(t){t.U=_()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(y(t.Ua,t),e)}function be(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||jn(t.g,t)}function ke(t){be(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ce(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),Tn(n)}Ln(n),Jt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(y(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Un(n),!I(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Le(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Hn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(be(p),me(p)),u.a=d}else Rn(u);0<n.g.length&&xn(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Yt(4)}catch(g){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)C(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Se(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Se)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==kn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=kn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||Yt(8==n||0>=r?3:2),be(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Jt(12),ke(this),we(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ce(this,u)}this.I?(ge(this,e,o),H&&this.b&&3==e&&(Ht(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,o,null),Ce(this,o)),4==e&&ke(this),this.b&&!this.A&&(4==e?jn(this.g,this):(this.b=!1,me(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Jt(12)):(this.h=0,Jt(13)),ke(this),we(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=kn(this.a),e=this.a.$();this.D<e.length&&(be(this),ge(this,t,e),this.b&&4!=t&&me(this))}},o.cancel=function(){this.A=!0,ke(this)},o.Ua=function(){this.o=null;var t=_();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Yt(3),Jt(17)),ke(this),this.h=2,we(this)):_e(this,this.U-t)},(o=Se.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ie(this),this.a.concat()},o.get=function(t,e){return Te(this.b,t)?this.b[t]:e},o.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pe){this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,Ne(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Se(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Fe(n[2]||""),Ne(this,n[3]||"",!0),De(this,n[4]),this.g=Fe(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Fe(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function xe(t){return new Pe(t)}function Oe(t,e,n){t.f=n?Fe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Fe(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),Xe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,He)),t.b=new Ge(e,t.a))}function Le(t,e,n){t.b.set(e,n)}function Me(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,Ve,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,Ve,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?Be:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,ze)),t.join("")};var Ve=/[#\/\?@]/g,qe=/[#\?:]/g,Be=/[#\?]/g,He=/[#\?@]/g,ze=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new Se,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ke(t,e){We(t),e=Ye(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function Qe(t,e){return We(t),e=Ye(t,e),Te(t.a.b,e)}function Xe(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set(Ye(t,e),S(n)),t.b+=n.length)}function Ye(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function $e(t,e){this.b=t,this.a=e}function Je(t){this.g=t||Ze,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ge.prototype).add=function(t,e){We(this),this.c=null,t=Ye(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){We(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){We(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=E(e,this.a.get(Ye(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=E(e,t[n])}return e},o.set=function(t,e){return We(this),this.c=null,Qe(this,t=Ye(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ze=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function an(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next())r=r.concat(a.value.s)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function sn(){}function un(){this.a=new sn}function cn(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;f(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=an(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){Ct.call(this),this.headers=new Se,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}b(fn,Ct);var dn="",pn=/^https?$/i,vn=["POST","PUT"];function gn(t){return"content-type"==t.toLowerCase()}function yn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),bn(t)}function mn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=kn(t)||2!=t.X()))if(t.l&&4==kn(t))Ut(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==kn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<kn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",mn(t)}}finally{bn(t)}}}function bn(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function kn(t){return t.a?t.a.readyState:0}function Cn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=En("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=En("baseRetryDelayMs",5e3,t),this.Ma=En("retryDelaySeedMs",1e4,t),this.Ja=En("forwardChannelMaxRetries",2,t),this.ma=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Je(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(t){if(An(t),3==t.v){var e=t.R++,n=xe(t.B);Le(n,"SID",t.J),Le(n,"RID",e),Le(n,"TYPE","terminate"),Nn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Me(xe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=zn(e.g,null),e.a.ba(e.i)),e.u=_(),me(e)}Bn(t)}function Tn(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function An(t){Tn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Pn(t,e){t.g.push(new $e(t.La++,e)),3==t.v&&xn(t)}function xn(t){tn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function On(t,e){var n;n=e?e.f:t.R++;var r=xe(t.B);Le(r,"SID",t.J),Le(r,"RID",n),Le(r,"AID",t.P),Nn(t,r),t.i&&t.l&&Cn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Nn(t,e){t.f&&Ee({},(function(t,n){Le(e,n,t)}))}function Dn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?y(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{cn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function Ln(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(y(t.Aa,t),Vn(t,t.o)),t.o++,0))}function Mn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Fn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xe(t.la);Le(e,"RID","rpc"),Le(e,"SID",t.J),Le(e,"CI",t.H?"0":"1"),Le(e,"AID",t.P),Nn(t,e),Le(e,"TYPE","xmlhttp"),t.i&&t.l&&Cn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Me(xe(e)),n.j=null,n.I=!0,ve(n,t)}function Un(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function jn(t,e){var n=null;if(t.a==e){Un(t),Mn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;(r=Qt()).dispatchEvent(new Zt(r,n,e,i)),xn(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(y(t.Ba,t,e),Vn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function Vn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=y(t.Xa,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Oe(n,"https"),Me(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=m(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=m(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.v=0,t.f&&t.f.ra(e),Bn(t),An(t)}function Bn(t){t.v=0,t.I=-1,t.f&&(0==an(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Hn(t,e,n){var r=function(t){return t instanceof Pe?xe(t):new Pe(t,void 0)}(n);if(""!=r.c)e&&Ne(r,e+"."+r.c),De(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&Oe(i,t),e&&Ne(i,e),n&&De(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&D(t.W,(function(t,e){Le(r,e,t)})),n=t.na,(e=t.A)&&n&&Le(r,e,n),Le(r,"VER",t.ha),Nn(t,r),r}function zn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function Gn(){}function Wn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Kn(t,e){Ct.call(this),this.a=new Sn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yn(this)}function Qn(t){se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){ue.call(this),this.status=1}function Yn(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void yn(this,o)}t=n||"";var i=new Se(this.headers);r&&Ee(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=gn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=k(vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return q&&$(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Ut(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){yn(this,o)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<kn(this)?this.a.status:-1}catch(j){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dn(this,n,e),Le(i=xe(this.B),"RID",t),Le(i,"CVER",22),this.A&&Le(i,"X-HTTP-Session-Id",this.A),Nn(this,i),this.i&&r&&Cn(i,this.i,r),rn(this.b,n),this.Ga&&Le(i,"TYPE","init"),this.da?(Le(i,"$req",e),Le(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?On(this,t):0==this.g.length||tn(this.b)||On(this))},o.Aa=function(){if(this.j=null,Fn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(y(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(this),Fn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Tn(this),Ln(this),Jt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Jt(2)):(this.c.info("Failed to ping google.com"),Jt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Wn.prototype.a=function(t,e){return new Kn(t,e)},b(Kn,Ct),(o=Kn.prototype).addEventListener=function(t,e,n,r){Kn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Kn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Jt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Hn(t,null,t.fa),xn(t)},o.close=function(){In(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Pn(this.a,e)}else this.g?((e={}).__data__=St(t),Pn(this.a,e)):Pn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Kn.S.G.call(this)},b(Qn,se),b(Xn,ue),b(Yn,Gn),Yn.prototype.ta=function(){this.a.dispatchEvent("a")},Yn.prototype.sa=function(t){this.a.dispatchEvent(new Qn(t))},Yn.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},Yn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,Kn.prototype.send=Kn.prototype.Pa,Kn.prototype.open=Kn.prototype.Oa,Kn.prototype.close=Kn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var $n=function(){return new Wn},Jn=ee,Zn=ne,tr=ie,er=fn;e.default={createWebChannelTransport:$n,ErrorCode:Jn,EventType:Zn,WebChannel:tr,XhrIo:er}},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}var l,h=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=((l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(p){e=p instanceof h?d(p.errors):[p]}if(u(o))for(var s=-1,l=o.length;++s<l;){var f=o[s];if(c(f))try{f.unsubscribe()}catch(p){e=e||[],p instanceof h?e=e.concat(d(p.errors)):e.push(p)}}if(e)throw new h(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new l),l);function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!t){o.destination=s;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,a=i.complete,i!==s&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(v),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(t){return t}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b(e)}function b(t){return 0===t.length?m:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w,k=((w=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[p])return t[p]()}return t||e||n?new v(t,e,n):new v(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof v?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=C(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:b(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=C(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new w(t)},w);function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E,S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(f),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(v),A=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(t){var e=new P(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new I(this,t))}},{key:"asObservable",value:function(){var t=new k;return t.source=this,t}}]),n}(k)).create=function(t,e){return new P(t,e)},E),P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):f.EMPTY}}]),n}(A);function x(t){return t&&"function"==typeof t.schedule}var O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),N=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function L(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var M=function(t){if(t&&"function"==typeof t[y])return r=t,function(t){var e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return N(t);if(L(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a),t};if(t&&"function"==typeof t[D])return e=t,function(t){for(var n=e[D]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=c(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function F(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new O(t,n,r);if(!i.closed)return e instanceof k?e.subscribe(i):M(e)(i)}var U=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(v);function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}var V=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(v);function B(t,e){return new k((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){var i=t[y]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(L(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(R(t))return B(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[D](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(M(t))}function z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(z((function(n,r){return H(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new G(t,n))})}var G=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}]),t}(),W=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new O(this,e,n),i=this.destination;i.add(r);var o=F(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(U);function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return z(m,t)}function Q(t,e){return e?B(t,e):new k(N(t))}function X(){return function(t){return t.lift(new $(t))}}var Y,$=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new J(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),J=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),Z={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.EMPTY)),t}},{key:"refCount",value:function(){return X()(this)}}]),n}(k).prototype)._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}},tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(T);function et(){return new A}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var it=rt("Inject",(function(t){return{token:t}})),ot=rt("Optional"),at=rt("Self"),st=rt("SkipSelf"),ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(var e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function lt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,t[gt])||pt(t,t[_t])}function pt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(bt))?t[yt]:null}var gt=ct({"\u0275prov":ct}),yt=ct({"\u0275inj":ct}),mt=ct({"\u0275provFallback":ct}),_t=ct({ngInjectableDef:ct}),bt=ct({ngInjectorDef:ct});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Ct=ct({__forward_ref__:ct});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return wt(this())},t}function St(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===Et}var Tt,At="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Nt=At||Ot||Pt||xt,Dt=ct({"\u0275cmp":ct}),Rt=ct({"\u0275dir":ct}),Lt=ct({"\u0275pipe":ct}),Mt=ct({"\u0275mod":ct}),Ft=ct({"\u0275loc":ct}),Ut=ct({"\u0275fac":ct}),jt=ct({__NG_ELEMENT_ID__:ct}),Vt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),qt=new Vt("INJECTOR",-1),Bt={},Ht=/\n/gm,zt=ct({provide:String,useValue:ct}),Gt=void 0;function Wt(t){var e=Gt;return Gt=t,e}function Kt(t){var e=Tt;return Tt=t,e}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;if(void 0===Gt)throw new Error("inject() must be called from an injection context");return null===Gt?Yt(t,void 0,e):Gt.get(t,e&ut.Optional?null:void 0,e)}function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;return(Tt||Qt)(St(t),e)}function Yt(t,e,n){var r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ut.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(wt(t),"]"))}function $t(t){for(var e=[],n=0;n<t.length;n++){var r=St(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ut.Default,a=0;a<r.length;a++){var s=r[a];s instanceof ot||"Optional"===s.ngMetadataName||s===ot?o|=ut.Optional:s instanceof st||"SkipSelf"===s.ngMetadataName||s===st?o|=ut.SkipSelf:s instanceof at||"Self"===s.ngMetadataName||s===at?o|=ut.Self:i=s instanceof it||s===it?s.token:s}e.push(Xt(i,o))}else e.push(Xt(r))}return e}var Jt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;if(e===Bt){var n=new Error("NullInjectorError: No provider for ".concat(wt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Zt=function t(){_classCallCheck(this,t)},te=function t(){_classCallCheck(this,t)};function ee(t,e){t.forEach((function(t){return Array.isArray(t)?ee(t,e):e(t)}))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e,n){var r=ae(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function oe(t,e){var n=ae(t,e);if(n>=0)return t[1|n]}function ae(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var se=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ue=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ce={},le=[],he=0;function fe(t){return nt((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ue.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=he++,i.inputs=ye(t.inputs,r),i.outputs=ye(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(de)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(pe)}:null,i}))}function de(t){return be(t)||function(t){return t[Rt]||null}(t)}function pe(t){return function(t){return t[Lt]||null}(t)}var ve={};function ge(t){var e={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt((function(){ve[t.id]=t.type})),e}function ye(t,e){if(null==t)return ce;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var me=fe;function _e(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function be(t){return t[Dt]||null}function we(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}function ke(t,e){var n=t[Mt]||null;if(!n&&!0===e)throw new Error("Type ".concat(wt(t)," does not have '\u0275mod' property."));return n}function Ce(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ee(t){return Array.isArray(t)&&!0===t[1]}function Se(t){return 0!=(8&t.flags)}function Ie(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function Pe(t){return 0!=(512&t[2])}var xe=void 0;function Oe(){return void 0!==xe?xe:"undefined"!=typeof document?document:void 0}function Ne(t){return!!t.listen}var De={createRenderer:function(t,e){return Oe()}};function Re(t){for(;Array.isArray(t);)t=t[0];return t}function Le(t,e){return Re(e[t+20])}function Me(t,e){return Re(e[t.index])}function Fe(t,e){return t.data[e+20]}function Ue(t,e){return t[e+20]}function je(t,e){var n=e[t];return Ce(n)?n:n[0]}function Ve(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qe(t){return 4==(4&t[2])}function Be(t){return 128==(128&t[2])}function He(t,e){return null===t||null==e?null:t[e]}function ze(t){t[18]=0}function Ge(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var We={lFrame:vn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ke(){return We.bindingsEnabled}function Qe(){return We.lFrame.lView}function Xe(){return We.lFrame.tView}function Ye(t){We.lFrame.contextLView=t}function $e(){return We.lFrame.previousOrParentTNode}function Je(t,e){We.lFrame.previousOrParentTNode=t,We.lFrame.isParent=e}function Ze(){return We.lFrame.isParent}function tn(){We.lFrame.isParent=!1}function en(){return We.checkNoChangesMode}function nn(t){We.checkNoChangesMode=t}function rn(){var t=We.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function on(){return We.lFrame.bindingIndex++}function an(t){var e=We.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sn(t,e){var n=We.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){We.lFrame.currentDirectiveIndex=t}function cn(t){var e=We.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ln(){return We.lFrame.currentQueryIndex}function hn(t){We.lFrame.currentQueryIndex=t}function fn(t,e){var n=pn();We.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function dn(t,e){var n=pn(),r=t[1];We.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function pn(){var t=We.lFrame,e=null===t?null:t.child;return null===e?vn(t):e}function vn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function gn(){var t=We.lFrame;return We.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var yn=gn;function mn(){var t=gn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return We.lFrame.selectedIndex}function bn(t){We.lFrame.selectedIndex=t}function wn(){var t=We.lFrame;return Fe(t.tView,t.selectedIndex)}function kn(){We.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Cn(){We.lFrame.currentNamespace=null}function En(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Sn(t,e,n){An(t,e,3,n)}function In(t,e,n,r){(3&t[2])===n&&An(t,e,n,r)}function Tn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function An(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Pn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Pn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var xn=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function On(t,e,n){for(var r=Ne(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Dn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Nn(t){return 3===t||4===t||6===t}function Dn(t){return 64===t.charCodeAt(0)}function Rn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ln(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ln(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Mn(t){return-1!==t}function Fn(t){return 32767&t}function Un(t){return t>>16}function jn(t,e){for(var n=Un(t),r=e;n>0;)r=r[15],n--;return r}function Vn(t){return"string"==typeof t?t:null==t?"":""+t}function qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Vn(t)}var Bn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt);function Hn(t){return t instanceof Function?t():t}var zn=!0;function Gn(t){var e=zn;return zn=t,e}var Wn=0;function Kn(t,e){var n=Xn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Qn(r.data,t),Qn(e,null),Qn(r.blueprint,null));var i=Yn(t,e),o=t.injectorIndex;if(Mn(i))for(var a=Fn(i),s=jn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Qn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function $n(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[jt]:n.charCodeAt(0)||0;null==r&&(r=n[jt]=Wn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function Jn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[jt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){fn(e,t);try{var a=o();if(null!=a||r&ut.Optional)return a;throw new Error("No provider for ".concat(qn(n),"!"))}finally{yn()}}else if("number"==typeof o){if(-1===o)return new or(t,e);var s=null,u=Xn(t,e),c=-1,l=r&ut.Host?e[16][6]:null;for((-1===u||r&ut.SkipSelf)&&(c=-1===u?Yn(t,e):e[u+8],ir(r,!1)?(s=e[1],u=Fn(c),e=jn(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(rr(o,u,h.data)){var f=tr(u,e,n,s,r,l);if(f!==Zn)return f}ir(r,e[1].data[u+8]===l)&&rr(o,u,e)?(s=h,u=Fn(c),e=jn(c,e)):u=-1}}}if(r&ut.Optional&&void 0===i&&(i=null),0==(r&(ut.Self|ut.Host))){var d=e[9],p=Kt(void 0);try{return d?d.get(n,i,r&ut.Optional):Yt(n,i,r&ut.Optional)}finally{Kt(p)}}if(r&ut.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(qn(n),"]"))}var Zn={};function tr(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=er(s,a,n,null==r?Ie(s)&&zn:r!=a&&3===s.type,i&ut.Host&&o===s);return null!==u?nr(e,a,u,s):Zn}function er(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ae(d)&&d.type===n)return u}return null}function nr(t,e,n,r){var i=t[n],o=e.data;if(i instanceof xn){var a=i;if(a.resolving)throw new Error("Circular dep for "+qn(o[n]));var s,u=Gn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=Kt(a.injectImpl)),fn(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&Kt(s),Gn(u),a.resolving=!1,yn()}}return i}function rr(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function ir(t,e){return!(t&ut.Self||t&ut.Host&&e)}var or=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return Jn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ar(t){var e=t;if(It(t))return function(){var t=ar(St(e));return t?t():null};var n=we(e);if(null===n){var r=vt(e);n=r&&r.factory}return n||null}function sr(t){return nt((function(){for(var e=t.prototype.constructor,n=e[Ut]||ar(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[Ut]||ar(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function ur(t){return t.ngDebugContext}function cr(t){return t.ngOriginalError}function lr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var hr=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||lr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?ur(t)?ur(t):this._findContext(cr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=cr(t);e&&cr(e);)e=cr(e);return e}}]),t}(),fr=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),dr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(fr),pr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(fr),vr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(fr),gr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(fr),yr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(fr);function mr(t){return t instanceof fr?t.changingThisBreaksApplicationSecurity:t}function _r(t,e){var n=br(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function br(t){return t instanceof fr&&t.getTypeName()||null}var wr=!0,kr=!1;function Cr(){return kr=!0,wr}var Er=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tr(t){return(t=String(t)).match(Sr)||t.match(Ir)?t:(Cr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Ar(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Pr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var xr,Or=Ar("area,br,col,hr,img,wbr"),Nr=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dr=Ar("rp,rt"),Rr=Pr(Dr,Nr),Lr=Pr(Or,Pr(Nr,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pr(Dr,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),Mr=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fr=Ar("srcset"),Ur=Pr(Mr,Fr,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jr=Ar("script,style,template"),Vr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!jr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Ur.hasOwnProperty(s)){var u=o.value;Mr[s]&&(u=Tr(u)),Fr[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Tr(t.trim())})).join(", ")),this.buf.push(" ",a,'="',Hr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Lr.hasOwnProperty(e)&&!Or.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Hr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),qr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Br=/([^\#-~ |!])/g;function Hr(t){return t.replace(/&/g,"&amp;").replace(qr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Br,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zr(t,e){var n=null;try{xr=xr||new Er(t);var r=e?String(e):"";n=xr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=xr.getInertBodyElement(r)}while(r!==o);var a=new Vr,s=a.sanitizeChildren(Gr(n)||n);return Cr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Gr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Kr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qr=/^url\(([^)]+)\)$/;function Xr(t){var e=$r();return e?e.sanitize(Wr.HTML,t)||"":_r(t,"HTML")?mr(t):zr(Oe(),Vn(t))}function Yr(t){var e=$r();return e?e.sanitize(Wr.URL,t)||"":_r(t,"URL")?mr(t):Tr(Vn(t))}function $r(){var t=Qe();return t&&t[12]}function Jr(t,e){t.__ngContext__=e}function Zr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function ti(){throw new Error("Cannot mix multi providers and regular providers")}function ei(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ni(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ei((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 0===t.type&&"ng-template"!==t.tagName}function ii(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function oi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Nn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(ai(r))return!1;a=!0}continue}var l=si(8&r?"class":u,i,ri(t),n);if(-1===l){if(ai(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ei(f,c,0)||2&r&&c!==h){if(ai(r))return!1;a=!0}}}}else{if(!a&&!ai(r)&&!ai(u))return!1;if(a&&ai(u))continue;a=!1,r=u|1&r}}return ai(r)||a}function ai(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){return t?":not("+e.trim()+")":e}function li(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ai(a)||(e+=ci(o,i),i=""),r=a,o=o||!ai(r);n++}return""!==i&&(e+=ci(o,i)),e}var hi={};function fi(t){var e=t[3];return Ee(e)?e[3]:e}function di(t){return vi(t[13])}function pi(t){return vi(t[4])}function vi(t){for(;null!==t&&!Ee(t);)t=t[4];return t}function gi(t){yi(Xe(),Qe(),_n()+t,en())}function yi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Sn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&In(e,o,0,n)}bn(n)}function mi(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function bi(t){return 2|t}function wi(t){return(131068&t)>>2}function ki(t,e){return-131069&t|e<<2}function Ci(t){return 1|t}function Ei(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];hn(i),a.contentQueries(2,e[o],o)}}}function Si(t,e,n){return Ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ii(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ze(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=$e(),s=Ze(),u=s?a:a&&a.parent,c=t.data[n]=Fi(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return Je(s,!0),s}function Ai(t,e,n){dn(e,e[6]);try{var r=t.viewQuery;null!==r&&oo(1,r,n);var i=t.template;null!==i&&Oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ei(t,e),t.staticViewQueries&&oo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)to(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,mn()}}function Pi(t,e,n,r){var i=e[2];if(256!=(256&i)){dn(e,e[6]);var o=en();try{ze(e),We.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Oi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Sn(e,s,null)}else{var u=t.preOrderHooks;null!==u&&In(e,u,0,null),Tn(e,0)}if(function(t){for(var e=di(t);null!==e;e=pi(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Ge(o,1),i[2]|=1024}}(e),function(t){for(var e=di(t);null!==e;e=pi(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Be(r)&&Pi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ei(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Sn(e,c)}else{var l=t.contentHooks;null!==l&&In(e,l,1),Tn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(bn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(sn(r,i),a(2,e[i])),i++)}}finally{bn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Zi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&oo(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Sn(e,d)}else{var p=t.viewHooks;null!==p&&In(e,p,2),Tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ge(e[3],-1))}finally{mn()}}}function xi(t,e,n,r){var i=e[10],o=!en(),a=qe(e);try{o&&!a&&i.begin&&i.begin(),a&&Ai(t,e,r),Pi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Oi(t,e,n,r,i){var o=_n();try{bn(-1),2&r&&e.length>20&&yi(t,e,0,en()),n(r,i)}finally{bn(o)}}function Ni(t,e,n){if(Se(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Di(t,e,n){Ke()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Kn(n,e),Jr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Ae(u);c&&Xi(e,n,u);var l=nr(e,t,s,n);Jr(l,e),null!==a&&Yi(0,s-i,l,u,0,a),c&&(je(n.index,e)[8]=l)}}(t,e,n,Me(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=We.lFrame.currentDirectiveIndex;try{bn(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];un(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Hi(l,h):a&&o.push(null)}}finally{bn(-1),un(u)}}(t,e,n))}function Ri(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Li(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mi(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Fi(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ui(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ji(t,e,n,r,i,o,a,s){var u,c=Me(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(lo(t,n,u,r,i),Ie(e)&&function(t,e){var n=je(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Ne(o)?o.setProperty(c,r,i):Dn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Vi(t,e,n,r){var i=!1;if(Ke()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ui(n,a.selectors,!1)&&(i||(i=[]),$n(Kn(n,e),t,a.type),Ae(a)?(2&n.flags&&Zr(n),Gi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,Ki(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}zi(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Rn(n.mergedAttrs,d.hostAttrs),Qi(t,e,d),Wi(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),qi(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||ri(e)?null:$i(l,i);o.push(h),a=Ui(l,u,a),s=Ui(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),Bi(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),i}function qi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Bi(t,e,n){for(var r=0;r<n;r++)e.push(hi),t.blueprint.push(hi),t.data.push(null)}function Hi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zi(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Gi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ae(e)&&(n[""]=t)}}function Ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=we(n.type)),i=new xn(r,Ae(n),null);t.blueprint.push(i),e.push(i)}function Xi(t,e,n){var r=Me(e,t),i=Li(n),o=t[10],a=eo(t,Ii(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function Yi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function $i(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Zi(t,e){var n=je(e,t);if(Be(n)){var r=n[1];80&n[2]?Pi(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=di(e);null!==n;n=pi(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Pi(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=je(a[s],e);Be(u)&&u[5]>0&&t(u)}}(n)}}function to(t,e){var n=je(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function eo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function no(t){for(;t;){t[2]|=64;var e=fi(t);if(Pe(t)&&!e)return t;t=e}return null}function ro(t,e,n){var r=e[10];r.begin&&r.begin();try{Pi(t,e,t.template,n)}catch(i){throw co(e,i),i}finally{r.end&&r.end()}}function io(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ve(n),i=r[1];xi(i,r,i.template,n)}}(t[8])}function oo(t,e,n){hn(0),e(t,n)}var ao=Promise.resolve(null);function so(t){return t[7]||(t[7]=[])}function uo(t){return t.cleanup||(t.cleanup=[])}function co(t,e){var n=t[9],r=n?n.get(hr,null):null;r&&r.handleError(e)}function lo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function ho(t,e){var n=e[3];return-1===t.index?Ee(n)?n:null:n}function fo(t,e){var n=ho(t,e);return n?Eo(e[11],n[7]):null}function po(t,e,n,r,i){if(null!=r){var o,a=!1;Ee(r)?o=r:Ce(r)&&(a=!0,r=r[0]);var s=Re(r);0===t&&null!==n?null==i?ko(e,n,s):wo(e,n,s,i||null):1===t&&null!==n?wo(e,n,s,i||null):2===t?function(t,e,n){var r=Eo(t,e);r&&function(t,e,n,r){Ne(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Re(n)&&po(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ao(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function vo(t,e,n,r){var i=fo(t.node,e);i&&Ao(t,e,e[11],n?1:2,i,r)}function go(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&Ge(e[3],-1),n.splice(r,1)}function yo(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&go(i,r),e>0&&(t[n-1][4]=r[4]);var o=re(t,10+e);vo(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function mo(t,e){if(!(256&e[2])){var n=e[11];Ne(n)&&n.destroyNode&&Ao(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return bo(t[1],t);for(;e;){var n=null;if(Ce(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ce(e)&&bo(e[1],e),e=_o(e,t);null===e&&(e=t),Ce(e)&&bo(e[1],e),n=e&&e[4]}e=n}}(e)}}function _o(t,e){var n;return Ce(t)&&(n=t[6])&&2===n.type?ho(n,t):t[3]===e?null:t[3]}function bo(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof xn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Re(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Ne(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ee(e[3])){r!==e[3]&&go(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function wo(t,e,n,r){Ne(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ko(t,e,n){Ne(t)?t.appendChild(e,n):e.appendChild(n)}function Co(t,e,n,r){null!==r?wo(t,e,n,r):ko(t,e,n)}function Eo(t,e){return Ne(t)?t.parentNode(e):e.parentNode}function So(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?fo(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Me(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ue.ShadowDom&&a!==ue.Native)return null}return Me(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){if(2===t.type){var n=ho(t,e);return null===n?null:Io(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Me(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Co(o,i,n[s],a);else Co(o,i,n,a)}}function Io(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Me(n,e);if(0===r)return Io(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ee(o)?Io(-1,o):Re(o)}var a=e[16],s=a[6],u=fi(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function To(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&Jr(Re(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(To(t,e,n.child,r,i,o,!1),po(e,t,i,s,o)):1===u?Po(t,e,r,n,i,o):po(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Ao(t,e,n,r,i,o){To(n,r,t.node.child,e,i,o,!1)}function Po(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)po(e,t,i,s[u],o);else To(t,e,s,a[3],i,o,!0)}function xo(t,e,n){Ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Oo(t,e,n){Ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var No,Do,Ro,Lo=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}mo(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,so(n=this._lView).push(r),e.firstCreatePass&&uo(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){no(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ro(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){nn(!0);try{ro(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ao(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Re(a)),Ee(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=fi(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Mo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){io(this._view)}},{key:"checkNoChanges",value:function(){!function(t){nn(!0);try{io(t)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Lo);function Fo(t,e,n){return No||(No=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new No(Me(e,n))}function Uo(t,e,n,r){return Do||(Do=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ii(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new Lo(n)}}]),n}(t)),0===n.type?new Do(r,n,Fo(e,n,r)):null}function jo(t,e,n,r){var i;Ro||(Ro=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(Zt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ee(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Ro(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ne(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),vo(r,n,!0,Io(s,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=yo(t,e);n&&mo(n[1],n)}(this._lContainer,e),re(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=yo(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new Lo(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Fo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new or(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Yn(this._hostTNode,this._hostView),e=jn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Un(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Mn(t)&&null!=n?new or(n,e):new or(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Ee(o))i=o;else{var a;if(4===n.type)a=Re(o);else if(a=r[11].createComment(""),Pe(r)){var s=r[11],u=Me(n,r);wo(s,Eo(s,u),a,function(t,e){return Ne(t)?t.nextSibling(e):e.nextSibling}(s,u))}else So(r[1],r,a,n);r[n.index]=i=Ji(o,r,a,n),eo(r,i)}return new Ro(i,n,r)}function Vo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ie(t)){var r=je(t.index,e);return new Lo(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Lo(e[16],e):null}($e(),Qe(),t)}var qo=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Bo()},t}(),Bo=Vo,Ho=new Vt("Set Injector scope."),zo={},Go={},Wo=[],Ko=void 0;function Qo(){return void 0===Ko&&(Ko=new Jt),Ko}function Xo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Yo(t,n,e||Qo(),r)}var Yo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ee(n,(function(t){return i.processProvider(t,e,n)})),ee([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(qt,Zo(void 0,this));var s=this.records.get(Ho);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:wt(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;this.assertNotDestroyed();var r,i=Wt(this);try{if(!(n&ut.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Vt)&&dt(t);o=a&&this.injectableDefInScope(a)?Zo($o(t),zo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&ut.Self?Qo():this.parent).get(t,e=n&ut.Optional&&e===Bt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):wt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Ht,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Wt(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(wt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=St(t)))return!1;var i=vt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=vt(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{ee(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;ee(i,(function(t){return r.processProvider(t,n,i||Wo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Zo(i.factory,zo));var h=i.providers;if(null!=h&&!s){var f=t;ee(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ea(t=St(t))?t:St(t&&t.provide),i=function(t,e,n){return ta(t)?Zo(void 0,t.useValue):Zo(Jo(t,e,n),zo)}(t,e,n);if(ea(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&ti()}else{var a=this.records.get(r);a?void 0===a.multi&&ti():((a=Zo(void 0,zo,!0)).factory=function(){return $t(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Go?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(wt(t)):e.value===zo&&(e.value=Go,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function $o(t){var e=dt(t),n=null!==e?e.factory:we(t);if(null!==n)return n;var r=vt(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error("Token ".concat(wt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(wt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[gt]||t[_t]||t[mt]&&t[mt]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Jo(t,e,n){var r,i=void 0;if(ea(t)){var o=St(t);return we(o)||$o(o)}if(ta(t))i=function(){return St(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray($t(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Xt(St(t.useExisting))};else{var a=St(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(wt(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return we(a)||$o(a);i=function(){return _construct(a,_toConsumableArray($t(t.deps)))}}return i}function Zo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function ta(t){return null!==t&&"object"==typeof t&&zt in t}function ea(t){return"function"==typeof t}var na=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Xo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},ra=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?na(t,e,""):na(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Bt,t.NULL=new Jt,t.\u0275prov=ht({token:t,providedIn:"any",factory:function(){return Xt(qt)}}),t.__NG_ELEMENT_ID__=-1,t}(),ia=new Vt("AnalyzeForEntryComponents"),oa=new Map,aa=new Set;function sa(t){return"string"==typeof t?t:t.text()}function ua(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=kt(i,s):2==o&&(r=kt(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ca=null;function la(){if(!ca){var t=Nt.Symbol;if(t&&t.iterator)ca=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ca=r)}}return ca}function ha(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var fa=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function da(t){return!!pa(t)&&(Array.isArray(t)||!(t instanceof Map)&&la()in t)}function pa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function va(t,e,n){return t[e]=n}function ga(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ya(t,e,n,r){var i=Qe();return ga(i,on(),e)&&(Xe(),function(t,e,n,r,i,o){var a=Me(t,e),s=e[11];if(null==r)Ne(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Vn(r):i(r,t.tagName||"",n);Ne(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(wn(),i,t,e,n,r)),ya}function ma(t,e,n,r){return ga(t,on(),n)?e+Vn(n)+r:hi}function _a(t,e,n,r,i,o,a,s){var u=Qe(),c=Xe(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Ti(e,n[6],t,0,a||null,He(c,s));Vi(e,n,l,He(c,u)),En(e,l);var h=l.tViews=Mi(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Fi(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];Je(h,!1);var f=u[11].createComment("");So(c,u,f,h),Jr(f,u),eo(u,u[l]=Ji(f,u,f,h)),Te(h)&&Di(c,u,h),null!=a&&Ri(u,h,s)}function ba(t){return Ue(We.lFrame.contextLView,t)}function wa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default,n=Qe();return null==n?Xt(t,e):Jn($e(),n,St(t),e)}function ka(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Nn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}($e(),t)}function Ca(){throw new Error("invalid")}function Ea(t,e,n){var r=Qe();return ga(r,on(),e)&&ji(Xe(),wn(),r,t,e,r[11],n,!1),Ea}function Sa(t,e,n,r,i){var o=i?"class":"style";lo(t,n,e.inputs[o],o,r)}function Ia(t,e,n,r){var i=Qe(),o=Xe(),a=20+t,s=i[11],u=i[a]=Si(e,s,We.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=He(s,o),c=Ti(e,n[6],t,3,i,u);return Vi(e,n,c,He(s,a)),null!==c.attrs&&ua(c,c.attrs,!1),null!==c.mergedAttrs&&ua(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];Je(c,!0);var l=c.mergedAttrs;null!==l&&On(s,u,l);var h=c.classes;null!==h&&Oo(s,u,h);var f=c.styles;null!==f&&xo(s,u,f),So(o,i,u,c),0===We.lFrame.elementDepthCount&&Jr(u,i),We.lFrame.elementDepthCount++,Te(c)&&(Di(o,i,c),Ni(o,c,i)),null!==r&&Ri(i,c)}function Ta(){var t=$e();Ze()?tn():Je(t=t.parent,!1);var e=t;We.lFrame.elementDepthCount--;var n=Xe();n.firstCreatePass&&(En(n,t),Se(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Sa(n,e,Qe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Sa(n,e,Qe(),e.stylesWithoutHost,!1)}function Aa(t,e,n,r){Ia(t,e,n,r),Ta()}function Pa(t,e,n){var r=Qe(),i=Xe(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=He(o,r),s=Ti(e,n[6],t,4,"ng-container",a);return null!==a&&ua(s,a,!0),Vi(e,n,s,He(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];Je(a,!0);var s=r[o]=r[11].createComment("");So(i,r,s,a),Jr(s,r),Te(a)&&(Di(i,r,a),Ni(i,a,r)),null!=n&&Ri(r,a)}function xa(){var t=$e(),e=Xe();Ze()?tn():Je(t=t.parent,!1),e.firstCreatePass&&(En(e,t),Se(t)&&e.queries.elementEnd(t))}function Oa(){return Qe()}function Na(t){return!!t&&"function"==typeof t.then}function Da(t){return!!t&&"function"==typeof t.subscribe}function Ra(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Qe(),o=Xe(),a=$e();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Te(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=so(e),h=!0;if(3===r.type){var f=Me(r,e),d=s?s(f):ce,p=d.target||f,v=l.length,g=s?function(t){return s(Re(t[r.index])).target}:r.index;if(Ne(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=Ma(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=Ma(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],a,t,e,n,r),Ra}function La(t,e,n){try{return!1!==e(n)}catch(r){return co(t,r),!1}}function Ma(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?je(t.index,e):e;0==(32&e[2])&&no(a);for(var s=La(e,n,o),u=i.__ngNextListenerFn__;u;)s=La(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Fa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(We.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,We.lFrame.contextLView))[8]}(t)}function Ua(t,e,n){return ja(t,"",e,"",n),Ua}function ja(t,e,n,r,i){var o=Qe(),a=ma(o,e,n,r);return a!==hi&&ji(Xe(),wn(),o,t,a,o[11],i,!1),ja}var Va=[];function qa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?_i(o):wi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Ba(t[s],e)&&(u=!0,t[s+1]=r?Ci(c):bi(c)),s=r?_i(c):wi(c)}u&&(t[n+1]=r?bi(o):Ci(o))}function Ba(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ae(t,e)>=0}var Ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function za(t){return t.substring(Ha.key,Ha.keyEnd)}function Ga(t,e){var n=Ha.textEnd;return n===e?-1:(e=Ha.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ha.key=e,n),Wa(t,e,n))}function Wa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ka(t,e,n){return $a(t,e,n,!1),Ka}function Qa(t,e){return $a(t,e,null,!0),Qa}function Xa(t){!function(t,e,n,r){var i=Xe(),o=an(2);i.firstUpdatePass&&Za(i,null,o,!0);var a=Qe();if(n!==hi&&ga(a,o,n)){var s=i.data[_n()+20];if(os(s,!0)&&!Ja(i,o)){var u=s.classesWithoutHost;null!==u&&(n=kt(u,n||"")),Sa(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===hi&&(i=Va);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&ns(t,e,n,r,p,v,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Va;var r=[],i=mr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(ie,Ya,t)}function Ya(t,e){for(var n=function(t){return function(t){Ha.key=0,Ha.keyEnd=0,Ha.value=0,Ha.valueEnd=0,Ha.textEnd=t.length}(t),Ga(t,Wa(t,0,Ha.textEnd))}(e);n>=0;n=Ga(e,n))ie(t,za(e),!0)}function $a(t,e,n,r){var i,o,a=Qe(),s=Xe(),u=an(2);(s.firstUpdatePass&&Za(s,t,u,r),e!==hi&&ga(a,u,e))&&(null==n&&(i=null===(o=We.lFrame)?null:o.currentSanitizer)&&(n=i),ns(s,s.data[_n()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(mr(t)))),t}(e,n),r,u))}function Ja(t,e){return e>=t.expandoStartIndex}function Za(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[_n()+20],a=Ja(t,n);os(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=cn(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=es(n=ts(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ts(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==wi(r))return t[_i(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=es(s=ts(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=es(r,t[o].hostAttrs,n);return es(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=_i(a),u=wi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ae(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=_i(t[s+1]);t[r+1]=mi(f,s),0!==f&&(t[f+1]=ki(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=mi(s,0),0!==s&&(t[s+1]=ki(t[s+1],r)),s=r;else t[r+1]=mi(u,0),0===s?s=r:t[u+1]=ki(t[u+1],r),u=r;l&&(t[r+1]=bi(t[r+1])),qa(t,c,r,!0),qa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ae(o,e)>=0&&(n[r+1]=Ci(n[r+1]))}(e,c,t,r,o),a=mi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function ts(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=es(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function es(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ie(t,a,!!n||e[++o]))}return void 0===t?null:t}function ns(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];is(1==(1&c)?rs(u,e,n,i,wi(c),a):void 0)||(is(o)||2==(2&c)&&(o=rs(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ne(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Le(_n(),n),i,o))}}function rs(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===hi&&(f=h?Va:void 0);var d=h?oe(f,r):l===r?f:void 0;if(c&&!is(d)&&(d=oe(u,r)),is(d)&&(s=d,a))return s;var p=t[i+1];i=a?_i(p):wi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=oe(v,r))}return s}function is(t){return void 0!==t}function os(t,e){return 0!=(t.flags&(e?16:32))}function as(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Qe(),r=Xe(),i=t+20,o=r.firstCreatePass?Ti(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Ne(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);So(r,n,a,o),Je(o,!1)}function ss(t){return us("",t,""),ss}function us(t,e,n){var r=Qe(),i=ma(r,t,e,n);return i!==hi&&function(t,e,n){var r=Le(e,t),i=t[11];Ne(i)?i.setValue(r,n):r.textContent=n}(r,_n(),i),us}function cs(t,e,n){var r=Qe();return ga(r,on(),e)&&ji(Xe(),wn(),r,t,e,r[11],n,!0),cs}function ls(t,e,n){var r=Qe();if(ga(r,on(),e)){var i=Xe(),o=wn();ji(i,o,r,t,e,function(t,e,n){return(null===t||Ae(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(cn(i.data),o,r),n,!0)}return ls}function hs(t,e){var n=Ve(t)[1],r=n.data.length-1;En(n,{directiveStart:r,directiveEnd:r+1})}function fs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=ds(t.inputs),o.declaredInputs=ds(t.declaredInputs),o.outputs=ds(t.outputs);var a=i.hostBindings;a&&gs(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ps(t,s),u&&vs(t,u),lt(t.inputs,i.inputs),lt(t.declaredInputs,i.declaredInputs),lt(t.outputs,i.outputs),Ae(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===fs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rn(i.hostAttrs,n=Rn(n,i.hostAttrs))}}(r)}function ds(t){return t===ce?{}:t===le?[]:t}function ps(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function vs(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function gs(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ys=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ms(t){t.type.prototype.ngOnChanges&&(t.setInput=_s,t.onChanges=function(){var t=bs(this),e=t&&t.current;if(e){var n=t.previous;if(n===ce)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function _s(t,e,n,r){var i=bs(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ce,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ys(u&&u.currentValue,e,a===ce),t[r]=e}function bs(t){return t.__ngSimpleChanges__||null}function ws(t,e,n,r,i){if(t=St(t),Array.isArray(t))for(var o=0;o<t.length;o++)ws(t[o],e,n,r,i);else{var a=Xe(),s=Qe(),u=ea(t)?t:St(t.provide),c=Jo(t),l=$e(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ea(t)||!t.multi){var p=new xn(c,i,wa),v=Es(u,e,i?h:h+d,f);-1===v?($n(Kn(l,s),a,u),ks(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Es(u,e,h+d,f),y=Es(u,e,h,h+d),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){$n(Kn(l,s),a,u);var b=function(t,e,n,r,i){var o=new xn(t,n,wa);return o.multi=[],o.index=e,o.componentProviders=0,Cs(o,i,r&&!n),o}(i?Is:Ss,n.length,i,r,c);!i&&_&&(n[y].providerFactory=b),ks(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else ks(a,t,g>-1?g:y,Cs(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function ks(t,e,n,r){var i=ea(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Cs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Es(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ss(t,e,n,r){return Ts(this.multi,[])}function Is(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=nr(n,n[1],this.providerFactory.index,r);Ts(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ts(o,i=[]);return i}function Ts(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function As(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Xe();if(r.firstCreatePass){var i=Ae(t);ws(n,r.data,r.blueprint,i,!0),ws(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}ms.ngInherit=!0;var Ps=function t(){_classCallCheck(this,t)},xs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(wt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Os=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new xs,t}(),Ns=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ds(t)},t}(),Ds=function(t){return Fo(t,$e(),Qe())},Rs=function t(){_classCallCheck(this,t)},Ls=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ms=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Fs()},t}(),Fs=function(){var t=Qe(),e=je($e().index,t);return function(t){var e=t[11];if(Ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ce(e)?e:t)},Us=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return null}}),t}(),js=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Vs=new js("9.1.13"),qs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return da(t)}},{key:"create",value:function(t){return new Hs(t)}}]),t}(),Bs=function(t,e){return e},Hs=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Bs}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ks(n,r,i)?e:n,a=Ks(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!da(t))throw new Error("Error trying to diff '".concat(wt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&ha(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),ha(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[la()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&ha(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),ha(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(ha(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ha(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new zs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ws),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),zs=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Gs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ha(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ws=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Gs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Ks(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Qs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||pa(t)}},{key:"create",value:function(){return new Xs}}]),t}(),Xs=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||pa(t)))throw new Error("Error trying to diff '".concat(wt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ys(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){ha(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ys=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},$s=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new qs])}}),t}(),Js=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new Qs])}}),t}(),Zs=[new Qs],tu=new $s([new qs]),eu=new Js(Zs),nu=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ru(t,Ns)},t}(),ru=function(t,e){return Uo(t,e,$e(),Qe())},iu=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ou(t,Ns)},t}(),ou=function(t,e){return jo(t,e,$e(),Qe())},au={},su=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=be(t);return new lu(e,this.ngModule)}}]),n}(Os);function uu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var cu=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Bn}}),lu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(li).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,au,i);return o!==au||r===au?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Rs,De),u=a.get(Us,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ne(t))return t.selectRootElement(e,n===ue.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Si(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Bn,clean:ao,playerHandler:null,flags:0},v=Mi(0,-1,null,1,0,null,null,null,null,null),g=Ii(null,v,p,f,null,null,s,c,u,a);dn(g,null);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Ti(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(ua(s,u,!0),null!==t&&(On(i,t,u),null!==s.classes&&Oo(i,t,s.classes),null!==s.styles&&xo(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ii(n,Li(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&($n(Kn(s,n),a,e.type),Gi(a,s),Ki(s,n.length,1)),eo(n,l),n[20]=l}(h,this.componentDef,g,s,c);if(h)if(n)On(c,h,["ng-version",Vs.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&On(c,h,_),b&&b.length>0&&Oo(c,h,b.join(" "))}if(o=Fe(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=$e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,1),Qi(t,e,n));var i=nr(e,t,e.length-1,r);Jr(i,e);var o=Me(r,e);return o&&Jr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=$e();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){bn(s.index-20);var u=n[1];qi(u,e),Bi(u,n,e.hostVars),Hi(e,a)}return a}(y,this.componentDef,g,p,[hs]),Ai(v,g,null)}finally{mn()}var E=new hu(this.componentType,i,Fo(Ns,o,g),g,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return uu(this.componentDef.inputs)}},{key:"outputs",get:function(){return uu(this.componentDef.outputs)}}]),n}(Ps),hu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Mo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Fi(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new or(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),fu=void 0,du=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],pu={};function vu(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=gu(e);if(n)return n;var r=e.split("-")[0];if(n=gu(r))return n;if("en"===r)return du;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function gu(t){return t in pu||(pu[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),pu[t]}var yu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function mu(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var _u=new Map,bu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new su(_assertThisInitialized(i));var o=ke(t),a=t[Ft]||null;return a&&mu(a),i._bootstrapComponents=Hn(o.bootstrap),i._r3Injector=Xo(t,r,[{provide:Zt,useValue:_assertThisInitialized(i)},{provide:Os,useValue:i.componentFactoryResolver}],wt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ra.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;return t===ra||t===Zt||t===qt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Zt),wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==ke(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(wt(e)," vs ").concat(wt(e.name)))})(n,_u.get(n),e),_u.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new bu(this.moduleType,t)}}]),n}(te);function ku(t,e,n){var r=rn()+t,i=Qe();return i[r]===hi?va(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Cu(t,e,n,r){return Su(Qe(),rn(),t,e,n,r)}function Eu(t,e){var n=t[e];return n===hi?void 0:n}function Su(t,e,n,r,i,o){var a=e+n;return ga(t,a,i)?va(t,a+1,o?r.call(o,i):r(i)):Eu(t,a+1)}function Iu(t,e,n,r,i,o,a){var s=e+n;return function(t,e,n,r){var i=ga(t,e,n);return ga(t,e+1,r)||i}(t,s,i,o)?va(t,s+2,a?r.call(a,i,o):r(i,o)):Eu(t,s+2)}function Tu(t,e){var n,r=Xe(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=we(n.type)),a=Kt(wa),s=Gn(!1),u=o();return Gn(s),Kt(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,Qe(),t,u),u}function Au(t,e,n){var r=Qe(),i=Ue(r,t);return Ou(r,xu(r,t)?Su(r,rn(),e,i.transform,n,i):i.transform(n))}function Pu(t,e,n,r){var i=Qe(),o=Ue(i,t);return Ou(i,xu(i,t)?Iu(i,rn(),e,o.transform,n,r,o):o.transform(n,r))}function xu(t,e){return t[1].data[e+20].pure}function Ou(t,e){return fa.isWrapped(e)&&(e=fa.unwrap(e),t[We.lFrame.bindingIndex]=hi),e}var Nu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof f&&t.add(s),s}}]),n}(A);function Du(){return this._results[la()]()}var Ru=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Nu,this.length=0;var e=la(),n=t.prototype;n[e]||(n[e]=Du)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Lu=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Mu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Wu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Fu=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Uu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),ju=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Vu(e,n[r]));else{var i=this.metadata.predicate;i===nu?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,er(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ns||r===iu||r===nu&&0===e.type)this.addMatch(e.index,-2);else{var i=er(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Vu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Fo(Ns,t,e):0===t.type?Uo(nu,Ns,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ns?Fo(Ns,e,t):n===nu?Uo(nu,Ns,e,t):n===iu?jo(iu,Ns,e,t):void 0}(t,e,r):nr(t,t[1],n,e)}function Bu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:qu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Hu(t){var e=Qe(),n=Xe(),r=ln();hn(r+1);var i=Wu(n,r);if(t.dirty&&qe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Bu(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):Bu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function zu(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Uu),t.queries.track(new ju(e,n))}(t,new Fu(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new Ru;!function(t,e,n,r){var i=so(e);i.push(n),t.firstCreatePass&&uo(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Mu),e[19].queries.push(new Lu(n))}(t,e)}(Xe(),Qe(),e,n,r,0,$e(),t)}function Gu(){return t=Qe(),e=ln(),t[19].queries[e].queryList;var t,e}function Wu(t,e){return t.queries.getByIndex(e)}function Ku(t,e){return Uo(nu,Ns,t,e)}var Qu=new Vt("Application Initializer"),Xu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Na(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(Qu,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Yu=new Vt("AppId"),$u={provide:Yu,useFactory:function(){return"".concat(Ju()).concat(Ju()).concat(Ju())},deps:[]};function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Zu=new Vt("Platform Initializer"),tc=new Vt("Platform ID"),ec=new Vt("appBootstrapListener"),nc=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),rc=new Vt("LocaleId"),ic=new Vt("DefaultCurrencyCode"),oc=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ac=function(t){return new wu(t)},sc=ac,uc=function(t){return Promise.resolve(ac(t))},cc=function(t){var e=ac(t),n=Hn(ke(t).declarations).reduce((function(t,e){var n=be(e);return n&&t.push(new lu(n)),t}),[]);return new oc(e,n)},lc=cc,hc=function(t){return Promise.resolve(cc(t))},fc=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=sc,this.compileModuleAsync=uc,this.compileModuleAndAllComponentsSync=lc,this.compileModuleAndAllComponentsAsync=hc}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),dc=new Vt("compilerOptions"),pc=Promise.resolve(0);function vc(t){"undefined"==typeof Zone?pc.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var gc=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nu(!1),this.onMicrotaskEmpty=new Nu(!1),this.onStable=new Nu(!1),this.onError=new Nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,(function(){t.lastRequestAnimationFrameId=-1,bc(t),_c(t)})),bc(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return wc(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),kc(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return wc(n),t.invoke(r,i,o,a,s)}finally{kc(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,bc(n),_c(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mc,yc,yc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function yc(){}var mc={};function _c(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function bc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function wc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kc(t){t._nesting--,_c(t)}var Cc,Ec=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nu,this.onMicrotaskEmpty=new Nu,this.onStable=new Nu,this.onError=new Nu}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Sc=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){gc.assertNotInAngularZone(),vc((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())vc((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(gc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Ic=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Tc.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Tc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Tc=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Ac=function(t,e,n){var r=t.get(dc,[]).concat(e),i=new wu(n);if(0===oa.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=Nt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=ra.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(sa))}return e}return oa.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){aa.delete(t)}(n)}));e.push(u)})),oa=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Pc=new Vt("AllowMultipleToken"),xc=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Oc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Vt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Nc();if(!o||o.injector.get(Pc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Ho,useValue:"platform"});!function(t){if(Cc&&!Cc.destroyed&&!Cc.injector.get(Pc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cc=t.get(Dc);var e=t.get(Zu,null);e&&e.forEach((function(t){return t()}))}(ra.create({providers:a,name:r}))}return function(t){var e=Nc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nc(){return Cc&&!Cc.destroyed?Cc:null}var Dc=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Ec:("zone.js"===n?void 0:n)||new gc({enableLongStackTrace:Cr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:gc,useValue:o}];return o.run((function(){var e=ra.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(hr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Fc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Xu)).runInitializers(),a.donePromise.then((function(){return mu(n.injector.get(rc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Na(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Rc({},n);return Ac(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Mc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(wt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(ra))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Rc(t,e){return Array.isArray(e)?e.reduce(Rc,t):Object.assign(Object.assign({},t),e)}var Lc,Mc=((Lc=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Cr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new k((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),c=new k((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){gc.assertNotInAngularZone(),vc((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){gc.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return x(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof k?e[0]:K(r)(Q(e,i))}(u,c.pipe((function(t){return X()((e=et,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Zt),o=n.create(ra.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Sc,null);return a&&o.injector.get(Ic).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Cr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Fc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ec,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Fc(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Lc)(Xt(gc),Xt(nc),Xt(ra),Xt(hr),Xt(Os),Xt(Xu))},Lc.\u0275prov=ht({token:Lc,factory:Lc.\u0275fac}),Lc);function Fc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Uc=function t(){_classCallCheck(this,t)},jc=function t(){_classCallCheck(this,t)},Vc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},qc=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Vc}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Bc(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Bc(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(fc),Xt(jc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Bc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Hc=Oc(null,"core",[{provide:tc,useValue:"unknown"},{provide:Dc,deps:[ra]},{provide:Ic,deps:[]},{provide:nc,deps:[]}]),zc=[{provide:Mc,useClass:Mc,deps:[gc,nc,ra,hr,Os,Xu]},{provide:cu,deps:[gc],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Xu,useClass:Xu,deps:[[new ot,Qu]]},{provide:fc,useClass:fc,deps:[]},$u,{provide:$s,useFactory:function(){return tu},deps:[]},{provide:Js,useFactory:function(){return eu},deps:[]},{provide:rc,useFactory:function(t){return mu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(rc),new ot,new st]]},{provide:ic,useValue:"USD"}],Gc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=ge({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Xt(Mc))},providers:zc}),t}(),Wc={apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},Kc=null;function Qc(){return Kc}var Xc,Yc=new Vt("DocumentToken"),$c=((Xc=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Xc)},Xc.\u0275prov=ht({factory:Jc,token:Xc,providedIn:"platform"}),Xc);function Jc(){return Xt(el)}var Zc,tl=new Vt("Location Initialized"),el=((Zc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Qc().getLocation(),this._history=Qc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Qc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Qc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Qc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){nl()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){nl()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}($c)).\u0275fac=function(t){return new(t||Zc)(Xt(Yc))},Zc.\u0275prov=ht({factory:rl,token:Zc,providedIn:"platform"}),Zc);function nl(){return!!window.history.pushState}function rl(){return new el(Xt(Yc))}function il(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ol(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function al(t){return t&&"?"!==t[0]?"?"+t:t}var sl,ul=((sl=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||sl)},sl.\u0275prov=ht({factory:cl,token:sl,providedIn:"root"}),sl);function cl(t){var e=Xt(Yc).location;return new pl(Xt($c),e&&e.origin||"")}var ll,hl,fl,dl=new Vt("appBaseHref"),pl=((fl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return il(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+al(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+al(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+al(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ul)).\u0275fac=function(t){return new(t||fl)(Xt($c),Xt(dl,8))},fl.\u0275prov=ht({token:fl,factory:fl.\u0275fac}),fl),vl=((hl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=il(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+al(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+al(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ul)).\u0275fac=function(t){return new(t||hl)(Xt($c),Xt(dl,8))},hl.\u0275prov=ht({token:hl,factory:hl.\u0275fac}),hl),gl=((ll=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new Nu,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=ol(ml(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+al(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ml(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+al(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+al(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||ll)(Xt(ul),Xt($c))},ll.normalizeQueryParams=al,ll.joinWithSlash=il,ll.stripTrailingSlash=ol,ll.\u0275prov=ht({factory:yl,token:ll,providedIn:"root"}),ll);function yl(){return new gl(Xt(ul),Xt($c))}function ml(t){return t.replace(/\/index.html$/,"")}var _l=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),bl=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),wl=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),kl=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Cl=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function El(t,e){return Pl(vu(t)[yu.DateFormat],e)}function Sl(t,e){return Pl(vu(t)[yu.TimeFormat],e)}function Il(t,e){return Pl(vu(t)[yu.DateTimeFormat],e)}function Tl(t,e){var n=vu(t),r=n[yu.NumberSymbols][e];if(void 0===r){if(e===Cl.CurrencyDecimal)return n[yu.NumberSymbols][Cl.Decimal];if(e===Cl.CurrencyGroup)return n[yu.NumberSymbols][Cl.Group]}return r}function Al(t){if(!t[yu.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[yu.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Pl(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function xl(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var Ol=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nl={},Dl=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Rl=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Ll=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Ml=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Fl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Ul(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function jl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(t,e){switch(t){case Ll.FullYear:return e.getFullYear();case Ll.Month:return e.getMonth();case Ll.Date:return e.getDate();case Ll.Hours:return e.getHours();case Ll.Minutes:return e.getMinutes();case Ll.Seconds:return e.getSeconds();case Ll.FractionalSeconds:return e.getMilliseconds();case Ll.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Ll.Hours)0===u&&-12===n&&(u=12);else if(t===Ll.FractionalSeconds)return s=e,Ul(u,3).substr(0,s);var c=Tl(a,Cl.MinusSign);return Ul(u,e,c,r,i)}}function Vl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bl.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case Ml.Months:return function(t,e,n){var r=vu(t),i=Pl([r[yu.MonthsFormat],r[yu.MonthsStandalone]],e);return Pl(i,n)}(e,i,r)[t.getMonth()];case Ml.Days:return function(t,e,n){var r=vu(t),i=Pl([r[yu.DaysFormat],r[yu.DaysStandalone]],e);return Pl(i,n)}(e,i,r)[t.getDay()];case Ml.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,c=function(t){var e=vu(t);return Al(e),(e[yu.ExtraData][2]||[]).map((function(t){return"string"==typeof t?xl(t):[xl(t[0]),xl(t[1])]}))}(e),l=function(t,e,n){var r=vu(t);Al(r);var i=Pl([r[yu.ExtraData][0],r[yu.ExtraData][1]],e)||[];return Pl(i,n)||[]}(e,i,r);if(c.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],c=o.hours,h=o.minutes;a>=r&&s>=i&&(a<c||a===c&&s<h)&&(u=l[e])}else{var f=t.hours,d=t.minutes;f===a&&d===s&&(u=l[e])}})),u)return u}return function(t,e,n){var r=vu(t),i=Pl([r[yu.DayPeriodsFormat],r[yu.DayPeriodsStandalone]],e);return Pl(i,n)}(e,i,r)[a<12?0:1];case Ml.Eras:return function(t,e){return Pl(vu(t)[yu.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function ql(t){return function(e,n,r){var i=-1*r,o=Tl(n,Cl.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Rl.Short:return(i>=0?"+":"")+Ul(a,2,o)+Ul(Math.abs(i%60),2,o);case Rl.ShortGMT:return"GMT"+(i>=0?"+":"")+Ul(a,1,o);case Rl.Long:return"GMT"+(i>=0?"+":"")+Ul(a,2,o)+":"+Ul(Math.abs(i%60),2,o);case Rl.Extended:return 0===r?"Z":(i>=0?"+":"")+Ul(a,2,o)+":"+Ul(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Bl(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Ul(i,t,Tl(r,Cl.MinusSign))}}var Hl={};function zl(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Gl(t){return t instanceof Date&&!isNaN(t.valueOf())}var Wl,Kl=function t(){_classCallCheck(this,t)},Ql=((Wl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return vu(t)[yu.PluralCase]}(e||this.locale)(t)){case _l.Zero:return"zero";case _l.One:return"one";case _l.Two:return"two";case _l.Few:return"few";case _l.Many:return"many";default:return"other"}}}]),n}(Kl)).\u0275fac=function(t){return new(t||Wl)(Xt(rc))},Wl.\u0275prov=ht({token:Wl,factory:Wl.\u0275fac}),Wl);function Xl(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var Yl,$l,Jl,Zl=((Yl=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(da(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||Yl)(wa($s),wa(Js),wa(Ns),wa(Ms))},Yl.\u0275dir=me({type:Yl,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Yl),th=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),eh=(($l=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new th(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new nh(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new nh(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Cr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||$l)(wa(iu),wa(nu),wa($s))},$l.\u0275dir=me({type:$l,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),$l),nh=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},rh=((Jl=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new ih,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){oh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){oh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Jl)(wa(iu),wa(nu))},Jl.\u0275dir=me({type:Jl,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Jl),ih=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function oh(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(wt(e),"'."))}function ah(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(wt(t),"'"))}var sh,uh,ch,lh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),hh=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),fh=new lh,dh=((ch=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):ha(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,fa.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Na(e))return hh;if(Da(e))return fh;throw ah(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||ch)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.Default,e=Vo(!0);if(null!=e||t&ut.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},ch.\u0275pipe=_e({name:"async",type:ch,pure:!1}),ch),ph=((uh=function(){function t(e){_classCallCheck(this,t),this.locale=e}return _createClass(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){var i=function(t){if(Gl(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=_slicedToArray(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(e=t.match(Ol))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(e)}var s=new Date(t);if(!Gl(s))throw new Error('Unable to convert "'.concat(t,'" into a date'));return s}(t);e=function t(e,n){var r=function(t){return vu(t)[yu.LocaleId]}(e);if(Nl[r]=Nl[r]||{},Nl[r][n])return Nl[r][n];var i="";switch(n){case"shortDate":i=El(e,kl.Short);break;case"mediumDate":i=El(e,kl.Medium);break;case"longDate":i=El(e,kl.Long);break;case"fullDate":i=El(e,kl.Full);break;case"shortTime":i=Sl(e,kl.Short);break;case"mediumTime":i=Sl(e,kl.Medium);break;case"longTime":i=Sl(e,kl.Long);break;case"fullTime":i=Sl(e,kl.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=Fl(Il(e,kl.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=Fl(Il(e,kl.Medium),[s,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=Fl(Il(e,kl.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Fl(Il(e,kl.Full),[h,f])}return i&&(Nl[r][n]=i),i}(n,e)||e;for(var o,a=[];e;){if(!(o=Dl.exec(e))){a.push(e);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;e=s}var u=i.getTimezoneOffset();r&&(u=zl(r,u),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(zl(e,r)-r))}(i,r));var c="";return a.forEach((function(t){var e=function(t){if(Hl[t])return Hl[t];var e;switch(t){case"G":case"GG":case"GGG":e=Vl(Ml.Eras,wl.Abbreviated);break;case"GGGG":e=Vl(Ml.Eras,wl.Wide);break;case"GGGGG":e=Vl(Ml.Eras,wl.Narrow);break;case"y":e=jl(Ll.FullYear,1,0,!1,!0);break;case"yy":e=jl(Ll.FullYear,2,0,!0,!0);break;case"yyy":e=jl(Ll.FullYear,3,0,!1,!0);break;case"yyyy":e=jl(Ll.FullYear,4,0,!1,!0);break;case"M":case"L":e=jl(Ll.Month,1,1);break;case"MM":case"LL":e=jl(Ll.Month,2,1);break;case"MMM":e=Vl(Ml.Months,wl.Abbreviated);break;case"MMMM":e=Vl(Ml.Months,wl.Wide);break;case"MMMMM":e=Vl(Ml.Months,wl.Narrow);break;case"LLL":e=Vl(Ml.Months,wl.Abbreviated,bl.Standalone);break;case"LLLL":e=Vl(Ml.Months,wl.Wide,bl.Standalone);break;case"LLLLL":e=Vl(Ml.Months,wl.Narrow,bl.Standalone);break;case"w":e=Bl(1);break;case"ww":e=Bl(2);break;case"W":e=Bl(1,!0);break;case"d":e=jl(Ll.Date,1);break;case"dd":e=jl(Ll.Date,2);break;case"E":case"EE":case"EEE":e=Vl(Ml.Days,wl.Abbreviated);break;case"EEEE":e=Vl(Ml.Days,wl.Wide);break;case"EEEEE":e=Vl(Ml.Days,wl.Narrow);break;case"EEEEEE":e=Vl(Ml.Days,wl.Short);break;case"a":case"aa":case"aaa":e=Vl(Ml.DayPeriods,wl.Abbreviated);break;case"aaaa":e=Vl(Ml.DayPeriods,wl.Wide);break;case"aaaaa":e=Vl(Ml.DayPeriods,wl.Narrow);break;case"b":case"bb":case"bbb":e=Vl(Ml.DayPeriods,wl.Abbreviated,bl.Standalone,!0);break;case"bbbb":e=Vl(Ml.DayPeriods,wl.Wide,bl.Standalone,!0);break;case"bbbbb":e=Vl(Ml.DayPeriods,wl.Narrow,bl.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vl(Ml.DayPeriods,wl.Abbreviated,bl.Format,!0);break;case"BBBB":e=Vl(Ml.DayPeriods,wl.Wide,bl.Format,!0);break;case"BBBBB":e=Vl(Ml.DayPeriods,wl.Narrow,bl.Format,!0);break;case"h":e=jl(Ll.Hours,1,-12);break;case"hh":e=jl(Ll.Hours,2,-12);break;case"H":e=jl(Ll.Hours,1);break;case"HH":e=jl(Ll.Hours,2);break;case"m":e=jl(Ll.Minutes,1);break;case"mm":e=jl(Ll.Minutes,2);break;case"s":e=jl(Ll.Seconds,1);break;case"ss":e=jl(Ll.Seconds,2);break;case"S":e=jl(Ll.FractionalSeconds,1);break;case"SS":e=jl(Ll.FractionalSeconds,2);break;case"SSS":e=jl(Ll.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ql(Rl.Short);break;case"ZZZZZ":e=ql(Rl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ql(Rl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ql(Rl.Long);break;default:return null}return Hl[t]=e,e}(t);c+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(e,n,i||this.locale,r)}catch(o){throw ah(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||uh)(wa(rc))},uh.\u0275pipe=_e({name:"date",type:uh,pure:!0}),uh),vh=((sh=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:sh}),sh.\u0275inj=ft({factory:function(t){return new(t||sh)},providers:[{provide:Kl,useClass:Ql}]}),sh);function gh(t){return"server"===t}var yh,mh,_h,bh,wh,kh=((yh=function t(){_classCallCheck(this,t)}).\u0275prov=ht({token:yh,providedIn:"root",factory:function(){return new Ch(Xt(Yc),window,Xt(hr))}}),yh),Ch=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),Eh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Sh||(Sh=document.querySelector("base"))?Sh.getAttribute("href"):null;return null==n?null:(e=n,mh||(mh=document.createElement("a")),mh.setAttribute("href",e),"/"===mh.pathname.charAt(0)?mh.pathname:"/"+mh.pathname)}},{key:"resetBaseElement",value:function(){Sh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Xl(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Kc||(Kc=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),Sh=null,Ih=new Vt("TRANSITION_ID"),Th=[{provide:Qu,useFactory:function(t,e,n){return function(){n.get(Xu).donePromise.then((function(){var n=Qc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Ih,Yc,ra],multi:!0}],Ah=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Nt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Nt.getAllAngularRootElements=function(){return t.getAllRootElements()},Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push((function(t){var e=Nt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Qc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,Tc=e}}]),t}(),Ph=new Vt("EventManagerPlugins"),xh=((_h=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||_h)(Xt(Ph),Xt(gc))},_h.\u0275prov=ht({token:_h,factory:_h.\u0275fac}),_h),Oh=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Qc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Nh=((wh=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||wh)},wh.\u0275prov=ht({token:wh,factory:wh.\u0275fac}),wh),Dh=((bh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Qc().remove(t)}))}}]),n}(Nh)).\u0275fac=function(t){return new(t||bh)(Xt(Yc))},bh.\u0275prov=ht({token:bh,factory:bh.\u0275fac}),bh),Rh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lh=/%COMP%/g;function Mh(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Mh(t,i,n):(i=i.replace(Lh,t),n.push(i))}return n}function Fh(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Uh,jh,Vh,qh,Bh,Hh,zh=((Uh=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Gh(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ue.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Wh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case ue.Native:case ue.ShadowDom:return new Kh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Mh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Uh)(Xt(xh),Xt(Dh),Xt(Yu))},Uh.\u0275prov=ht({token:Uh,factory:Uh.\u0275fac}),Uh),Gh=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Rh[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Rh[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Rh[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Ls.DashCase?t.style.setProperty(e,n,r&Ls.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Ls.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fh(n)):this.eventManager.addEventListener(t,e,Fh(n))}}]),t}(),Wh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=Mh(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(Lh,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(Lh,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Gh),Kh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===ue.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Mh(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Gh),Qh=((jh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Oh)).\u0275fac=function(t){return new(t||jh)(Xt(Yc))},jh.\u0275prov=ht({token:jh,factory:jh.\u0275fac}),jh),Xh=["alt","control","meta","shift"],Yh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jh={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Zh=((Bh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Qc().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Xh.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&$h.hasOwnProperty(e)&&(e=$h[e]))}return Yh[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Xh.forEach((function(r){r!=n&&(0,Jh[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Oh)).\u0275fac=function(t){return new(t||Bh)(Xt(Yc))},Bh.\u0275prov=ht({token:Bh,factory:Bh.\u0275fac}),Bh),tf=((qh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||qh)},qh.\u0275prov=ht({factory:function(){return Xt(ef)},token:qh,providedIn:"root"}),qh),ef=((Vh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case Wr.NONE:return e;case Wr.HTML:return _r(e,"HTML")?mr(e):zr(this._doc,String(e));case Wr.STYLE:return _r(e,"Style")?mr(e):function(t){if(!(t=String(t).trim()))return"";var e=t.match(Qr);return e&&Tr(e[1])===e[1]||t.match(Kr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Cr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e);case Wr.SCRIPT:if(_r(e,"Script"))return mr(e);throw new Error("unsafe value used in a script context");case Wr.URL:return br(e),_r(e,"URL")?mr(e):Tr(String(e));case Wr.RESOURCE_URL:if(_r(e,"ResourceURL"))return mr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new dr(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new pr(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new vr(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new gr(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new yr(t)}}]),n}(tf)).\u0275fac=function(t){return new(t||Vh)(Xt(Yc))},Vh.\u0275prov=ht({factory:function(){return t=Xt(qt),new ef(t.get(Yc));var t},token:Vh,providedIn:"root"}),Vh),nf=Oc(Hc,"browser",[{provide:tc,useValue:"browser"},{provide:Zu,useValue:function(){Eh.makeCurrent(),Ah.init()},multi:!0},{provide:Yc,useFactory:function(){return function(t){xe=t}(document),document},deps:[]}]),rf=[[],{provide:Ho,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:Ph,useClass:Qh,multi:!0,deps:[Yc,gc,tc]},{provide:Ph,useClass:Zh,multi:!0,deps:[Yc]},[],{provide:zh,useClass:zh,deps:[xh,Dh,Yu]},{provide:Rs,useExisting:zh},{provide:Nh,useExisting:Dh},{provide:Dh,useClass:Dh,deps:[Yc]},{provide:Sc,useClass:Sc,deps:[gc]},{provide:xh,useClass:xh,deps:[Ph,gc]},[]],of=((Hh=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Yu,useValue:e.appId},{provide:Ih,useExisting:Yu},Th]}}}]),t}()).\u0275mod=ge({type:Hh}),Hh.\u0275inj=ft({factory:function(t){return new(t||Hh)(Xt(Hh,12))},providers:rf,imports:[vh,Gc]}),Hh);"undefined"!=typeof window&&window;var af=function t(){_classCallCheck(this,t)};function sf(t,e){return{type:7,name:t,definitions:e,options:{}}}function uf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function cf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function lf(t){return{type:6,styles:t,offset:null}}function hf(t,e,n){return{type:0,name:t,styles:e,options:n}}function ff(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function df(t){Promise.resolve(null).then(t)}var pf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;df((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),vf=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?df((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function gf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yf(t){switch(t.length){case 0:return new pf;case 1:return t[0];default:return new vf(t)}}function mf(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function _f(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&bf(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&bf(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&bf(n,"destroy",t))}))}}function bf(t,e,n){var r=n.totalTime,i=wf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function wf(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function kf(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Cf(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Ef=function(t,e){return!1},Sf=function(t,e){return!1},If=function(t,e,n){return[]},Tf=gf();(Tf||"undefined"!=typeof Element)&&(Ef=function(t,e){return t.contains(e)},Sf=function(){if(Tf||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Sf}(),If=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var Af=null,Pf=!1;function xf(t){Af||(Af=("undefined"!=typeof document?document.body:null)||{},Pf=!!Af.style&&"WebkitAppearance"in Af.style);var e=!0;return Af.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Af.style)&&Pf)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Af.style),e}var Of=Sf,Nf=Ef,Df=If;function Rf(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Lf,Mf=((Lf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return xf(t)}},{key:"matchesElement",value:function(t,e){return Of(t,e)}},{key:"containsElement",value:function(t,e){return Nf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new pf(n,r)}}]),t}()).\u0275fac=function(t){return new(t||Lf)},Lf.\u0275prov=ht({token:Lf,factory:Lf.\u0275fac}),Lf),Ff=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new Mf,t}();function Uf(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jf(parseFloat(e[1]),e[2])}function jf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Vf(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=jf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=jf(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function qf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Bf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else qf(t,n);return n}function Hf(t,e,n){return n?e+":"+n+";":""}function zf(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Hf(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Hf(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Gf(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Zf(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),gf()&&zf(t))}function Wf(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Zf(e);t.style[n]=""})),gf()&&zf(t))}function Kf(t){return Array.isArray(t)?1==t.length?t[0]:cf(t):t}var Qf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xf(t){var e=[];if("string"==typeof t){for(var n;n=Qf.exec(t);)e.push(n[1]);Qf.lastIndex=0}return e}function Yf(t,e,n){var r=t.toString(),i=r.replace(Qf,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function $f(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Jf=/-+([a-z0-9])/g;function Zf(t){return t.replace(Jf,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function td(t,e){return 0===t||0===e}function ed(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=rd(t,e)}))},s=1;s<e.length;s++)a()}return e}function nd(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function rd(t,e){return window.getComputedStyle(t)[e]}var id=new Set(["true","1"]),od=new Set(["false","0"]);function ad(t,e){var n=id.has(t)||od.has(t),r=id.has(e)||od.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?id.has(t):od.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?id.has(e):od.has(e)),a&&s}}var sd=new RegExp("s*:selfs*,?","g");function ud(t,e,n){return new cd(t).build(e,n)}var cd=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new ld(e);return this._resetContextStyleTimingState(n),nd(this,Kf(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(hd(t)){var e=t;Object.keys(e).forEach((function(t){Xf(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=$f(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=nd(this,Kf(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(ad(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(ad(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:fd(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return nd(n,t,e)})),options:fd(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=nd(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:fd(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return dd(Vf(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=dd(0,0,"");return i.dynamic=!0,i.strValue=r,i}return dd((n=n||Vf(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:lf({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=lf(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(hd(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=Xf(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(hd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(hd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:nd(this,Kf(t.animation),e),options:fd(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:fd(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fd(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(sd,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,kf(e.collectedStyles,e.currentQuerySelector,{});var s=nd(this,Kf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:fd(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vf(t.timings,e.errors,!0);return{type:12,animation:nd(this,Kf(t.animation),e),timings:n,options:null}}}]),t}(),ld=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function hd(t){return!Array.isArray(t)&&"object"==typeof t}function fd(t){var e;return t?(t=qf(t)).params&&(t.params=(e=t.params)?qf(e):null):t={},t}function dd(t,e,n){return{duration:t,delay:e,easing:n}}function pd(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var vd=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),gd=new RegExp(":enter","g"),yd=new RegExp(":leave","g");function md(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new _d).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var _d=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new vd;var l=new wd(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),nd(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[pd(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Uf(n.duration):null,o=null!=n.delay?Uf(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),nd(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bd);var a=Uf(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return nd(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Uf(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),nd(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Vf(e.params?Yf(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Uf(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bd);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),nd(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;nd(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),bd={},wd=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new kd(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Uf(r.duration)),null!=r.delay&&(i.delay=Uf(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Yf(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=bd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Cd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(gd,"."+this._enterClassName)).replace(yd,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),kd=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Bf(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Yf(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Bf(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?$f(e.values()):[],a=n.size?$f(n.values()):[];if(r){var s=i[0],u=qf(s);s.offset=0,u.offset=1,i=[s,u]}return pd(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Cd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Bf(t[0],!1);u.offset=0,o.push(u);var c=Bf(t[0],!1);c.offset=Ed(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Bf(t[h],!1);f.offset=Ed((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return pd(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(kd);function Ed(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Sd=function t(){_classCallCheck(this,t)},Id=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Zf(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(Td[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Sd),Td=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ad(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Pd={},xd=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Pd,f=this.buildStyles(n,a&&a.params||Pd,l),d=s&&s.params||Pd,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:md(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return Ad(e,this._triggerName,n,r,m,f,p,[],[],g,y,w,l);b.forEach((function(t){var n=t.element,r=kf(g,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=kf(y,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=$f(v.values());return Ad(e,this._triggerName,n,r,m,f,p,b,k,g,y,w)}}]),t}(),Od=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=qf(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Yf(o,r,e)),n[t]=o}))}})),n}}]),t}(),Nd=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new Od(t.style,t.options&&t.options.params||{})})),Dd(this.states,"true","1"),Dd(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new xd(e,t,r.states))})),this.fallbackTransition=new xd(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Dd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Rd=new vd,Ld=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=ud(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=mf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=md(this._driver,e,a,"ng-enter","ng-leave",{},{},i,Rd,o)).forEach((function(t){var e=kf(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=yf(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=wf(e,"","","");return _f(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Md=[],Fd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ud={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jd=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=qf(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Vd=new jd("void"),qd=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qd(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=kf(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=kf(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Qd(t,"ng-trigger"),Qd(t,"ng-trigger-"+e),u[e]=Vd),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Hd(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Qd(t,"ng-trigger"),Qd(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new jd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Vd),"void"===c.value||u.value!==c.value){var l=kf(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Qd(t,"ng-animate-queued"),a.onStart((function(){Xd(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Wf(t,p),Gf(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&yf(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Vd,s=new jd("void"),u=new Hd(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Fd||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Qd(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=wf(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,_f(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Bd=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new qd(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(zd(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(zd(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qd(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xd(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(zd(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return zd(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return yf(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Fd,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Qd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?yf(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new vd,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Kd(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Qd(t,n)}))}));for(var g=[],y=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(g.push(b),y.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):m.add(b))}var k=new Map,C=Kd(f,Array.from(y));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Qd(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Xd(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Xd(t,n)}))})),g.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),g=n._buildInstruction(t,r,v,d,f);if(g.errors&&g.errors.length)S.push(g);else{if(f)return e.onStart((function(){return Wf(o,g.fromStyles)})),e.onDestroy((function(){return Gf(o,g.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Wf(o,g.fromStyles)})),e.onDestroy((function(){return Gf(o,g.toStyles)})),void i.push(e);g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:e,element:o}),g.queriedElements.forEach((function(t){return kf(s,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var A=new Map,P=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(P.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){kf(A,e,[]).push(t),t.destroy()}))}));var x=g.filter((function(t){return $d(t,u,c)})),O=new Map;Wd(O,this.driver,m,c,"*").forEach((function(t){$d(t,u,c)&&x.push(t)}));var N=new Map;d.forEach((function(t,e){Wd(N,n.driver,new Set(t),u,"!")})),x.forEach((function(t){var e=O.get(t),n=N.get(t);O.set(t,Object.assign(Object.assign({},e),n))}));var D=[],R=[],L={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(l.has(e))return a.onDestroy((function(){return Gf(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=L;if(P.size>1){for(var c=e,h=[];c=c.parentNode;){var f=P.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return P.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,A,o,N,O);if(a.setRealPlayer(d),u===L)D.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=yf(p)),i.push(a)}}else Wf(e,s.fromStyles),a.onDestroy((function(){return Gf(e,s.toStyles)})),R.push(a),l.has(e)&&i.push(a)})),R.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=yf(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var M=0;M<g.length;M++){var F=g[M],U=F.__ng_removed;if(Xd(F,"ng-leave"),!U||!U.hasAnimation){var j=[];if(s.size){var V=s.get(F);V&&V.length&&j.push.apply(j,_toConsumableArray(V));for(var q=this.driver.query(F,".ng-animating",!0),B=0;B<q.length;B++){var H=s.get(q[B]);H&&H.length&&j.push.apply(j,_toConsumableArray(H))}}var z=j.filter((function(t){return!t.destroyed}));z.length?Yd(this,F,z):this.processLeaveNode(F)}}return g.length=0,D.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=kf(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}Wf(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new pf(e.duration,e.delay);var p,v,g=f!==u,y=(p=(n.get(f)||Md).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof vf?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),_=o.get(f),b=mf(0,a._normalizer,0,e.keyframes,m,_),w=a._buildPlayer(e,b,y);if(e.subTimeline&&r&&h.add(f),g){var k=new Hd(t,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){kf(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Qd(t,"ng-animating")}));var d=yf(f);return d.onDestroy((function(){l.forEach((function(t){return Xd(t,"ng-animating")})),Gf(u,e.toStyles)})),h.forEach((function(t){kf(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new pf(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Hd=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new pf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return _f(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){kf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function zd(t){return t&&1===t.nodeType}function Gd(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Wd(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Gd(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ud,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return Gd(t,o[s++])})),a}function Kd(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Qd(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Xd(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Yd(t,e,n){yf(n).onDone((function(){return t.processLeaveNode(e)}))}function $d(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Jd=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Bd(e,n,r),this._timelineEngine=new Ld(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=ud(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new Nd(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Cf(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Cf(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Zd(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=ep(e[0]),e.length>1&&(r=ep(e[e.length-1]))):e&&(n=ep(e)),n||r?new tp(t,n,r):null}var tp=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Gf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Gf(this._element,this._initialStyles),this._endStyles&&(Gf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Wf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wf(this._element,this._endStyles),this._endStyles=null),Gf(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function ep(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];np(i)&&((e=e||{})[i]=t[i])}return e}function np(t){return"display"===t||"position"===t}var rp=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=cp(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),up(t,"",e),sp(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){ip(this._element,this._name,"paused")}},{key:"resume",value:function(){ip(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=op(this._element,this._name);this._position=t*this._duration,up(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),sp(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=cp(t,"").split(","),r=ap(n,e);r>=0&&(n.splice(r,1),up(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function ip(t,e,n){up(t,"PlayState",n,op(t,e))}function op(t,e){var n=cp(t,"");return n.indexOf(",")>0?ap(n.split(","),e):ap([n],e)}function ap(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function sp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function up(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function cp(t,e){return t.style["animation"+e]}var lp=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new rp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:rd(t.element,r))}))}this.currentSnapshot=e}}]),t}(),hp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Rf(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(pf),fp=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return xf(t)}},{key:"matchesElement",value:function(t,e){return Of(t,e)}},{key:"containsElement",value:function(t,e){return Nf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Rf(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof lp})),u={};td(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=ed(t,e,u));if(0==n)return new hp(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Zd(t,e),d=new lp(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),dp=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:rd(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),pp=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vp().toString()),this._cssKeyframesDriver=new fp}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return xf(t)}},{key:"matchesElement",value:function(t,e){return Of(t,e)}},{key:"containsElement",value:function(t,e){return Nf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof dp}));td(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Zd(t,e=ed(t,e=e.map((function(t){return Bf(t,!1)})),u));return new dp(t,e,s,l)}}]),t}();function vp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var gp,yp=((gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ue.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?cf(t):t;return bp(this._renderer,null,e,"register",[n]),new mp(e,this._renderer)}}]),n}(af)).\u0275fac=function(t){return new(t||gp)(Xt(Rs),Xt(Yc))},gp.\u0275prov=ht({token:gp,factory:gp.\u0275fac}),gp),mp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new _p(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),_p=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return bp(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function bp(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var wp,kp,Cp,Ep=((wp=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Sp("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)})),new Ip(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||wp)(Xt(Rs),Xt(Jd),Xt(gc))},wp.\u0275prov=ht({token:wp,factory:wp.\u0275fac}),wp),Sp=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Ip=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(Sp),Tp=((kp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Jd)).\u0275fac=function(t){return new(t||kp)(Xt(Yc),Xt(Ff),Xt(Sd))},kp.\u0275prov=ht({token:kp,factory:kp.\u0275fac}),kp),Ap=[{provide:Ff,useFactory:function(){return"function"==typeof vp()?new pp:new fp}},{provide:new Vt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:af,useClass:yp},{provide:Sd,useFactory:function(){return new Id}},{provide:Jd,useClass:Tp},{provide:Rs,useFactory:function(t,e,n){return new Ep(t,e,n)},deps:[zh,Jd,gc]}],Pp=((Cp=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:Cp}),Cp.\u0275inj=ft({factory:function(t){return new(t||Cp)},providers:Ap,imports:[of]}),Cp);function xp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return x(r)?(e.pop(),B(e,r)):Q(e)}var Op=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(A),Np=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Dp={},Rp=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Lp(t,this.resultSelector))}}]),t}(),Lp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Dp),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(F(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Dp?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(U),Mp=new k((function(t){return t.complete()}));function Fp(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Mp}function Up(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?H(n):Fp()).subscribe(e)}))}function jp(){return K(1)}function Vp(t,e){return function(n){return n.lift(new qp(t,e))}}var qp=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Bp(t,this.predicate,this.thisArg))}}]),t}(),Bp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(v),Hp=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function zp(t){return function(e){return 0===t?Fp():e.lift(new Gp(t))}}var Gp=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Hp}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Wp(t,this.total))}}]),t}(),Wp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(v);function Kp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yp;return function(e){return e.lift(new Qp(t))}}var Qp=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xp(t,this.errorFactory))}}]),t}(),Xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(v);function Yp(){return new Np}function $p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Jp(t))}}var Jp=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Zp(t,this.defaultValue))}}]),t}(),Zp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function tv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Vp((function(e,n){return t(e,n,r)})):m,zp(1),n?$p(e):Kp((function(){return new Np})))}}function ev(t){return function(e){var n=new nv(t),r=e.lift(n);return n.caught=r}}var nv=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rv(t,this.selector,this.caught))}}]),t}(),rv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new O(this,void 0,void 0);this.add(r);var i=F(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(U);function iv(t){return function(e){return 0===t?Fp():e.lift(new ov(t))}}var ov=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Hp}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new av(t,this.total))}}]),t}(),av=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function sv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Vp((function(e,n){return t(e,n,r)})):m,iv(1),n?$p(e):Kp((function(){return new Np})))}}var uv=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new cv(t,this.predicate,this.thisArg,this.source))}}]),t}(),cv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function lv(t,e){return"function"==typeof e?function(n){return n.pipe(lv((function(n,r){return H(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new hv(t))}}var hv=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new fv(t,this.project))}}]),t}(),fv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new O(this,e,n),o=this.destination;o.add(i),this.innerSubscription=F(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(U);function dv(){return jp()(xp.apply(void 0,arguments))}function pv(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new vv(t,e,n))}}var vv=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new gv(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),gv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(v);function yv(t,e){return z(t,e,1)}function mv(){}function _v(t,e,n){return function(r){return r.lift(new bv(t,e,n))}}var bv=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new wv(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),wv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t))._tapNext=mv,s._tapError=mv,s._tapComplete=mv,s._tapError=o||mv,s._tapComplete=a||mv,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||mv,s._tapError=i.error||mv,s._tapComplete=i.complete||mv),s}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(v);function kv(t){return function(e){return e.lift(new Ev(t))}}var Cv,Ev=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Sv(t,this.callback))}}]),t}(),Sv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new f(r)),i}return n}(v),Iv=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Tv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Iv),Av=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Iv),Pv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Iv),xv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Iv),Ov=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Iv),Nv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Iv),Dv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Iv),Rv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Iv),Lv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Iv),Mv=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Fv=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Uv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),jv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Vv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),qv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Bv=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Hv=((Cv=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Cv)},Cv.\u0275cmp=fe({type:Cv,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"router-outlet")},directives:function(){return[tm]},encapsulation:2}),Cv),zv=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Gv(t){return new zv(t)}function Wv(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Kv(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Qv=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Xv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Yv(r,$v(e,r))}}function Yv(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Xv(t.children,e)}function $v(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Jv(t){var e=t.children&&t.children.map(Jv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Hv),n}function Zv(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!tg(t[n=r[o]],e[n]))return!1;return!0}function tg(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function eg(t){return Array.prototype.concat.apply([],t)}function ng(t){return t.length>0?t[t.length-1]:null}function rg(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ig(t){return Da(t)?t:Na(t)?H(Promise.resolve(t)):xp(t)}function og(t,e,n){return n?function(t,e){return Zv(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!cg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return tg(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!cg(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!cg(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!cg(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var ag=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return dg.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Gv(this.queryParams)),this._queryParamMap}}]),t}(),sg=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,rg(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return pg(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),ug=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return bg(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Gv(this.parameters)),this._parameterMap}}]),t}();function cg(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function lg(t,e){var n=[];return rg(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),rg(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var hg=function t(){_classCallCheck(this,t)},fg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Sg(t);return new ag(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return pg(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return rg(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=lg(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(pg(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(gg(t),"=").concat(gg(e))})).join("&"):"".concat(gg(t),"=").concat(gg(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),dg=new fg;function pg(t){return t.segments.map((function(t){return bg(t)})).join("/")}function vg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gg(t){return vg(t).replace(/%3B/gi,";")}function yg(t){return vg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mg(t){return decodeURIComponent(t)}function _g(t){return mg(t.replace(/\+/g,"%20"))}function bg(t){return"".concat(yg(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(yg(t),"=").concat(yg(e[t]))})).join("")));var e}var wg=/^[^\/()?;=#]+/;function kg(t){var e=t.match(wg);return e?e[0]:""}var Cg=/^[^=?&#]+/,Eg=/^[^?&#]+/,Sg=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sg([],{}):new sg([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sg(t,e)),n}},{key:"parseSegment",value:function(){var t=kg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new ug(mg(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=kg(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=kg(this.remaining);r&&(n=r,this.capture(n))}t[mg(e)]=mg(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Cg);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Eg);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=_g(e),o=_g(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=kg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new sg([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ig=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Tg(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Tg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Ag(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Ag(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Tg(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Tg(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Ag(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Ag(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Pg=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function xg(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Og=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Fg(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ig);function Ng(t,e){var n=function(t,e){var n=new Lg([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Mg("",new Pg(n,[]))}(t,e),r=new Op([new ug("",{})]),i=new Op({}),o=new Op({}),a=new Op({}),s=new Op(""),u=new Dg(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Og(new Pg(u,[]),n)}var Dg=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j((function(t){return Gv(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j((function(t){return Gv(t)})))),this._queryParamMap}}]),t}();function Rg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Lg=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Gv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Gv(this.queryParams)),this._queryParamMap}}]),t}(),Mg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Fg(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Ug(this._root)}}]),n}(Ig);function Fg(t,e){e.value._routerState=t,e.children.forEach((function(e){return Fg(t,e)}))}function Ug(t){var e=t.children.length>0?" { ".concat(t.children.map(Ug).join(", ")," } "):"";return"".concat(t.value).concat(e)}function jg(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Zv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Zv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Zv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vg(t,e){var n,r;return Zv(t.params,e.params)&&cg(n=t.url,r=e.url)&&n.every((function(t,e){return Zv(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Vg(t.parent,e.parent))}function qg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bg(t,e,n,r,i){var o={};return r&&rg(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new ag(n.root===t?e:function t(e,n,r){var i={};return rg(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new sg(e.segments,i)}(n.root,t,e),o,i)}var Hg=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==ng(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),zg=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Gg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Wg(t,e,n){if(t||(t=new sg([],{})),0===t.segments.length&&t.hasChildren())return Kg(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Gg(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!$g(s,u,a))return o;r+=2}else{if(!$g(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new sg(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new sg(t.segments.slice(r.pathIndex),t.children),Kg(o,0,i)}return r.match&&0===i.length?new sg(t.segments,{}):r.match&&!t.hasChildren()?Qg(t,e,n):r.match?Kg(t,0,i):Qg(t,e,n)}function Kg(t,e,n){if(0===n.length)return new sg(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return rg(r,(function(n,r){null!==n&&(i[r]=Wg(t.children[r],e,n))})),rg(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new sg(t.segments,i)}function Qg(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Xg(n[i].outlets);return new sg(r,o)}if(0===i&&qg(n[0]))r.push(new ug(t.segments[e].path,n[0])),i++;else{var a=Gg(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&qg(s)?(r.push(new ug(a,Yg(s))),i+=2):(r.push(new ug(a,{})),i++)}}return new sg(r,{})}function Xg(t){var e={};return rg(t,(function(t,n){null!==t&&(e[n]=Qg(new sg([],{}),0,t))})),e}function Yg(t){var e={};return rg(t,(function(t,n){return e[n]=""+t})),e}function $g(t,e,n){return t==n.path&&Zv(e,n.parameters)}var Jg=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jg(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=xg(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),rg(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=xg(t),o=t.value.component?r.children:e;rg(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=xg(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new qv(t.value.snapshot))})),t.children.length&&this.forwardEvent(new jv(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(jg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Zg(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Zg(t){jg(t.value),t.children.forEach(Zg)}function ty(t){return"function"==typeof t}function ey(t){return t instanceof ag}var ny=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},ry=function t(e){_classCallCheck(this,t),this.urlTree=e};function iy(t){return new k((function(e){return e.error(new ny(t))}))}function oy(t){return new k((function(e){return e.error(new ry(t))}))}function ay(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var sy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Zt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(ev((function(e){if(e instanceof ry)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ny)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(j((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(ev((function(t){if(t instanceof ny)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new sg([],{primary:t}):t;return new ag(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j((function(t){return new sg([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return xp({});var o=[],a=[],s={};return rg(n,(function(n,i){var u=function(n,i){return r.expandSegmentGroup(t,e,i,n)}(i,n).pipe(j((function(t){return s[i]=t})));"primary"===i?o.push(u):a.push(u)})),xp.apply(null,o.concat(a)).pipe(jp(),tv(),j((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return xp.apply(void 0,_toConsumableArray(n)).pipe(j((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ev((function(t){if(t instanceof ny)return xp(null);throw t})))})),jp(),sv((function(t){return!!t})),ev((function(t,n){if(t instanceof Np||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return xp(new sg([],{}));throw new ny(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return hy(r)!==o?iy(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):iy(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?oy(o):this.lineralizeSegments(n,o).pipe(z((function(n){var o=new sg(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=uy(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return iy(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?oy(f):this.lineralizeSegments(r,f).pipe(z((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j((function(t){return n._loadedConfig=t,new sg(r,{})}))):xp(new sg(r,{}));var o=uy(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return iy(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(z((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return ly(t,e,n)&&"primary"!==hy(n)}))}(t,n,r)?{segmentGroup:cy(new sg(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==hy(o)&&(n[hy(o)]=new sg([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new sg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return ly(t,e,n)}))}(t,n,r)?{segmentGroup:cy(new sg(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;ly(t,e,s)&&!r[hy(s)]&&(o[hy(s)]=new sg([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(j((function(t){return new sg(s,t)}))):0===r.length&&0===u.length?xp(new sg(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(j((function(t){return new sg(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?xp(new Qv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?xp(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?H(i).pipe(j((function(r){var i,o=t.get(r);if(function(t){return t&&ty(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ty(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return ig(i)}))).pipe(jp(),(r=function(t){return!0===t},function(t){return t.lift(new uv(r,void 0,t))})):xp(!0)}(t.injector,e,n).pipe(z((function(n){return n?r.configLoader.load(t.injector,e).pipe(j((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(Wv("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):xp(new Qv([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return xp(n);if(r.numberOfChildren>1||!r.children.primary)return ay(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new ag(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return rg(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return rg(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new sg(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function uy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Kv)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function cy(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new sg(t.segments.concat(e.segments),e.children)}return t}function ly(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function hy(t){return t.outlet||"primary"}var fy=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},dy=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function py(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function vy(t,e,n){var r=xg(t),i=t.value;rg(r,(function(t,r){vy(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new dy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var gy=Symbol("INITIAL_VALUE");function yy(){return lv((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return x(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),Q(e,i).lift(new Rp(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(iv(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return x(r)?(e.pop(),function(t){return dv(e,t,r)}):function(t){return dv(e,t)}}(gy))})))).pipe(pv((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==gy)return t;if(r===gy&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ey(r))return r}return t}),t)}),gy),Vp((function(t){return t!==gy})),j((function(t){return ey(t)?t:!0===t})),iv(1))}))}function my(t,e){return null!==t&&e&&e(new Vv(t)),xp(!0)}function _y(t,e){return null!==t&&e&&e(new Uv(t)),xp(!0)}function by(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?xp(r.map((function(r){return Up((function(){var i,o=py(r,e,n);if(function(t){return t&&ty(t.canActivate)}(o))i=ig(o.canActivate(e,t));else{if(!ty(o))throw new Error("Invalid CanActivate guard");i=ig(o(e,t))}return i.pipe(sv())}))}))).pipe(yy()):xp(!0)}function wy(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Up((function(){return xp(e.guards.map((function(i){var o,a=py(i,e.node,n);if(function(t){return t&&ty(t.canActivateChild)}(a))o=ig(a.canActivateChild(r,t));else{if(!ty(a))throw new Error("Invalid CanActivateChild guard");o=ig(a(r,t))}return o.pipe(sv())}))).pipe(yy())}))}));return xp(i).pipe(yy())}var ky=function t(){_classCallCheck(this,t)},Cy=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Iy(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Lg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pg(n,e),i=new Mg(this.url,r);return this.inheritParamsAndData(i._root),xp(i)}catch(o){return new k((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Rg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=lg(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof ky))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new ky}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new ky;if((t.outlet||"primary")!==r)throw new ky;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?ng(n).parameters:{};i=new Lg(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Py(t),r,t.component,t,Ey(e),Sy(e)+n.length,xy(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ky;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Kv)(n,t,e);if(!r)throw new ky;var i={};rg(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Lg(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Py(t),r,t.component,t,Ey(e),Sy(e)+o.length,xy(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Iy(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Pg(i,d)]}if(0===c.length&&0===f.length)return[new Pg(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Pg(i,p)]}}]),t}();function Ey(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Sy(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Iy(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Ty(t,e,n)&&"primary"!==Ay(n)}))}(t,n,r)){var o=new sg(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Ay(s)){var u=new sg([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Ay(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new sg(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Ty(t,e,n)}))}(t,n,r)){var a=new sg(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Ty(t,n,c)&&!i[Ay(c)]){var l=new sg([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ay(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new sg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ty(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ay(t){return t.outlet||"primary"}function Py(t){return t.data||{}}function xy(t){return t.resolve||{}}function Oy(t,e,n,r){var i=py(t,e,r);return ig(i.resolve?i.resolve(e,n):i(e,n))}function Ny(t){return function(e){return e.pipe(lv((function(e){var n=t(e);return n?H(n).pipe(j((function(){return e}))):H([e])})))}}var Dy=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Ry=new Vt("ROUTES"),Ly=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Qv(eg(i.injector.get(Ry)).map(Jv),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?H(this.loader.load(t)):ig(t()).pipe(z((function(t){return t instanceof te?xp(t):H(e.compiler.compileModuleAsync(t))})))}}]),t}(),My=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Fy(t){throw t}function Uy(t,e,n){return e.parse("/")}function jy(t,e){return xp(null)}var Vy,qy,By,Hy=((By=function(){function t(e,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Fy,this.malformedUriErrorHandler=Uy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jy,afterPreactivation:jy},this.urlHandlingStrategy=new My,this.routeReuseStrategy=new Dy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Zt),this.console=o.get(nc);var l=o.get(gc);this.isNgZoneEnabled=l instanceof gc,this.resetConfig(u),this.currentUrlTree=new ag(new sg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ly(a,s,(function(t){return c.triggerEvent(new Mv(t))}),(function(t){return c.triggerEvent(new Fv(t))})),this.routerState=Ng(this.currentUrlTree,this.rootComponentType),this.transitions=new Op({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Vp((function(t){return 0!==t.id})),j((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),lv((function(t){var r,i,o,a=!1,s=!1;return xp(t).pipe(_v((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),lv((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return xp(t).pipe(lv((function(t){var r=e.transitions.getValue();return n.next(new Tv(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Mp:[t]})),lv((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(lv((function(t){return function(t,e,n,r,i){return new sy(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(j((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),_v((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(z((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Cy(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(j((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),_v((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),_v((function(t){var r=new Ov(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Tv(u,e.serializeUrl(c),l,h);n.next(d);var p=Ng(c,e.rootComponentType).snapshot;return xp(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Mp})),Ny((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),_v((function(t){var n=new Nv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),j((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=xg(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cg(t.url,e.url)||!Zv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vg(t,e)||!Zv(t.queryParams,e.queryParams);case"paramsChange":default:return!Vg(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new fy(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new dy(u&&u.outlet&&u.outlet.component||null,s))}else s&&vy(n,u,o),o.canActivateChecks.push(new fy(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),rg(a,(function(t,e){return vy(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(z((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?xp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return H(t).pipe(z((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xp(o.map((function(o){var a,s=py(o,e,i);if(function(t){return t&&ty(t.canDeactivate)}(s))a=ig(s.canDeactivate(t,e,n,r));else{if(!ty(s))throw new Error("Invalid CanDeactivate guard");a=ig(s(t,e,n,r))}return a.pipe(sv())}))).pipe(yy()):xp(!0)}(t.component,t.route,n,e,r)})),sv((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(z((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return H(e).pipe(yv((function(e){return H([_y(e.route.parent,r),my(e.route,r),wy(t,e.path,n),by(t,e.route,n)]).pipe(jp(),sv((function(t){return!0!==t}),!0))})),sv((function(t){return!0!==t}),!0))}(r,a,t,e):xp(n)})),j((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),_v((function(t){if(ey(t.guardsResult)){var n=Wv('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),_v((function(t){var n=new Dv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Vp((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Pv(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Ny((function(t){if(t.guards.canActivateChecks.length)return xp(t).pipe(_v((function(t){var n=new Rv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(z((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?H(i).pipe(yv((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return xp({});if(1===i.length){var o=i[0];return Oy(t[o],e,n,r).pipe(j((function(t){return _defineProperty({},o,t)})))}var a={};return H(i).pipe(z((function(i){return Oy(t[i],e,n,r).pipe(j((function(t){return a[i]=t,t})))}))).pipe(tv(),j((function(){return a})))}(t._resolve,t,e,r).pipe(j((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Rg(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return _(pv(t,e),zp(1),$p(e))(n)}:function(e){return _(pv((function(e,n,r){return t(e,n,r+1)})),zp(1))(e)}}((function(t,e){return t})),j((function(e){return t}))):xp(t)})))}),_v((function(t){var n=new Lv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Ny((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),j((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Pg(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Dg(new Op((u=n.value).url),new Op(u.params),new Op(u.queryParams),new Op(u.fragment),new Op(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Pg(c,l)}(t,e._root,n?n._root:void 0);return new Og(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),_v((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},j((function(t){return new Jg(i,t.targetRouterState,t.currentRouterState,o).activate(r),t}))),_v({next:function(){a=!0},complete:function(){a=!0}}),kv((function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new Pv(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null})),ev((function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=ey(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Pv(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new xv(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var u;return Mp})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Xv(t),this.config=t.map(Jv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Cr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Bg(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Hg(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return rg(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new Hg(n,e,r)}(n);if(o.toRoot())return Bg(e.root,new sg([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new zg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new zg(n.snapshot._urlSegment,!0,0);var r=qg(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new zg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Kg(a.segmentGroup,a.index,o.commands):Wg(a.segmentGroup,a.index,o.commands);return Bg(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Cr()&&this.isNgZoneEnabled&&!gc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ey(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(ey(t))return og(this.currentUrlTree,t,e);var n=this.parseUrl(t);return og(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Av(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){Ca()},By.\u0275dir=me({type:By}),By),zy=((qy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:Wy(this.skipLocationChange),replaceUrl:Wy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Cr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||qy)(wa(Hy),wa(Dg),ka("tabindex"),wa(Ms),wa(Ns))},qy.\u0275dir=me({type:qy,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Ra("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),qy),Gy=((Vy=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Av&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Wy(this.skipLocationChange),replaceUrl:Wy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Cr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Vy)(wa(Hy),wa(Dg),wa(ul))},Vy.\u0275dir=me({type:Vy,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ra("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(cs("href",e.href,Yr),ya("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ms]}),Vy);function Wy(t){return""===t||!!t}var Ky,Qy,Xy,Yy,$y=((Ky=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(t){t instanceof Av&&a.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||Ky)(wa(Hy),wa(Ns),wa(Ms),wa(zy,8),wa(Gy,8))},Ky.\u0275dir=me({type:Ky,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(zu(n,zy,!0),zu(n,Gy,!0)),2&t&&(Hu(r=Gu())&&(e.links=r),Hu(r=Gu())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ms]}),Ky),Jy=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Zy,this.attachRef=null},Zy=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Jy,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),tm=((Qy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nu,this.deactivateEvents=new Nu,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new em(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Qy)(wa(Zy),wa(iu),wa(Os),ka("name"),wa(qo))},Qy.\u0275dir=me({type:Qy,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Qy),em=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Dg?this.route:t===Zy?this.childContexts:this.parent.get(t,e)}}]),t}(),nm=function t(){_classCallCheck(this,t)},rm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return xp(null)}}]),t}(),im=((Yy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Ly(n,r,(function(t){return e.triggerEvent(new Mv(t))}),(function(t){return e.triggerEvent(new Fv(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Vp((function(t){return t instanceof Av})),yv((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Zt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return H(r).pipe(K(),j((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(z((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||Yy)(Xt(Hy),Xt(Uc),Xt(fc),Xt(ra),Xt(nm))},Yy.\u0275prov=ht({token:Yy,factory:Yy.\u0275fac}),Yy),om=((Xy=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Tv?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Av&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Bv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Bv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){Ca()},Xy.\u0275dir=me({type:Xy}),Xy),am=new Vt("ROUTER_CONFIGURATION"),sm=new Vt("ROUTER_FORROOT_GUARD"),um=[gl,{provide:hg,useClass:fg},{provide:Hy,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Hy(null,t,e,n,r,i,o,eg(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=Qc();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[hg,Zy,gl,ra,Uc,fc,Ry,am,[function(){return function t(){_classCallCheck(this,t)}}(),new ot],[function(){return function t(){_classCallCheck(this,t)}}(),new ot]]},Zy,{provide:Dg,useFactory:function(t){return t.routerState.root},deps:[Hy]},{provide:Uc,useClass:qc},im,rm,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(ev((function(){return xp(null)})))}}]),t}(),{provide:am,useValue:{enableTracing:!1}}];function cm(){return new xc("Router",Hy)}var lm,hm=((lm=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[um,vm(e),{provide:sm,useFactory:pm,deps:[[Hy,new ot,new st]]},{provide:am,useValue:n||{}},{provide:ul,useFactory:dm,deps:[$c,[new it(dl),new ot],am]},{provide:om,useFactory:fm,deps:[Hy,kh,am]},{provide:nm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rm},{provide:xc,multi:!0,useFactory:cm},[ym,{provide:Qu,multi:!0,useFactory:mm,deps:[ym]},{provide:bm,useFactory:_m,deps:[ym]},{provide:ec,multi:!0,useExisting:bm}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[vm(e)]}}}]),t}()).\u0275mod=ge({type:lm}),lm.\u0275inj=ft({factory:function(t){return new(t||lm)(Xt(sm,8),Xt(Hy,8))}}),lm);function fm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new om(t,e,n)}function dm(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new vl(t,e):new pl(t,e)}function pm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vm(t){return[{provide:ia,multi:!0,useValue:t},{provide:Ry,multi:!0,useValue:t}]}var gm,ym=((gm=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(tl,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(Hy),i=t.injector.get(am);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?xp(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(am),n=this.injector.get(im),r=this.injector.get(om),i=this.injector.get(Hy),o=this.injector.get(Mc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||gm)(Xt(ra))},gm.\u0275prov=ht({token:gm,factory:gm.\u0275fac}),gm);function mm(t){return t.appInitializer.bind(t)}function _m(t){return t.bootstrapListener.bind(t)}var bm=new Vt("Router Initializer");function wm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(u(r))return km(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return km(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return km(e=1===e.length&&u(e[0])?e[0]:e,null).pipe(j((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return km(e,null)}function km(t,e){return new k((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=H(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Cm,Em,Sm,Im,Tm=new Vt("NgValueAccessor"),Am={provide:Tm,useExisting:Et((function(){return Pm})),multi:!0},Pm=((Cm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Cm)(wa(Ms),wa(Ns))},Cm.\u0275dir=me({type:Cm,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[As([Am])]}),Cm),xm={provide:Tm,useExisting:Et((function(){return Nm})),multi:!0},Om=new Vt("CompositionEventMode"),Nm=((Im=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Qc()?Qc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Im)(wa(Ms),wa(Ns),wa(Om,8))},Im.\u0275dir=me({type:Im,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ra("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[As([xm])]}),Im),Dm=((Sm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Sm)},Sm.\u0275dir=me({type:Sm}),Sm),Rm=((Em=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Dm)).\u0275fac=function(t){return Lm(t||Em)},Em.\u0275dir=me({type:Em,features:[fs]}),Em),Lm=sr(Rm);function Mm(){throw new Error("unimplemented")}var Fm,Um,jm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return Mm()}},{key:"asyncValidator",get:function(){return Mm()}}]),n}(Dm),Vm=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),qm=((Um=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Vm)).\u0275fac=function(t){return new(t||Um)(wa(jm,2))},Um.\u0275dir=me({type:Um,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Qa("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fs]}),Um),Bm=((Fm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Vm)).\u0275fac=function(t){return new(t||Fm)(wa(Rm,2))},Fm.\u0275dir=me({type:Fm,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Qa("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fs]}),Fm);function Hm(t){return null==t||0===t.length}var zm=new Vt("NgValidators"),Gm=new Vt("NgAsyncValidators"),Wm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Km=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Hm(e.value)||Hm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Hm(e.value)||Hm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Hm(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Hm(t.value)||Wm.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Hm(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Hm(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Qm);return 0==e.length?null:function(t){return Ym(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Qm);return 0==e.length?null:function(t){return wm(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Xm)).pipe(j(Ym))}}}]),t}();function Qm(t){return null!=t}function Xm(t){var e=Na(t)?H(t):t;if(!Da(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Ym(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function $m(t){return t.validate?function(e){return t.validate(e)}:t}function Jm(t){return t.validate?function(e){return t.validate(e)}:t}var Zm,t_,e_,n_,r_={provide:Tm,useExisting:Et((function(){return i_})),multi:!0},i_=((Zm=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Zm)(wa(Ms),wa(Ns))},Zm.\u0275dir=me({type:Zm,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[As([r_])]}),Zm),o_={provide:Tm,useExisting:Et((function(){return s_})),multi:!0},a_=((e_=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||e_)},e_.\u0275prov=ht({token:e_,factory:e_.\u0275fac}),e_),s_=((t_=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(jm),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||t_)(wa(Ms),wa(Ns),wa(a_),wa(ra))},t_.\u0275dir=me({type:t_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[As([o_])]}),t_),u_={provide:Tm,useExisting:Et((function(){return c_})),multi:!0},c_=((n_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||n_)(wa(Ms),wa(Ns))},n_.\u0275dir=me({type:n_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[As([u_])]}),n_),l_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',h_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',f_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',d_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+l_)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(h_,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(f_))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+l_)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+h_)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),p_={provide:Tm,useExisting:Et((function(){return m_})),multi:!0};function v_(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var g_,y_,m_=((y_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=ha}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=v_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||y_)(wa(Ms),wa(Ns))},y_.\u0275dir=me({type:y_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[As([p_])]}),y_),__=((g_=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(v_(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||g_)(wa(Ns),wa(Ms),wa(m_,9))},g_.\u0275dir=me({type:g_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),g_),b_={provide:Tm,useExisting:Et((function(){return E_})),multi:!0};function w_(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var k_,C_,E_=((C_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=ha}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||C_)(wa(Ms),wa(Ns))},C_.\u0275dir=me({type:C_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[As([b_])]}),C_),S_=((k_=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(w_(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(w_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||k_)(wa(Ns),wa(Ms),wa(E_,9))},k_.\u0275dir=me({type:k_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k_);function I_(t,e){return[].concat(_toConsumableArray(e.path),[t])}function T_(t,e){t||O_(e,"Cannot find control with"),e.valueAccessor||O_(e,"No value accessor for form control with"),t.validator=Km.compose([t.validator,e.validator]),t.asyncValidator=Km.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&A_(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&A_(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function A_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P_(t,e){null==t&&O_(e,"Cannot find control with"),t.validator=Km.compose([t.validator,e.validator]),t.asyncValidator=Km.composeAsync([t.asyncValidator,e.asyncValidator])}function x_(t){return O_(t,"There is no FormControl instance attached to form control element with")}function O_(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function N_(t){return null!=t?Km.compose(t.map($m)):null}function D_(t){return null!=t?Km.composeAsync(t.map(Jm)):null}function R_(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!ha(e,n.currentValue)}var L_=[Pm,c_,i_,m_,E_,s_];function M_(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function F_(t,e){if(!e)return null;Array.isArray(e)||O_(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Nm?n=e:(o=e,L_.some((function(t){return o.constructor===t}))?(r&&O_(t,"More than one built-in value accessor matches form control with"),r=e):(i&&O_(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(O_(t,"No valid value accessor for form control with"),null)}function U_(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function j_(t){var e=q_(t)?t.validators:t;return Array.isArray(e)?N_(e):e||null}function V_(t,e){var n=q_(e)?e.asyncValidators:t;return Array.isArray(n)?D_(n):n||null}function q_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var B_,H_,z_,G_,W_,K_,Q_,X_,Y_=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=j_(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=V_(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Xm(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof J_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Z_&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new Nu,this.statusChanges=new Nu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){q_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),$_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,j_(i),V_(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Y_),J_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,j_(r),V_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof $_?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Y_),Z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,j_(r),V_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof $_?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Y_),tb={provide:Rm,useExisting:Et((function(){return nb}))},eb=Promise.resolve(null),nb=((H_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new Nu,i.form=new J_({},N_(t),D_(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;eb.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),T_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;eb.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),U_(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;eb.then((function(){var n=e._findContainer(t.path),r=new J_({});P_(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;eb.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;eb.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,M_(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Rm)).\u0275fac=function(t){return new(t||H_)(wa(zm,10),wa(Gm,10))},H_.\u0275dir=me({type:H_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ra("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[As([tb]),fs]}),H_),rb=((B_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return I_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return N_(this._validators)}},{key:"asyncValidator",get:function(){return D_(this._asyncValidators)}}]),n}(Rm)).\u0275fac=function(t){return ib(t||B_)},B_.\u0275dir=me({type:B_,features:[fs]}),B_),ib=sr(rb),ob=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(l_,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(h_,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(f_))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(h_,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(f_))}}]),t}(),ab={provide:Rm,useExisting:Et((function(){return sb}))},sb=((z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof nb||ob.modelGroupParentException()}}]),n}(rb)).\u0275fac=function(t){return new(t||z_)(wa(Rm,5),wa(zm,10),wa(Gm,10))},z_.\u0275dir=me({type:z_,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[As([ab]),fs]}),z_),ub={provide:jm,useExisting:Et((function(){return lb}))},cb=Promise.resolve(null),lb=((W_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).control=new $_,a._registered=!1,a.update=new Nu,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=F_(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),R_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){T_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof sb)&&this._parent instanceof rb?ob.formGroupNameException():this._parent instanceof sb||this._parent instanceof nb||ob.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ob.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;cb.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;cb.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?I_(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return N_(this._rawValidators)}},{key:"asyncValidator",get:function(){return D_(this._rawAsyncValidators)}}]),n}(jm)).\u0275fac=function(t){return new(t||W_)(wa(Rm,9),wa(zm,10),wa(Gm,10),wa(Tm,10))},W_.\u0275dir=me({type:W_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[As([ub]),fs,ms]}),W_),hb=((G_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||G_)},G_.\u0275dir=me({type:G_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G_),fb=new Vt("NgModelWithFormControlWarning"),db={provide:Rm,useExisting:Et((function(){return pb}))},pb=((K_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new Nu,i}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return T_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){U_(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);P_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);P_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,M_(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return x_(e)})),e.valueAccessor.registerOnTouched((function(){return x_(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&T_(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=N_(this._validators);this.form.validator=Km.compose([this.form.validator,t]);var e=D_(this._asyncValidators);this.form.asyncValidator=Km.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||d_.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Rm)).\u0275fac=function(t){return new(t||K_)(wa(zm,10),wa(Gm,10))},K_.\u0275dir=me({type:K_,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ra("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[As([db]),fs,ms]}),K_),vb={provide:Rm,useExisting:Et((function(){return gb}))},gb=((Q_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){_b(this._parent)&&d_.groupParentException()}}]),n}(rb)).\u0275fac=function(t){return new(t||Q_)(wa(Rm,13),wa(zm,10),wa(Gm,10))},Q_.\u0275dir=me({type:Q_,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[As([vb]),fs]}),Q_),yb={provide:Rm,useExisting:Et((function(){return mb}))},mb=((X_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){_b(this._parent)&&d_.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return I_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return N_(this._validators)}},{key:"asyncValidator",get:function(){return D_(this._asyncValidators)}}]),n}(Rm)).\u0275fac=function(t){return new(t||X_)(wa(Rm,13),wa(zm,10),wa(Gm,10))},X_.\u0275dir=me({type:X_,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[As([yb]),fs]}),X_);function _b(t){return!(t instanceof gb||t instanceof pb||t instanceof mb)}var bb,wb,kb,Cb,Eb,Sb,Ib,Tb,Ab={provide:jm,useExisting:Et((function(){return Pb}))},Pb=((bb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new Nu,s._ngModelWarningSent=!1,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=F_(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),R_(t,this.viewModel)&&(function(t,e,n,r){Cr()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(d_.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof gb)&&this._parent instanceof rb?d_.ngModelGroupException():this._parent instanceof gb||this._parent instanceof pb||this._parent instanceof mb||d_.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){d_.disabledAttrWarning()}},{key:"path",get:function(){return I_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return N_(this._rawValidators)}},{key:"asyncValidator",get:function(){return D_(this._rawAsyncValidators)}}]),n}(jm)).\u0275fac=function(t){return new(t||bb)(wa(Rm,13),wa(zm,10),wa(Gm,10),wa(Tm,10),wa(fb,8))},bb.\u0275dir=me({type:bb,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[As([Ab]),fs,ms]}),bb._ngModelWarningSentOnce=!1,bb),xb={provide:zm,useExisting:Et((function(){return Ob})),multi:!0},Ob=((wb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?Km.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||wb)},wb.\u0275dir=me({type:wb,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&ya("required",e.required?"":null)},inputs:{required:"required"},features:[As([xb])]}),wb),Nb={provide:zm,useExisting:Et((function(){return Db})),multi:!0},Db=((kb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this._enabled?Km.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||kb)},kb.\u0275dir=me({type:kb,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[As([Nb])]}),kb),Rb={provide:zm,useExisting:Et((function(){return Lb})),multi:!0},Lb=((Tb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=Km.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||Tb)},Tb.\u0275dir=me({type:Tb,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ya("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[As([Rb]),ms]}),Tb),Mb=((Ib=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:Ib}),Ib.\u0275inj=ft({factory:function(t){return new(t||Ib)}}),Ib),Fb=((Sb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new J_(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new $_(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Z_(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof $_||t instanceof J_||t instanceof Z_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Sb)},Sb.\u0275prov=ht({token:Sb,factory:Sb.\u0275fac}),Sb),Ub=((Eb=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:Eb}),Eb.\u0275inj=ft({factory:function(t){return new(t||Eb)},providers:[a_],imports:[Mb]}),Eb),jb=((Cb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:fb,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=ge({type:Cb}),Cb.\u0275inj=ft({factory:function(t){return new(t||Cb)},providers:[Fb,a_],imports:[Mb]}),Cb);function Vb(t,e){return new k(e?function(n){return e.schedule(qb,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function qb(t){var e=t.error;t.subscriber.error(e)}function Bb(t){var e=function(t){return new k((function(e){return t.on("state_changed",(function(t){return e.next(t)}),(function(t){return e.error(t)}),(function(){return e.complete()})),function(){return t.cancel()}}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(j((function(t){return t.bytesTransferred/t.totalBytes*100})))}}}function Hb(t,e,n){return{getDownloadURL:function(){return H(t.getDownloadURL(),e.outsideAngular).pipe(n)},getMetadata:function(){return H(t.getMetadata()).pipe(n)},delete:function(){return H(t.delete())},child:function(r){return Hb(t.child(r),e,n)},updateMetatdata:function(e){return H(t.updateMetadata(e))},updateMetadata:function(e){return H(t.updateMetadata(e))},put:function(e,n){return Bb(t.put(e,n))},putString:function(e,n,r){return Bb(t.putString(e,n,r))}}}var zb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(f)),Gb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(zb),Wb=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Kb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wb.now;return _classCallCheck(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(Wb),Qb=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Kb))(Gb),Xb=new Kb(zb),Yb=1,$b=Promise.resolve(),Jb={};function Zb(t){return t in Jb&&(delete Jb[t],!0)}var tw,ew=function(t){var e=Yb++;return Jb[e]=!0,$b.then((function(){return Zb(e)&&t()})),e},nw=function(t){Zb(t)},rw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=ew(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(nw(e),t.scheduled=void 0)}}]),n}(zb),iw=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Kb))(rw),ow=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iw;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=iw),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iw;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(k),aw=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new ow(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),sw=((tw=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return xp(this.value);case"E":return Vb(this.error);case"C":return Fp()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new tw("C"),tw.undefinedValueNotification=new tw("N",void 0),tw);function uw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new cw(t,e))}}var cw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new lw(t,this.scheduler,this.delay))}}]),t}(),lw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new hw(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(sw.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(sw.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(sw.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(v),hw=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n};function fw(){}var dw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qb;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),pw=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",fw,{},fw,fw)})),e.pipe(_v(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),vw=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new dw(Zone.current)})),this.insideAngular=e.run((function(){return new dw(Zone.current,Xb)}))};function gw(t,e){return function(n){return gh(e)&&(n=n.lift(new pw(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new aw(t,e))}}(t.outsideAngular),uw(t.insideAngular))}}var yw,mw=n("Wcq6"),_w=n.n(mw),bw=new Vt("angularfire2.app.options"),ww=new Vt("angularfire2.app.nameOrConfig"),kw=new js("5.4.2");function Cw(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",_w.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return _w.a.initializeApp(t,r)}))}var Ew,Sw,Iw={provide:function t(){_classCallCheck(this,t)},useFactory:Cw,deps:[bw,gc,[new ot,ww]]},Tw=((Ew=yw=function(){function t(e){_classCallCheck(this,t),_w.a.registerVersion&&(_w.a.registerVersion("angularfire",kw.full,e.toString()),_w.a.registerVersion("angular",Vs.full))}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:yw,providers:[{provide:bw,useValue:t},{provide:ww,useValue:e}]}}}]),t}()).\u0275mod=ge({type:Ew}),Ew.\u0275inj=ft({factory:function(t){return new(t||Ew)(Xt(tc))},providers:[Iw]}),Ew),Aw=new Vt("angularfire2.storageBucket"),Pw=((Sw=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.schedulers=new vw(o),this.keepUnstableUntilFirst=gw(this.schedulers,i),this.storage=o.runOutsideAngular((function(){return Cw(e,o,n).storage(r||void 0)}))}return _createClass(t,[{key:"ref",value:function(t){return Hb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return Hb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||Sw)(Xt(bw),Xt(ww,8),Xt(Aw,8),Xt(tc),Xt(gc))},Sw.\u0275prov=ht({token:Sw,factory:Sw.\u0275fac}),Sw);function xw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xb;return new k((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function Ow(t,e){return xw(t,e).pipe(j((function(t){return{payload:t,type:"query"}})))}function Nw(t,e){return Ow(t,e).pipe(j((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function Dw(t,e,n){return Ow(t,n).pipe(j((function(t){return t.payload.docChanges()})),pv((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),j((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Rw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Lw=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Nw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Vp((function(t){return t.length>0}))):Nw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(pv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Rw(t);return Dw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ow(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return H(this.query.get(t)).pipe(uw(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Mw(this.ref.doc(t),this.afs)}}]),t}(),Mw=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Gw(this.ref.collection(t),e),r=n.ref,i=n.query;return new Lw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return xw(this.ref,this.afs.schedulers.outsideAngular).pipe(j((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(j((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return H(this.ref.get(t)).pipe(uw(this.afs.schedulers.insideAngular))}}]),t}(),Fw=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Nw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Vp((function(t){return t.length>0}))):Nw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(pv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Rw(t);return Dw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Ow(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return H(this.query.get(t)).pipe(uw(this.afs.schedulers.insideAngular))}}]),t}(),Uw=new Vt("angularfire2.enableFirestorePersistence"),jw=new Vt("angularfire2.firestore.persistenceSettings"),Vw=Uw,qw=jw,Bw=new Vt("angularfire2.firestore.settings"),Hw=parseInt(_w.a.SDK_VERSION.split(".")[0]),zw=Hw<5||5==Hw&&parseInt(_w.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Gw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Ww,Kw,Qw=((Kw=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this.schedulers=new vw(a),this.keepUnstableUntilFirst=gw(this.schedulers,o),this.firestore=a.runOutsideAngular((function(){var t=Cw(e,a,n).firestore();return t.settings(i||zw),t})),this.persistenceEnabled$=r&&!gh(o)?a.runOutsideAngular((function(){try{return H(u.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return xp(!1)}})):xp(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=Gw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new Lw(r,i,this)}},{key:"collectionGroup",value:function(t,e){if(Hw<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Fw(n(r),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Mw(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Kw)(Xt(bw),Xt(ww,8),Xt(Vw,8),Xt(Bw,8),Xt(tc),Xt(gc),Xt(qw,8))},Kw.\u0275prov=ht({token:Kw,factory:Kw.\u0275fac}),Kw),Xw=((Ww=function(){function t(e,n,r){_classCallCheck(this,t),this.router=e,this.afStorage=n,this.afs=r,this.currentDate=new Date,this.downloadurlchange=new A}return _createClass(t,[{key:"handleError",value:function(t){var e;return e=t.error instanceof ErrorEvent?"Error: "+t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),window.alert(e),Vb(e)}},{key:"getdata",value:function(t){this.selectedFile=t}},{key:"get_public_post",value:function(){return this.afs.collection("normal-users").snapshotChanges().pipe(ev(this.handleError))}},{key:"sendUidandUname",value:function(t,e){this.uid=e,this.uname=t}},{key:"createUser",value:function(t){return this.afs.collection("normal-users").add({title:t.title,nameToSearch:t.title.toLowerCase(),desc:t.desc,category:t.category,subcategory:t.subcategory,name:t.name,created_date:this.currentDate,imgurl:this.downloadURL,uid:this.uid,uname:this.uname})}},{key:"uploadFile",value:function(){var t=this,e=this.selectedFile;this.filepath="UauthUsers";var n="".concat(this.filepath,"/").concat(e.name),r=this.afStorage.ref(n),i=this.afStorage.upload(n,e);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(kv((function(){r.getDownloadURL().toPromise().then((function(e){t.downloadURL=e,t.downloadurlchange.next(t.downloadURL)})).catch((function(t){console.log(t)}))}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ww)(Xt(Hy),Xt(Pw),Xt(Qw))},Ww.\u0275prov=ht({token:Ww,factory:Ww.\u0275fac,providedIn:"root"}),Ww),Yw=n("mrSG"),$w=function(){function t(e,n,r,i){_classCallCheck(this,t),this.email=e,this.id=n,this._token=r,this._tokenExpirationDate=i}return _createClass(t,[{key:"token",get:function(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}]),t}(),Jw=function t(){_classCallCheck(this,t)},Zw=function t(){_classCallCheck(this,t)},tk=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),ek=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return nk(t)}},{key:"encodeValue",value:function(t){return nk(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function nk(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var rk=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new ek,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function ik(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ok(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ak(t){return"undefined"!=typeof FormData&&t instanceof FormData}var sk=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new tk),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new rk,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:ik(this.body)||ok(this.body)||ak(this.body)||"string"==typeof this.body?this.body:this.body instanceof rk?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||ak(this.body)?null:ok(this.body)?this.body.type||null:ik(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rk?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),uk=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),ck=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new tk,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},lk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=uk.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ck),hk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=uk.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ck),fk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(ck);function dk(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var pk,vk,gk,yk,mk,_k,bk,wk,kk,Ck,Ek=((pk=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof sk)n=t;else{var o=void 0;o=i.headers instanceof tk?i.headers:new tk(i.headers);var a=void 0;i.params&&(a=i.params instanceof rk?i.params:new rk({fromObject:i.params})),n=new sk(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=xp(n).pipe(yv((function(t){return r.handler.handle(t)})));if(t instanceof sk||"events"===i.observe)return s;var u=s.pipe(Vp((function(t){return t instanceof hk})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(j((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(j((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new rk).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,dk(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,dk(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,dk(n,e))}}]),t}()).\u0275fac=function(t){return new(t||pk)(Xt(Jw))},pk.\u0275prov=ht({token:pk,factory:pk.\u0275fac}),pk),Sk=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ik=new Vt("HTTP_INTERCEPTORS"),Tk=((vk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||vk)},vk.\u0275prov=ht({token:vk,factory:vk.\u0275fac}),vk),Ak=/^\)\]\}',?\n/,Pk=function t(){_classCallCheck(this,t)},xk=((yk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||yk)},yk.\u0275prov=ht({token:yk,factory:yk.\u0275fac}),yk),Ok=((gk=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new tk(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new lk({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Ak,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new hk({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new fk({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new fk({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:uk.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:uk.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:uk.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||gk)(Xt(Pk))},gk.\u0275prov=ht({token:gk,factory:gk.\u0275fac}),gk),Nk=new Vt("XSRF_COOKIE_NAME"),Dk=new Vt("XSRF_HEADER_NAME"),Rk=function t(){_classCallCheck(this,t)},Lk=((Ck=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Ck)(Xt(Yc),Xt(tc),Xt(Nk))},Ck.\u0275prov=ht({token:Ck,factory:Ck.\u0275fac}),Ck),Mk=((kk=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||kk)(Xt(Rk),Xt(Dk))},kk.\u0275prov=ht({token:kk,factory:kk.\u0275fac}),kk),Fk=((wk=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ik,[]);this.chain=e.reduceRight((function(t,e){return new Sk(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||wk)(Xt(Zw),Xt(ra))},wk.\u0275prov=ht({token:wk,factory:wk.\u0275fac}),wk),Uk=((bk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Mk,useClass:Tk}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Nk,useValue:e.cookieName}:[],e.headerName?{provide:Dk,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=ge({type:bk}),bk.\u0275inj=ft({factory:function(t){return new(t||bk)},providers:[Mk,{provide:Ik,useExisting:Mk,multi:!0},{provide:Rk,useClass:Lk},{provide:Nk,useValue:"XSRF-TOKEN"},{provide:Dk,useValue:"X-XSRF-TOKEN"}]}),bk),jk=((_k=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:_k}),_k.\u0275inj=ft({factory:function(t){return new(t||_k)},providers:[Ek,{provide:Jw,useClass:Fk},Ok,{provide:Zw,useExisting:Ok},xk,{provide:Pk,useExisting:xk}],imports:[[Uk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),_k),Vk=((mk=function t(e,n,r,i){var o=this;_classCallCheck(this,t);var a=gw(new vw(i),r);this.auth=i.runOutsideAngular((function(){return Cw(e,i,n).auth()})),this.authState=new k((function(t){return i.runOutsideAngular((function(){return o.auth.onAuthStateChanged(t)}))})).pipe(a),this.user=new k((function(t){return i.runOutsideAngular((function(){return o.auth.onIdTokenChanged(t)}))})).pipe(a),this.idToken=this.user.pipe(lv((function(t){return t?H(t.getIdToken()):xp(null)}))),this.idTokenResult=this.user.pipe(lv((function(t){return t?H(t.getIdTokenResult()):xp(null)})))}).\u0275prov=ht({token:mk,factory:mk.\u0275fac=function(t){return new(t||mk)(Xt(bw),Xt(ww,8),Xt(tc),Xt(gc))}}),mk),qk=["toast-component",""];function Bk(t,e){if(1&t){var n=Oa();Ia(0,"button",5),Ra("click",(function(){return Ye(n),Fa().remove()})),Ia(1,"span",6),as(2,"\xd7"),Ta(),Ta()}}function Hk(t,e){if(1&t&&(Pa(0),as(1),xa()),2&t){var n=Fa(2);gi(1),us("[",n.duplicatesCount+1,"]")}}function zk(t,e){if(1&t&&(Ia(0,"div"),as(1),_a(2,Hk,2,1,"ng-container",4),Ta()),2&t){var n=Fa();Xa(n.options.titleClass),ya("aria-label",n.title),gi(1),us(" ",n.title," "),gi(1),Ea("ngIf",n.duplicatesCount)}}function Gk(t,e){if(1&t&&Aa(0,"div",7),2&t){var n=Fa();Xa(n.options.messageClass),Ea("innerHTML",n.message,Xr)}}function Wk(t,e){if(1&t&&(Ia(0,"div",8),as(1),Ta()),2&t){var n=Fa();Xa(n.options.messageClass),ya("aria-label",n.message),gi(1),us(" ",n.message," ")}}function Kk(t,e){if(1&t&&(Ia(0,"div"),Aa(1,"div",9),Ta()),2&t){var n=Fa();gi(1),Ka("width",n.width+"%")}}var Qk,Xk,Yk,$k,Jk,Zk,tC,eC,nC=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new A,this._onAction=new A,this.toastRef.afterClosed().subscribe((function(){s._onAction.complete(),s._onTap.complete()}))}return _createClass(t,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(t){this._onAction.next(t)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),rC=new Vt("ToastConfig"),iC=function(){function t(e,n){_classCallCheck(this,t),this.component=e,this.injector=n}return _createClass(t,[{key:"attach",value:function(t,e){return this._attachedHost=t,t.attach(this,e)}},{key:"detach",value:function(){var t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),oC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._hostDomElement=t,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(t,e){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(t.component);return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}}]),t}()),aC=((Qk=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}]),t}()).\u0275fac=function(t){return new(t||Qk)(Xt(Yc))},Qk.\u0275prov=ht({factory:function(){return new Qk(Xt(Yc))},token:Qk,providedIn:"root"}),Qk),sC=function(){function t(e){_classCallCheck(this,t),this._portalHost=e}return _createClass(t,[{key:"attach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(t,e)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),t}(),uC=((Xk=function(){function t(e,n,r,i){_classCallCheck(this,t),this._overlayContainer=e,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(t,[{key:"create",value:function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}},{key:"getPaneElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}},{key:"_createPaneElement",value:function(t,e){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(t){return new oC(t,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(t){return new sC(this._createPortalHost(t))}}]),t}()).\u0275fac=function(t){return new(t||Xk)(Xt(aC),Xt(Os),Xt(Mc),Xt(Yc))},Xk.\u0275prov=ht({factory:function(){return new Xk(Xt(aC),Xt(Os),Xt(Mc),Xt(Yc))},token:Xk,providedIn:"root"}),Xk),cC=function(){function t(e){_classCallCheck(this,t),this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new A,this._activate=new A,this._manualClose=new A,this._resetTimeout=new A,this._countDuplicate=new A}return _createClass(t,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}]),t}(),lC=function(){function t(e,n){_classCallCheck(this,t),this._toastPackage=e,this._parentInjector=n}return _createClass(t,[{key:"get",value:function(t,e,n){return t===nC?this._toastPackage:this._parentInjector.get(t,e,n)}}]),t}(),hC=(($k=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}return _createClass(t,[{key:"show",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,t,e,this.applyConfig(n))}},{key:"success",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}},{key:"error",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}},{key:"info",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}},{key:"warning",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}},{key:"clear",value:function(t){var e,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(t){var e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.toastrConfig.includeTitleDuplicates,a=_createForOfIteratorHelper(this.toasts);try{for(a.s();!(t=a.n()).done;){var s=t.value,u=o&&s.title===e;if((!o||u)&&s.message===n)return s.toastRef.onDuplicate(r,i),s}}catch(c){a.e(c)}finally{a.f()}return null}},{key:"applyConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),t)}},{key:"_findToast",value:function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}},{key:"_preBuildNotification",value:function(t,e,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(t,e,n,r)})):this._buildNotification(t,e,n,r)}},{key:"_buildNotification",value:function(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var s=e;e&&r.enableHtml&&(s=this.sanitizer.sanitize(Wr.HTML,e));var u=new cC(a),c=new nC(this.index,r,s,n,t,u),l=new lC(c,this._injector),h=new iC(r.toastComponent,l),f=a.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;var d={toastId:this.index,title:n||"",message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){d.toastRef.activate()}))),this.toasts.push(d),d}}]),t}()).\u0275fac=function(t){return new(t||$k)(Xt(rC),Xt(uC),Xt(ra),Xt(tf),Xt(gc))},$k.\u0275prov=ht({factory:function(){return new $k(Xt(rC),Xt(uC),Xt(qt),Xt(tf),Xt(gc))},token:$k,providedIn:"root"}),$k),fC=((Yk=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(t){i.duplicatesCount=t}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return t.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return t.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10)}},{key:"remove",value:function(){var t=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return t.toastrService.remove(t.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return t.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10))}},{key:"outsideTimeout",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(t)}),e)})):this.timeout=setTimeout((function(){return t()}),e)}},{key:"outsideInterval",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(t)}),e)})):this.intervalId=setInterval((function(){return t()}),e)}},{key:"runInsideAngular",value:function(t){this.ngZone?this.ngZone.run((function(){return t()})):t()}},{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}}]),t}()).\u0275fac=function(t){return new(t||Yk)(wa(hC),wa(nC),wa(gc))},Yk.\u0275cmp=fe({type:Yk,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&Ra("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(ls("@flyInOut",e.state),Xa(e.toastClasses),Ka("display",e.displayStyle))},attrs:qk,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(_a(0,Bk,3,0,"button",0),_a(1,zk,3,5,"div",1),_a(2,Gk,1,3,"div",2),_a(3,Wk,2,4,"div",3),_a(4,Kk,2,2,"div",4)),2&t&&(Ea("ngIf",e.options.closeButton),gi(1),Ea("ngIf",e.title),gi(1),Ea("ngIf",e.message&&e.options.enableHtml),gi(1),Ea("ngIf",e.message&&!e.options.enableHtml),gi(1),Ea("ngIf",e.options.progressBar))},directives:[rh],encapsulation:2,data:{animation:[sf("flyInOut",[hf("inactive",lf({opacity:0})),hf("active",lf({opacity:1})),hf("removed",lf({opacity:0})),ff("inactive => active",uf("{{ easeTime }}ms {{ easing }}")),ff("active => removed",uf("{{ easeTime }}ms {{ easing }}"))])]}}),Yk),dC=Object.assign(Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"}),{toastComponent:fC}),pC=((eC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[{provide:rC,useValue:{default:dC,config:e}}]}}}]),t}()).\u0275mod=ge({type:eC}),eC.\u0275inj=ft({factory:function(t){return new(t||eC)},imports:[[vh]]}),eC),vC=((tC=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this.http=e,this.afAuth=n,this.router=r,this.toastr=i,this.ngZone=o,this.isAuthenticated=!1,this.api=Wc.apiKey,this.user=new Op(null),this.userdata=null,this.LoginData=new Op(null),this.afAuth.authState.subscribe((function(t){t?(a.userData=t,localStorage.setItem("user",JSON.stringify(a.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))}))}return _createClass(t,[{key:"signup",value:function(t,e){var n=this;return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key="+this.api,{email:t,password:e,returnSecureToken:!0}).pipe(ev(this.handleError),_v((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"login",value:function(t,e){var n=this;return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key="+this.api,{email:t,password:e,returnSecureToken:!0}).pipe(ev(this.handleError),_v((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"doGoogleLogin",value:function(){var t=this;return new Promise((function(e,n){var r=new mw.auth.GoogleAuthProvider;r.addScope("profile"),r.addScope("email"),t.afAuth.auth.signInWithPopup(r).then((function(n){t.handleAuthentication(n.user.email,n.user.uid,n.user.refreshToken,36e4),e(n)}),(function(t){n(t)}))}))}},{key:"autoLogin",value:function(){var t=JSON.parse(localStorage.getItem("userData"));if(t){var e=new $w(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){this.user.next(e);var n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(n)}}}},{key:"logout",value:function(){var t=this;return this.afAuth.auth.signOut().then((function(){t.user.next(null),localStorage.removeItem("userData"),t.tokenExpirationTimer&&clearTimeout(t.tokenExpirationTimer),t.tokenExpirationTimer=null,t.router.navigate(["/auth"])}))}},{key:"autoLogout",value:function(t){var e=this;this.tokenExpirationTimer=setTimeout((function(){e.logout()}),t)}},{key:"handleAuthentication",value:function(t,e,n,r){var i=new Date((new Date).getTime()+1e3*r),o=new $w(t,e,n,i);this.userdata=o,this.user.next(o),this.autoLogout(1e3*r),localStorage.setItem("userData",JSON.stringify(o)),this.isAuthenticated=!0}},{key:"handleError",value:function(t){var e="An unknown error occurred!";if(!t.error||!t.error.error)return Vb(e);switch(t.error.error.message){case"EMAIL_EXISTS":e="This email exists already";break;case"EMAIL_NOT_FOUND":e="This email does not exist.";break;case"INVALID_PASSWORD":e="This password is not correct."}return Vb(e)}},{key:"isLoggedIn",value:function(){var t=this;if(this.user.subscribe((function(e){t.userdata=e})),null!==this.userdata)return!0}},{key:"sendEmailVerification",value:function(){this.afAuth.auth.currentUser.sendEmailVerification(),this.router.navigate(["auth"])}},{key:"sendPasswordResetEmail",value:function(t){return Object(Yw.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.auth.sendPasswordResetEmail(t).then((function(){n.isAuthenticated&&n.logout(),n.router.navigate(["auth"]),n.showSuccess()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"SignUp",value:function(t,e){var n=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then((function(t){n.logout(),n.SendVerificationMail()}))}},{key:"SendVerificationMail",value:function(){var t=this;return this.afAuth.auth.currentUser.sendEmailVerification().then((function(){t.showError(),t.router.navigate(["verify-mail"])})).catch((function(e){t.toastr.warning(e.message,"Alert",{timeOut:5e3})}))}},{key:"SignIn",value:function(t,e){var n=this;return this.afAuth.auth.signInWithEmailAndPassword(t,e).then((function(t){n.LoginData.next(t),!0!==t.user.emailVerified?n.SendVerificationMail():n.SetUserData(t.user)}))}},{key:"isLoggedIn1",value:function(){var t=JSON.parse(localStorage.getItem("user"));return this.user.next(t),null!==t&&!1!==t.emailVerified}},{key:"SetUserData",value:function(t){var e=this;this.afAuth.authState.subscribe((function(t){if(t){e.userData=t,localStorage.setItem("user",JSON.stringify(e.userData));var n=JSON.parse(localStorage.getItem("user"));e.user.next(n)}else localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user"))}))}},{key:"showSuccess",value:function(){this.toastr.success("Password Link Sent","Please check your registered email",{timeOut:2e4})}},{key:"showError",value:function(){this.toastr.info("Email Verfication Link Sent.Verify Using the link","Please check your registered email",{timeOut:5e3})}},{key:"showerrorForResetMail",value:function(){this.toastr.error("Error while sending Reset Password Link","Error ",{timeOut:5e3})}}]),t}()).\u0275fac=function(t){return new(t||tC)(Xt(Ek),Xt(Vk),Xt(Hy),Xt(hC),Xt(gc))},tC.\u0275prov=ht({token:tC,factory:tC.\u0275fac,providedIn:"root"}),tC),gC=((Zk=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this.http=e,this.ucrud=n,this.authService=r,this.afs=i,this.router=o,this.toastr=a,this.postdata={},this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.OthersUid=new Op(null),this.pu=new Op(null),this.pr=new Op(""),this.all=new Op(this.d3),this.all3=new Op(this.d3),this.username=new Op(""),this.PostDataForLikeCount=new Op(null),this.PostDataForLikedByUser=new Op(null),setTimeout((function(){s.authService.user.subscribe((function(t){t&&(s.uid=t.id)}))}),2e3)}return _createClass(t,[{key:"getUid",value:function(){var t=this;return new Promise((function(e){t.authService.user.subscribe((function(n){n&&(t.uid=n.uid),e(t.uid)}))}))}},{key:"sortDesecending",value:function(t){return t.sort((function(t,e){return e.created_date-t.created_date})),t}},{key:"createProfile",value:function(t){var e=this;this.getUid(),this.ProfieData={id:this.uid,uname:t.uname.trim(),desc:t.desc,email:t.email,name:t.name,created_date:this.ucrud.currentDate,imgurl:this.ucrud.downloadURL,isProfileSet:!0},this.createPublicProfile(this.ProfieData,this.ProfieData.uname.trim()),this.getUid().then((function(t){e.http.post("https://fir-2f842.firebaseio.com/post/".concat(e.uid,"/profile.json"),e.ProfieData).subscribe((function(t){e.showSuccessCreateProfile()}))}))}},{key:"createPublicProfile",value:function(t,e){this.http.post("https://fir-2f842.firebaseio.com/PublicProfile/".concat(e,".json"),t).subscribe((function(t){}))}},{key:"getProfile",value:function(){var t=this;if(this.getUid(),this.uid)return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/profile.json"));this.getUid().then((function(e){return t.uid=e,t.http.get("https://fir-2f842.firebaseio.com/post/".concat(t.uid,"/profile.json"))}))}},{key:"createPost",value:function(t){var e=this;this.postdata={title:t.title,nameToSearch:t.title.toLowerCase(),desc:t.desc,category:t.category,subcategory:t.subcategory,name:t.name,created_date:this.ucrud.currentDate,imgurl:this.ucrud.downloadURL,privacy:t.privacy,uid:this.id,uname:this.uname.trim()},"true"==t.privacy?this.getUid().then((function(t){e.uid=t,e.http.post("https://fir-2f842.firebaseio.com/post/".concat(e.uid,"/public.json"),e.postdata).subscribe((function(t){e.router.navigate([""]),e.showSuccess()}),(function(t){}))})):this.http.post("https://fir-2f842.firebaseio.com/post//".concat(this.uid,"/private.json"),this.postdata).subscribe((function(t){e.router.navigate([""])}))}},{key:"getPublicPost",value:function(){return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json"))}},{key:"getPrivatePost",value:function(){return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json"))}},{key:"getAllData",value:function(){return this.getUid(),wm(this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json")),this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json")))}},{key:"seprate",value:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}},{key:"getDemo1",value:function(){var t=this;this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json")).pipe(j((function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}))).subscribe((function(e){return t.d1=e,t.pr.next(e),t.combine(),t.d1}))}},{key:"getDemo2",value:function(){var t=this;this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json")).pipe(j((function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}))).subscribe((function(e){return t.pu.next(e),t.d2=e,t.combine(),t.d2}))}},{key:"combine",value:function(){this.d3=this.d2.concat(this.d1),this.all.next(this.d3)}},{key:"update",value:function(t,e,n,r){if(this.postdata={title:n.title,nameToSearch:n.title.toLowerCase(),desc:n.desc,category:n.category,subcategory:n.subcategory,name:n.name,imgurl:r,privacy:n.privacy,created_date:this.ucrud.currentDate,uid:e.uid,uname:e.uname.trim()},this.Comare_In_FireStore(e,n),"true"==e.privacy)if("true"==n.privacy){var i=this.pb(t,e);this.Edit_Public_Post(this.postdata,i),this.EditInFireStore(this.postdata,e)}else{this.Create_Private_Post(this.postdata);var o=this.pb(t,e);this.deletePublicPost(this.postdata,o),this.deleteFromFireStore(e)}else if("false"==n.privacy){var a=this.getpr(e);this.Edit_Private_Post(this.postdata,a)}else{this.Create_Public_Post(this.postdata);var s=this.getpr(e);this.deletePrivatePost(this.postdata,s),this.CreateInFireStore(this.postdata)}}},{key:"EditInFireStore",value:function(t,e){var n=this;this.x.subscribe((function(r){for(var i in r)r[i].title==e.title&&r[i].name==e.name&&(n.firestorekey=r[i].id,n.afs.collection("normal-users").doc(n.firestorekey).update(t))}))}},{key:"CreateInFireStore",value:function(t){this.afs.collection("normal-users").add(t).then((function(t){})).catch((function(t){}))}},{key:"deleteFromFireStore",value:function(t){var e=this;this.x.subscribe((function(n){for(var r in n)n[r].title==t.title&&n[r].name==t.name&&(e.firestorekey=n[r].id,e.afs.collection("normal-users").doc(e.firestorekey).delete())}))}},{key:"deletePublicPost",value:function(t,e){var n=this;e.subscribe((function(t){n.http.delete("https://fir-2f842.firebaseio.com/post/".concat(n.uid,"/public/").concat(n.db_key,".json")).subscribe((function(t){n.router.navigate(["myposts"])}))}))}},{key:"deletePrivatePost",value:function(t,e){var n=this;e.subscribe((function(t){n.http.delete("https://fir-2f842.firebaseio.com/post/".concat(n.uid,"/private/").concat(n.db_key,".json")).subscribe((function(t){n.router.navigate(["myposts"])}))}))}},{key:"Edit_Private_Post",value:function(t,e){var n=this;e.subscribe((function(e){n.http.patch("https://fir-2f842.firebaseio.com/post/".concat(n.uid,"/private/").concat(n.db_key,".json"),t).subscribe((function(t){n.router.navigate(["myposts/".concat(n.url,"/").concat(n.post_id)]),n.showSuccessEdit()}))}))}},{key:"Edit_Public_Post",value:function(t,e){var n=this;e.subscribe((function(e){n.http.patch("https://fir-2f842.firebaseio.com/post/".concat(n.uid,"/public/").concat(n.db_key,".json"),t).subscribe((function(t){n.router.navigate(["myposts/".concat(n.url,"/").concat(n.post_id)]),n.showSuccessEdit()}))}))}},{key:"Create_Private_Post",value:function(t){this.http.post("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json"),this.postdata).subscribe((function(t){}))}},{key:"Create_Public_Post",value:function(t){this.http.post("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json"),t).subscribe((function(t){}))}},{key:"Comare_In_FireStore",value:function(t,e){this.x=this.afs.collection("normal-users").snapshotChanges().pipe(j((function(t){return t.map((function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))})))}},{key:"pb",value:function(t,e){var n=this;return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json")).pipe(j((function(t){for(var r in t)t[r].title==e.title?n.db_key=r:console.log("no data  ")})))}},{key:"getpr",value:function(t){var e=this;return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json")).pipe(j((function(n){for(var r in n)n[r].title==t.title?e.db_key=r:console.log("no data  ")})))}},{key:"passParams",value:function(t,e){this.url=t,this.post_id=e}},{key:"UpdateProfile",value:function(t,e,n){var r=this;this.editedProfileData={id:e.id,uname:t.uname.trim(),desc:t.desc,email:t.email,name:t.name,imgurl:n,isProfileSet:!0,created_date:e.created_date};var i=e.uname,o=t.uname;console.log(n);var a=this.getProfileKey(t,e.uname);this.getPublicProfileKey(t,e.uname),a.subscribe((function(t){r.http.delete("https://fir-2f842.firebaseio.com/PublicProfile/".concat(i,".json")).subscribe((function(t){})),r.createPublicProfile(r.editedProfileData,o),r.http.patch("https://fir-2f842.firebaseio.com/post/".concat(r.uid,"/profile/").concat(r.db_key,".json"),r.editedProfileData).subscribe((function(t){r.username.next(o),r.router.navigate(["/myprofile",o]),r.showSuccessEditProfile()}))}))}},{key:"getPublicProfileKey",value:function(t,e){var n=this;return this.http.get("https://fir-2f842.firebaseio.com/PublicProfile/".concat(e,".json")).pipe(j((function(t){for(var r in t)t[r].uname==e?n.db_key=r:console.log("no data  ")})))}},{key:"getProfileKey",value:function(t,e){var n=this;return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/profile.json")).pipe(j((function(t){for(var r in t)t[r].uname==e?n.db_key=r:console.log("no data  ")})))}},{key:"getPublicProfile",value:function(t){return this.http.get("https://fir-2f842.firebaseio.com/PublicProfile/".concat(t,".json"))}},{key:"getProfileFromUid",value:function(t){return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/profile.json"))}},{key:"getPublicPostsFromProfileId",value:function(t){return this.uid=t,this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/public.json"))}},{key:"getPrivateFromProfileId",value:function(t){return this.uid=t,this.http.get("https://fir-2f842.firebaseio.com/post/".concat(this.uid,"/private.json"))}},{key:"sendUidandUname",value:function(t,e){this.uname=t.trim(),this.id=e}},{key:"CreateLikeEntry",value:function(t,e,n,r,i){var o=this;this.getUid();var a,s={count:t},u={islike:e,uid:this.uid};this.getPostId(n,r,i).subscribe((function(t){for(var e in t)t[e].title==r&&t[e].desc==i&&(a=e);o.http.patch("https://fir-2f842.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus.json"),s).subscribe((function(t){})),o.PostDataForLikedByUser.subscribe((function(t){var e,r=[];for(var i in t)t[i].uid==o.uid&&(e=i,r=r.concat(t[i].uid));var s=r.some((function(t){return t===o.uid}));s&&o.http.put("https://fir-2f842.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus/uid/").concat(e,".json"),u).subscribe((function(t){})),s||o.http.post("https://fir-2f842.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus/uid.json"),u).subscribe((function(t){})),o.seprate(t)}))}))}},{key:"getLike",value:function(t,e,n){var r,i=this;this.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/public.json")).subscribe((function(o){for(var a in o)o[a].title==e&&o[a].desc==n&&(r=a);return i.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/public/").concat(r,"/likestatus.json"))}))}},{key:"getPostId",value:function(t,e,n){return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/public.json"))}},{key:"getPostDetailForLike",value:function(t,e,n){var r,i=this;this.getPostId(t,e,n).subscribe((function(o){for(var a in o)o[a].title==e&&o[a].desc==n&&(r=a);r&&i.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/public/").concat(r,".json")).subscribe((function(t){var e,n;i.PostDataForLikeCount.next(null===(e=t.likestatus)||void 0===e?void 0:e.count),i.PostDataForLikedByUser.next(null===(n=t.likestatus)||void 0===n?void 0:n.uid)}))}))}},{key:"CreateComment",value:function(t,e,n,r,i){var o=this;return new Promise((function(a){var s;o.getUid(),o.uid=e,o.commentData={comment:t.comment,commentOn:o.ucrud.currentDate,commentByUserId:e},o.getCommentKey(n,r,i).then((function(t){s=t,o.http.post("https://fir-2f842.firebaseio.com/post/".concat(n,"/public/").concat(s,"/commentData.json"),o.commentData).subscribe((function(t){o.getCommentDataFromKey(n,s),a(!0)}))}))}))}},{key:"getCommentDataFromKey",value:function(t,e){return this.http.get("https://fir-2f842.firebaseio.com/post/".concat(t,"/public/").concat(e,"/commentData.json"))}},{key:"getCommentKey",value:function(t,e,n){var r=this;return new Promise((function(i){var o;r.getPostId(t,e,n).subscribe((function(t){for(var r in t)t[r].title==e&&t[r].desc==n&&(o=r);i(o)}))}))}},{key:"deletPostEvent",value:function(t,e){var n=this;return new Promise((function(r){if("true"==t.privacy){var i=n.pb(e,t);n.Comare_In_FireStore(t,i),n.deleteFromFireStore(t),r(n.deletePublicPost(t,i))}if("false"==t.privacy){var o=n.getpr(t);r(n.deletePrivatePost(t,o))}}))}},{key:"getFeaturedPost",value:function(){var t=this;return new Promise((function(e){t.http.get("https://fir-2f842.firebaseio.com/post.json").subscribe((function(n){var r,i=t.seprate(n),o=[];for(var a in i){o=o.concat(t.seprate(i[a].public)),t.featuredPost=o;var s=[];for(var u in t.featuredPost)(null===(r=t.featuredPost[u].likestatus)||void 0===r?void 0:r.count)>1&&(s=s.concat(t.featuredPost[u]),t.featuredPostsorted=s)}e(t.featuredPostsorted)}))}))}},{key:"getAllPost",value:function(){var t=this;return new Promise((function(e){t.http.get("https://fir-2f842.firebaseio.com/post.json").subscribe((function(n){var r=t.seprate(n),i=[];for(var o in r)i=i.concat(t.seprate(r[o].public));e(i)}))}))}},{key:"showSuccess",value:function(){this.toastr.success("Post Added Successfully","Success",{timeOut:2e4})}},{key:"showSuccessDelete",value:function(){this.toastr.success("Post Deleted Successfully","Success",{timeOut:2e4})}},{key:"showSuccessEdit",value:function(){this.toastr.success("Post Edited Successfully","Success",{timeOut:2e4})}},{key:"showSuccessCreateProfile",value:function(){this.toastr.success("Profile Created Successfully","Success",{timeOut:2e4})}},{key:"showSuccessEditProfile",value:function(){this.toastr.success("Profile Edited Successfully","Success",{timeOut:2e4})}},{key:"showWarningForProfileSet",value:function(){this.toastr.warning("Please set your Profile","Warning",{timeOut:2e4})}}]),t}()).\u0275fac=function(t){return new(t||Zk)(Xt(Ek),Xt(Xw),Xt(vC),Xt(Qw),Xt(Hy),Xt(hC))},Zk.\u0275prov=ht({token:Zk,factory:Zk.\u0275fac,providedIn:"root"}),Zk),yC=((Jk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Jk)},Jk.\u0275cmp=fe({type:Jk,selectors:[["app-loading-spinner"]],decls:3,vars:0,consts:[[1,"lds-dual-ring"]],template:function(t,e){1&t&&(Aa(0,"div",0),Ia(1,"h3"),as(2,"Loading..."),Ta())},styles:['.lds-dual-ring[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto;text-align:center;padding-top:150px}h3[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border-color:#3578f3 transparent #1c82d4;border-style:solid;border-width:6px;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),Jk);function mC(t,e){if(1&t&&(Ia(0,"div",5),Ia(1,"p"),as(2),Ta(),Ta()),2&t){var n=Fa();gi(2),ss(n.error)}}function _C(t,e){1&t&&(Ia(0,"div",6),Aa(1,"app-loading-spinner"),Ta())}function bC(t,e){1&t&&(Ia(0,"div",30),Aa(1,"img",31),Ta())}function wC(t,e){if(1&t&&(Ia(0,"div",32),Ia(1,"a",33),as(2,"To view Image click here"),Ta(),Ta()),2&t){var n=Fa(2);gi(1),Ua("href",n.downloadURL,Yr)}}function kC(t,e){if(1&t&&(Ia(0,"div",35),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function CC(t,e){if(1&t&&(Pa(0),_a(1,kC,2,1,"div",34),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function EC(t,e){if(1&t&&(Ia(0,"div",35),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function SC(t,e){1&t&&(Ia(0,"div",35),as(1," Minimun 50 characters required in description"),Ta())}function IC(t,e){if(1&t&&(Pa(0),_a(1,EC,2,1,"div",34),_a(2,SC,2,0,"div",34),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("desc").hasError(n.type)&&(r.exampleForm.get("desc").dirty||r.exampleForm.get("desc").touched)),gi(1),Ea("ngIf",r.exampleForm.get("desc").hasError("minlength")&&r.exampleForm.get("desc").touched)}}function TC(t,e){if(1&t&&(Ia(0,"option"),as(1),Ta()),2&t){var n=e.$implicit;gi(1),us("",n," ")}}function AC(t,e){if(1&t&&(Ia(0,"div",35),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function PC(t,e){if(1&t&&(Pa(0),_a(1,AC,2,1,"div",34),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("category").hasError(n.type)&&(r.exampleForm.get("category").dirty||r.exampleForm.get("category").touched))}}function xC(t,e){1&t&&(Ia(0,"div",17),Aa(1,"input",36),Ta())}function OC(t,e){if(1&t&&(Ia(0,"div",35),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function NC(t,e){if(1&t&&(Pa(0),_a(1,OC,2,1,"div",34),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("name").hasError(n.type)&&(r.exampleForm.get("name").dirty||r.exampleForm.get("name").touched))}}function DC(t,e){if(1&t&&(Ia(0,"div",35),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function RC(t,e){if(1&t&&(Pa(0),_a(1,DC,2,1,"div",34),xa()),2&t){var n=e.$implicit,r=Fa(3);gi(1),Ea("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function LC(t,e){if(1&t&&(Ia(0,"div",15),Ia(1,"label",16),as(2,"Keep your post Public:"),Ta(),Ia(3,"div",17),Ia(4,"label",37),Aa(5,"input",38),as(6," Yes keep my post Public "),Ta(),Aa(7,"br"),Ia(8,"label",37),Aa(9,"input",39),as(10," No keep it private "),Ta(),Ta(),_a(11,RC,2,1,"ng-container",19),Ta()),2&t){var n=Fa(2);gi(11),Ea("ngForOf",n.validation_messages.title)}}function MC(t,e){if(1&t){var n=Oa();Ia(0,"form",7),Ra("ngSubmit",(function(){Ye(n);var t=Fa();return t.onSubmit(t.exampleForm.value)})),Ia(1,"div",8),Ia(2,"input",9),Ra("change",(function(t){return Ye(n),Fa().detectFiles(t)})),Ta(),Aa(3,"img",10),Ia(4,"div",11),Ia(5,"h3"),as(6),Tu(7,"async"),Ta(),Ta(),_a(8,bC,2,0,"div",12),_a(9,wC,3,1,"div",13),Ta(),Aa(10,"br"),Ia(11,"div",14),Ia(12,"div",15),Ia(13,"label",16),as(14,"Title:"),Ta(),Ia(15,"div",17),Aa(16,"input",18),Ta(),_a(17,CC,2,1,"ng-container",19),Ta(),Ia(18,"div",15),Ia(19,"label",16),as(20,"Description:"),Ta(),Aa(21,"textarea",20),_a(22,IC,3,2,"ng-container",19),Ta(),Ia(23,"div",15),Ia(24,"label",21),as(25,"Category list:"),Ta(),Ia(26,"select",22,23),Ra("change",(function(){Ye(n);var t=ba(27);return Fa().onChange(t.value)})),_a(28,TC,2,1,"option",19),Ta(),_a(29,PC,2,1,"ng-container",19),Ta(),Ia(30,"div",15),_a(31,xC,2,0,"div",24),Ta(),Ia(32,"div",15),Ia(33,"label",16),as(34,"Name:"),Ta(),Ia(35,"div",17),Aa(36,"input",25),Ta(),_a(37,NC,2,1,"ng-container",19),Ta(),_a(38,LC,12,1,"div",26),Ia(39,"div",27),Ia(40,"div",28),Ia(41,"button",29),as(42,"Create"),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=Fa();Ea("formGroup",r.exampleForm),gi(3),Ea("src",r.imageSrc||"http://placehold.it/180",Yr),gi(3),ss(Au(7,13,r.uploadPercent)),gi(2),Ea("ngIf",r.isimgloading),gi(1),Ea("ngIf",r.uploadPercent&&!r.isimgloading),gi(8),Ea("ngForOf",r.validation_messages.title),gi(5),Ea("ngForOf",r.validation_messages.desc),gi(6),Ea("ngForOf",r.values),gi(1),Ea("ngForOf",r.validation_messages.category),gi(2),Ea("ngIf","Other"==r.selected),gi(6),Ea("ngForOf",r.validation_messages.name),gi(1),Ea("ngIf",r.isAuthenticated),gi(3),Ea("disabled",!r.exampleForm.valid)}}var FC,UC,jC=((UC=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.firebaseService=n,this.fb=r,this.authService=i,this.acrud=o,this.isAuthenticated=!1,this.values=["Happy","Sad","Success","Failure","Hurt","Study","Educational","Portfolio","Other"],this.selected="Happy",this.isloggedin=!1,this.validation_messages={title:[{type:"required",message:"Title is required."}],desc:[{type:"required",message:"Description is required."}],category:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]}}return _createClass(t,[{key:"onChange",value:function(t){this.selected=t}},{key:"detectFiles",value:function(t){var e=this;if(this.isimgloading=!0,this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.downloadURL=t,e.isimgloading=!1}),(function(t){e.error=t,console.log(t.message)}))}},{key:"ngOnInit",value:function(){var t=this;this.userSub=this.authService.user.subscribe((function(e){t.isAuthenticated=!!e,t.acrud.getProfileFromUid(e.uid).subscribe((function(e){var n=t.acrud.seprate(e);t.isprofileset=n[0].isProfileSet,t.isprofileset||(t.router.navigate(["myprofile"]),t.acrud.showWarningForProfileSet())}))})),this.createForm(),this.isAuthenticated&&this.getUidandUname()}},{key:"getUidandUname",value:function(){var t=this;this.isloading=!0,this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.isloading=!1,t.username=n[0].uname,t.uid=n[0].id,t.acrud.sendUidandUname(t.username,t.uid),t.firebaseService.sendUidandUname(t.username,t.uid)}),(function(e){t.error=e}))}},{key:"createForm",value:function(){this.exampleForm=this.fb.group({imgurl:["",Km.required],title:["",Km.required],desc:["",[Km.required,Km.minLength(50)]],category:[this.selected,Km.required],subcategory:["  ",Km.required],name:["",Km.required],privacy:["true"]})}},{key:"onSubmit",value:function(t){var e=this;this.isAuthenticated?("true"==this.exampleForm.value.privacy&&this.firebaseService.createUser(t),this.acrud.createPost(t),this.exampleForm.reset(),this.isloading=!0):this.firebaseService.createUser(t).then((function(t){e.exampleForm.reset(),e.router.navigate([""])})).catch((function(t){e.error=t,console.log("err"+t)}))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||UC)(wa(Hy),wa(Xw),wa(Fb),wa(vC),wa(gC))},UC.\u0275cmp=fe({type:UC,selectors:[["app-u-create-post"]],decls:5,vars:3,consts:[[1,"container"],[1,"col-md-10","col-sm-12","col-xs-12","center-block"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],["class","create-form","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[1,"col-xs-2","percantage"],["class","col-xs-3","style","width: 30px; height: 30px;",4,"ngIf"],["class","col-xs-7",4,"ngIf"],[1,"col-md-8","col-sm-9","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["rows","5","id","comment","formControlName","desc",1,"form-control"],["for","sel1"],["formControlName","category",1,"form-control",3,"change"],["t",""],["class","input-style",4,"ngIf"],["placeholder","Name","formControlName","name",1,"form-control"],["class","form-group",4,"ngIf"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],[1,"col-xs-3",2,"width","30px","height","30px"],["src","/assets/Eclipse-1s-200px.gif",2,"width","60px","height","60px"],[1,"col-xs-7"],[3,"href"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"],["placeholder","Other category","formControlName","subcategory",1,"form-control"],[1,"md-check"],["type","radio","value","true","name","privacy","formControlName","privacy","checked","true"],["type","radio","value","false","name","privacy","formControlName","privacy"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),_a(2,mC,3,1,"div",2),_a(3,_C,2,0,"div",3),_a(4,MC,43,15,"form",4),Ta(),Ta()),2&t&&(gi(2),Ea("ngIf",e.error),gi(1),Ea("ngIf",e.isloading),gi(1),Ea("ngIf",!e.isloading))},directives:[rh,yC,hb,Bm,pb,Nm,qm,Pb,eh,m_,__,S_,s_],pipes:[dh],styles:["input[type=file][_ngcontent-%COMP%]{width:200px}.col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]{margin-bottom:25px}.percantage[_ngcontent-%COMP%]{width:29%}.center-block[_ngcontent-%COMP%]{float:none}.col-xs-7[_ngcontent-%COMP%]{padding-top:15px}"]}),UC),VC=((FC=function(){function t(e){_classCallCheck(this,t),this.domSanitizer=e}return _createClass(t,[{key:"transform",value:function(t){return this.domSanitizer.bypassSecurityTrustHtml(t)}}]),t}()).\u0275fac=function(t){return new(t||FC)(wa(tf))},FC.\u0275pipe=_e({name:"noSanitize",type:FC,pure:!0}),FC),qC=function(t,e){return["/myposts",t,e,"edit"]},BC=function(t){return{active:t}},HC=function(){return["/myposts"]};function zC(t,e){if(1&t){var n=Oa();Ia(0,"div",12),Ia(1,"div",13),Ia(2,"a",14),as(3,"Add new Post"),Ta(),Ia(4,"a",15),as(5,"Edit Post"),Ta(),Ia(6,"a",16),as(7,"Delete Post"),Ta(),Ia(8,"a",17),as(9,"My Posts"),Ta(),Ta(),Ia(10,"div",18),Ia(11,"div",19),Ia(12,"div",20),Ia(13,"div",21),Ia(14,"button",22),as(15,"\xd7"),Ta(),Ia(16,"h4",23),as(17,"Please confirm Delete Action"),Ta(),Ta(),Ia(18,"div",24),Ia(19,"p"),as(20,"Are you sure you want to Delete Post."),Ta(),Ta(),Ia(21,"div",25),Ia(22,"button",26),Ra("click",(function(){return Ye(n),Fa().OnDelete()})),as(23,"Delete"),Ta(),Ia(24,"button",27),as(25,"Close"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=Fa();gi(4),Ea("routerLink",(i=qC,o=r.postype,a=r.id,Iu(Qe(),rn(),3,i,o,a,void 0))),gi(4),Ea("ngClass",Cu(6,BC,1==r.isPrivate))("routerLink",ku(8,HC))}var i,o,a}function GC(t,e){if(1&t&&(Ia(0,"span"),Ia(1,"b"),as(2,"Sub "),Ta(),as(3),Ta()),2&t){var n=Fa(2);gi(3),us(" ",n.unauthpost.subcategory," ")}}function WC(t,e){1&t&&Aa(0,"img",42),2&t&&Ea("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function KC(t,e){if(1&t){var n=Oa();Ia(0,"div"),_a(1,WC,1,1,"img",40),Ia(2,"img",41),Ra("load",(function(){return Ye(n),Fa(2).isImgLoaded=!0})),Ta(),Ia(3,"figcaption"),as(4),Ta(),Ta()}if(2&t){var r=Fa(2);gi(1),Ea("ngIf",!r.isImgLoaded),gi(1),Ea("hidden",!r.isImgLoaded)("src",r.unauthpost.imgurl,Yr),gi(2),ss(r.unauthpost.title)}}function QC(t,e){if(1&t){var n=Oa();Ia(0,"div",0),Ia(1,"div",28),Ia(2,"h2",29),as(3),Ta(),as(4," ' "),Ia(5,"div",30),Aa(6,"img",31),Ia(7,"div",32),Ia(8,"a",33),Ra("click",(function(){Ye(n);var t=Fa();return t.navigateToProfile(t.unauthpost.uname)})),as(9),Ta(),Ia(10,"p",34),Ia(11,"b"),as(12,"Category: "),Ta(),as(13),_a(14,GC,4,1,"span",5),Ta(),Ta(),Ia(15,"p",35),as(16),Tu(17,"date"),Ta(),Ta(),_a(18,KC,5,4,"div",36),Ia(19,"div",37),Ra("click",(function(){return Ye(n),Fa().Like()})),Ia(20,"div",38),Ia(21,"span"),as(22),Ta(),Ta(),Ta(),Aa(23,"p",39),Tu(24,"noSanitize"),Ta(),Ta()}if(2&t){var r=Fa(),i=ba(12);gi(3),us(" ",r.unauthpost.title," "),gi(3),Ea("src",r.ProfileImgUrl||"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr),gi(3),us(" ",r.unauthpost.uname," "),gi(4),us(" ",r.unauthpost.category," "),gi(1),Ea("ngIf",r.unauthpost.subcategory&&r.unauthpost.subcategory.trim()),gi(2),us(" ",Pu(17,11,r.postDate,"medium")," "),gi(2),Ea("ngIf",r.unauthpost.imgurl)("ngIfElse",i),gi(2),Ea("ngClass",r.likeStatus?"is-active":""),gi(2),us("Like ",r.count,""),gi(1),Ea("innerHTML",Au(24,14,r.unauthpost.desc),Xr)}}function XC(t,e){1&t&&Aa(0,"img",44),2&t&&Ea("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function YC(t,e){if(1&t){var n=Oa();Ia(0,"div"),_a(1,XC,1,1,"img",43),Ia(2,"img",41),Ra("load",(function(){return Ye(n),Fa(2).isImgLoaded=!0})),Ta(),Ia(3,"figcaption"),as(4),Ta(),Ta()}if(2&t){var r=Fa().ngIf,i=Fa();gi(1),Ea("ngIf",!i.isImgLoaded),gi(1),Ea("hidden",!i.isImgLoaded)("src",r.imgurl,Yr),gi(2),ss(r.title)}}function $C(t,e){if(1&t){var n=Oa();Ia(0,"div",0),Ia(1,"div",28),Ia(2,"h2",29),as(3),Ta(),as(4," ' "),Ia(5,"div",30),Aa(6,"img",31),Ia(7,"div",32),Ia(8,"a",33),Ra("click",(function(){Ye(n);var t=e.ngIf;return Fa().navigateToProfile(t.uname)})),as(9),Ta(),Ia(10,"p",34),Ia(11,"b"),as(12,"Category: "),Ta(),as(13),Ta(),Ta(),Ia(14,"p",35),Ia(15,"b"),as(16,"Written on : "),Ta(),as(17),Tu(18,"date"),Ta(),Ta(),_a(19,YC,5,4,"div",36),Ia(20,"div",37),Ra("click",(function(){return Ye(n),Fa().Like()})),Ia(21,"div",38),Ia(22,"span"),as(23),Ta(),Ta(),Ta(),Aa(24,"p",39),Tu(25,"noSanitize"),Ta(),Ta()}if(2&t){var r=e.ngIf,i=Fa(),o=ba(20);gi(3),us(" ",r.title," "),gi(3),Ea("src",i.ProfileImgUrl||"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr),gi(3),us(" ",r.uname," "),gi(4),us(" ",r.category," "),gi(4),us(" ",Pu(18,10,r.created_date,"medium")," "),gi(2),Ea("ngIf",r.imgurl)("ngIfElse",o),gi(2),Ea("ngClass",i.likeStatus?"is-active":""),gi(2),us("Like ",i.count,""),gi(1),Ea("innerHTML",Au(25,13,r.desc),Xr)}}function JC(t,e){1&t&&Aa(0,"img",44),2&t&&Ea("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function ZC(t,e){if(1&t){var n=Oa();Ia(0,"div"),_a(1,JC,1,1,"img",43),Ia(2,"img",47),Ra("load",(function(){return Ye(n),Fa(2).isImgLoaded=!0})),Ta(),Ia(3,"figcaption"),as(4),Ta(),Ta()}if(2&t){var r=Fa().ngIf,i=Fa();gi(1),Ea("ngIf",!i.isImgLoaded),gi(1),Ea("hidden",!i.isImgLoaded)("src",null==r[i.id]?null:r[i.id].imgurl,Yr),gi(2),ss(null==r[i.id]?null:r[i.id].title)}}function tE(t,e){if(1&t){var n=Oa();Ia(0,"div",0),Ia(1,"div",45),Ia(2,"h2",29),as(3),Ta(),as(4," ' "),Ia(5,"div",30),Aa(6,"img",46),Ia(7,"div",32),Ia(8,"a",33),Ra("click",(function(){Ye(n);var t=e.ngIf,r=Fa();return r.navigateToProfile(null==t[r.id]?null:t[r.id].uname)})),as(9),Ta(),Ia(10,"p",34),Ia(11,"b"),as(12,"Category: "),Ta(),as(13),Ta(),Ta(),Ia(14,"p",35),Ia(15,"b"),as(16,"Written on : "),Ta(),as(17),Tu(18,"date"),Ta(),Ta(),_a(19,ZC,5,4,"div",36),Aa(20,"p",39),Tu(21,"noSanitize"),Ta(),Ta()}if(2&t){var r=e.ngIf,i=Fa(),o=ba(20);gi(3),ss(null==r[i.id]?null:r[i.id].title),gi(6),us(" ",null==r[i.id]?null:r[i.id].uname,""),gi(4),ss(null==r[i.id]?null:r[i.id].category),gi(4),us("",Pu(18,7,null==r[i.id]?null:r[i.id].created_date,"medium")," "),gi(2),Ea("ngIf",null==r[i.id]?null:r[i.id].imgurl)("ngIfElse",o),gi(1),Ea("innerHTML",Au(21,10,null==r[i.id]?null:r[i.id].desc),Xr)}}function eE(t,e){if(1&t&&(Ia(0,"div",0),Ia(1,"div",28),Ia(2,"h2",29),as(3),Ta(),as(4," ' "),Ia(5,"div",30),Aa(6,"img",46),Ia(7,"div",32),Ia(8,"p",48),as(9),Ta(),Ia(10,"p",34),Ia(11,"b"),as(12,"Category: "),Ta(),as(13),Ta(),Ta(),Ia(14,"p",35),Ia(15,"b"),as(16,"Written on : "),Ta(),as(17),Tu(18,"date"),Ta(),Ta(),Aa(19,"img",44),Ia(20,"figcaption"),as(21),Ta(),Aa(22,"p",39),Tu(23,"noSanitize"),Ta(),Ta()),2&t){var n=e.ngIf,r=Fa();gi(3),ss(null==n[r.id]?null:n[r.id].title),gi(6),ss(null==n[r.id]?null:n[r.id].uname),gi(4),ss(null==n[r.id]?null:n[r.id].category),gi(4),us("",Pu(18,7,null==n[r.id]?null:n[r.id].created_date,"medium")," "),gi(2),ja("src","",null==n[r.id]?null:n[r.id].imgurl," ",Yr),gi(2),ss(null==n[r.id]?null:n[r.id].title),gi(1),Ea("innerHTML",Au(23,10,null==n[r.id]?null:n[r.id].desc),Xr)}}function nE(t,e){if(1&t&&(Ia(0,"div",0),Ia(1,"div",28),Ia(2,"h2",29),as(3),Ta(),as(4," ' "),Ia(5,"div",30),Aa(6,"img",46),Ia(7,"div",32),Ia(8,"p",48),as(9),Ta(),Ia(10,"p",34),Ia(11,"b"),as(12,"Category: "),Ta(),as(13),Ta(),Ta(),Ia(14,"p",35),Ia(15,"b"),as(16,"Written on : "),Ta(),as(17),Tu(18,"date"),Ta(),Ta(),Aa(19,"img",49),Ia(20,"figcaption"),as(21),Ta(),Aa(22,"p",39),Tu(23,"noSanitize"),Ta(),Ta()),2&t){var n=e.ngIf,r=Fa();gi(3),ss(null==n[r.id]?null:n[r.id].title),gi(6),ss(null==n[r.id]?null:n[r.id].uname),gi(4),ss(null==n[r.id]?null:n[r.id].category),gi(4),us("",Pu(18,7,null==n[r.id]?null:n[r.id].created_date,"medium")," "),gi(2),ja("src","",null==n[r.id]?null:n[r.id].imgurl," ",Yr),gi(2),ss(null==n[r.id]?null:n[r.id].title),gi(1),Ea("innerHTML",Au(23,10,null==n[r.id]?null:n[r.id].desc),Xr)}}function rE(t,e){if(1&t){var n=Oa();Ia(0,"div"),Aa(1,"hr"),Ia(2,"form",50),Ra("ngSubmit",(function(){Ye(n);var t=Fa();return t.onSubmit(t.CommentForm.value)})),Ia(3,"div",51),Ia(4,"label",52),as(5,"Leave Your Comment Here:"),Ta(),Aa(6,"textarea",53),Ta(),Ia(7,"div",54),Ia(8,"div",55),Ia(9,"button",56),as(10,"Post your comment"),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=Fa();gi(2),Ea("formGroup",r.CommentForm),gi(7),Ea("disabled",!r.CommentForm.valid)}}function iE(t,e){if(1&t&&(Ia(0,"div"),Ia(1,"h4"),as(2),Ta(),Ia(3,"p",35),as(4),Tu(5,"date"),Ta(),Ia(6,"p",59),as(7),Ta(),Aa(8,"hr"),Ta()),2&t){var n=e.$implicit;gi(2),ss(n.uname),gi(2),ss(Pu(5,3,n.commentOn,"medium")),gi(3),ss(n.comment)}}function oE(t,e){if(1&t&&(Ia(0,"div",57),Aa(1,"hr"),_a(2,iE,9,6,"div",58),Ta()),2&t){var n=Fa();gi(2),Ea("ngForOf",n.Comment_Data)}}function aE(t,e){1&t&&(Ia(0,"div",61),Aa(1,"app-loading-spinner"),Ta())}function sE(t,e){if(1&t&&(Ia(0,"div",61),Ia(1,"h3"),as(2),Ta(),Ia(3,"p"),as(4),Ta(),Ta()),2&t){var n=Fa(2);gi(2),ss(n.errorkey),gi(2),us(" ",n.error,"")}}function uE(t,e){if(1&t&&(_a(0,aE,2,0,"div",60),_a(1,sE,5,2,"div",60)),2&t){var n=Fa();Ea("ngIf",n.isFetching&&n.isUnauth),gi(1),Ea("ngIf",n.error||n.errorkey)}}function cE(t,e){1&t&&(Ia(0,"div",61),Ia(1,"app-loading-spinner"),as(2,"loaduin"),Ta(),Ta())}function lE(t,e){if(1&t&&(Ia(0,"div",61),Ia(1,"h3"),as(2),Ta(),Ia(3,"p"),as(4),Ta(),Ta()),2&t){var n=Fa(2);gi(2),ss(n.errorkey),gi(2),us(" ",n.error,"")}}function hE(t,e){if(1&t&&(_a(0,cE,3,0,"div",60),_a(1,lE,5,2,"div",60)),2&t){var n=Fa();Ea("ngIf",n.isFetching&&"public"===n.postype),gi(1),Ea("ngIf",n.error||n.errorkey)}}function fE(t,e){1&t&&(Ia(0,"div",61),Aa(1,"app-loading-spinner"),Ta())}function dE(t,e){if(1&t&&(Ia(0,"div",61),Ia(1,"h3"),as(2),Ta(),Ia(3,"p"),as(4),Ta(),Ta()),2&t){var n=Fa(2);gi(2),ss(n.errorkey),gi(2),us(" ",n.error,"")}}function pE(t,e){if(1&t&&(_a(0,fE,2,0,"div",60),_a(1,dE,5,2,"div",60)),2&t){var n=Fa();Ea("ngIf",n.isFetching&&"private"===n.postype),gi(1),Ea("ngIf",n.error||n.errorkey)}}function vE(t,e){1&t&&(Ia(0,"div",61),Aa(1,"app-loading-spinner"),Ta())}function gE(t,e){if(1&t&&(Ia(0,"div",61),Ia(1,"h3"),as(2),Ta(),Ia(3,"p"),as(4),Ta(),Ta()),2&t){var n=Fa(2);gi(2),ss(n.errorkey),gi(2),us(" ",n.error,"")}}function yE(t,e){if(1&t&&(_a(0,vE,2,0,"div",60),_a(1,gE,5,2,"div",60)),2&t){var n=Fa();Ea("ngIf",n.isFetching&&"allpost"===n.postype),gi(1),Ea("ngIf",n.error||n.errorkey)}}function mE(t,e){1&t&&(Ia(0,"div",61),Aa(1,"app-loading-spinner"),Ta())}function _E(t,e){if(1&t&&(Ia(0,"div",61),Ia(1,"h3"),as(2),Ta(),Ia(3,"p"),as(4),Ta(),Ta()),2&t){var n=Fa(2);gi(2),ss(n.errorkey),gi(2),us(" ",n.error,"")}}function bE(t,e){if(1&t&&(_a(0,mE,2,0,"div",62),_a(1,_E,5,2,"div",60)),2&t){var n=Fa();Ea("ngIf",!n.publicpostOfSingleUser&&("publicposts"===n.xyz[3]||"featured"==n.xyz[1])),gi(1),Ea("ngIf",n.error||n.errorkey)}}var wE,kE,CE,EE=((CE=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.route=e,this.router=n,this.cd=r,this.acrud=i,this.authService=o,this.fb=a,this.count=0,this.isFetching=!1,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.isUnauth=!1,this.isImgLoaded=!1,this.showComment=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.href=this.router.url,this.xyz=this.href.split("/"),this.id=this.xyz[2],this.route.params.subscribe((function(e){t.id=+e.id,t.postype=e.type,"home"==t.xyz[1]&&(t.getAllPost(),t.showComment=!0),"featured"==t.xyz[1]&&(t.getFeaturedPost(),t.showComment=!0),"allpost"===t.postype&&t.getAuthAllPost(),"public"===t.postype&&(t.acrud.getDemo2(),t.getAuthPublicPost(),t.showComment=!0),"private"===t.postype&&(t.acrud.getDemo1(),t.getAuthPrivatePost(),t.showComment=!1),"publicposts"===t.xyz[3]&&(t.profileuname=t.xyz[2],t.getPostFromProfile(t.profileuname),t.showComment=!0)})),this.userSub=this.authService.user.subscribe((function(e){e&&(t.currentUserId=e.uid),t.isAuthenticated=!!e})),this.isAuthenticated&&this.getUidandUname(),this.getLikeCountandStatus(),this.CallCommentForm()}},{key:"getUidandUname",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.username=n[0].uname}))}},{key:"getLikeCountandStatus",value:function(){var t=this;this.acrud.PostDataForLikeCount.subscribe((function(e){e&&(t.count=e)})),this.acrud.PostDataForLikedByUser.subscribe((function(e){var n=t.acrud.seprate(e);for(var r in n)n[r].uid==t.currentUserId&&(t.likeStatus=n[r].islike)}))}},{key:"getPostFromProfile",value:function(t){var e=this;this.acrud.getPublicProfile(t).subscribe((function(n){var r=e.acrud.seprate(n);e.getPublicPostsFromProfileId(r[0].id),e.acrud.getPublicProfile(t).subscribe((function(t){var n,r=e.acrud.seprate(t);e.ProfileImgUrl=null===(n=r[0])||void 0===n?void 0:n.imgurl}))}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.isPublicPostOfSingleUser=!1,this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){e.isPublicPostOfSingleUser=!0;var n=e.acrud.seprate(t);e.sortDesecendingByDate(n),e.publicpostOfSingleUser=n[e.id],e.posttitle=e.publicpostOfSingleUser.title,e.postdesc=e.publicpostOfSingleUser.desc,e.post_userid=e.publicpostOfSingleUser.uid,e.getComment(e.publicpostOfSingleUser.uid,e.publicpostOfSingleUser.title,e.publicpostOfSingleUser.desc),e.acrud.getPostDetailForLike(e.post_userid,e.posttitle,e.postdesc)}))}},{key:"getFeaturedPost",value:function(){var t=this;this.isFetching=!0,this.acrud.getFeaturedPost().then((function(e){t.publicpostOfSingleUser=e[t.id],t.acrud.getPublicProfile(t.publicpostOfSingleUser.uname).subscribe((function(e){var n,r=t.acrud.seprate(e);t.ProfileImgUrl=null===(n=r[0])||void 0===n?void 0:n.imgurl})),t.posttitle=t.publicpostOfSingleUser.title,t.postdesc=t.publicpostOfSingleUser.desc,t.post_userid=t.publicpostOfSingleUser.uid,t.getComment(t.publicpostOfSingleUser.uid,t.publicpostOfSingleUser.title,t.publicpostOfSingleUser.desc),t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.isFetching=!1}))}},{key:"getAllPost",value:function(){var t=this;this.isUnauth=!0,this.isFetching=!0,this.acrud.getAllPost().then((function(e){var n,r,i,o;t.isFetching=!1,t.sortDesecendingByDate(e),t.unauthpost=e[t.id],(null===(n=t.unauthpost)||void 0===n?void 0:n.uid)?(t.post_userid=null===(r=t.unauthpost)||void 0===r?void 0:r.uid,t.posttitle=null===(i=t.unauthpost)||void 0===i?void 0:i.title,t.postdesc=null===(o=t.unauthpost)||void 0===o?void 0:o.desc,t.getProfileFromUid(t.post_userid),t.postDate=t.unauthpost.created_date,t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.getComment(t.post_userid,t.unauthpost.title,t.unauthpost.desc)):t.router.navigate(["home"])}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"getUauthPublicPost",value:function(){var t=this;this.isUnauth=!0,this.isFetching=!0,this.cd.get_public_post().subscribe((function(e){var n,r,i,o;t.unauthpostss=e.map((function(t){return Object.assign({},t.payload.doc.data())}),(function(e){t.error=e})),t.isFetching=!1,t.sortDesecending(),t.unauthpost=t.unauthpostss[t.id],null==t.unauthpost&&t.router.navigate(["home"]),(null===(n=t.unauthpost)||void 0===n?void 0:n.uid)?(t.post_userid=null===(r=t.unauthpost)||void 0===r?void 0:r.uid,t.posttitle=null===(i=t.unauthpost)||void 0===i?void 0:i.title,t.postdesc=null===(o=t.unauthpost)||void 0===o?void 0:o.desc,t.getProfileFromUid(t.post_userid),t.postDate=t.unauthpost.created_date,t.postDate=t.postDate.toDate(),t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.getComment(t.post_userid,t.unauthpost.title,t.unauthpost.desc)):t.router.navigate(["home"])}),(function(e){t.errorkey=e}))}},{key:"getComment",value:function(t,e,n){var r=this,i=this.acrud.getCommentKey(t,e,n).then((function(t){return new Promise((function(e){e(t)}))}));i&&i.then((function(e){r.acrud.getCommentDataFromKey(t,e).subscribe((function(t){r.Comment_Data=r.acrud.seprate(t),t&&r.Comment_Data.sort((function(t,e){return new Date(e.commentOn).getTime()-new Date(t.commentOn).getTime()}));var e=function(t){r.acrud.getProfileFromUid(r.Comment_Data[t].commentByUserId).subscribe((function(e){var n=r.acrud.seprate(e);r.Comment_Data[t].uname=n[0].uname}))};for(var n in r.Comment_Data)e(n)}))}))}},{key:"getProfileFromUid",value:function(t){var e=this;this.acrud.getProfileFromUid(t).subscribe((function(t){var n=e.acrud.seprate(t);e.ProfileImgUrl=n[0].imgurl}))}},{key:"getAuthPublicPost",value:function(){var t=this;this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.isFetching=!0,this.puSub=this.acrud.pu.subscribe((function(e){if(e){t.sortDesecendingByDate(e),t.public_post=e;var n=t.id;t.posttitle=t.public_post[n].title,t.postdesc=t.public_post[n].desc,t.post_userid=t.public_post[n].uid,t.getComment(t.public_post[n].uid,t.public_post[n].title,t.public_post[n].desc)}}),(function(e){return t.error=e}))}},{key:"getAuthAllPost",value:function(){var t=this;this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n,r;t.isFetching=!1;var i=e[1],o=[];o=t.acrud.seprate(e[0]);var a=t.acrud.seprate(i),s=o.concat(a);t.allPost=s,t.sortDesecendingByDate(t.allPost);var u=t.id;"true"==(null===(n=t.allPost[u])||void 0===n?void 0:n.privacy)&&(t.showComment=!0),"false"==(null===(r=t.allPost[u])||void 0===r?void 0:r.privacy)&&(t.showComment=!1),t.posttitle=t.allPost[u].title,t.postdesc=t.allPost[u].desc,t.post_userid=t.allPost[u].uid,t.getComment(t.allPost[u].uid,t.allPost[u].title,t.allPost[u].desc)}),(function(e){t.error=e}))}},{key:"getAuthPrivatePost",value:function(){var t=this;this.route.params.subscribe((function(e){t.id=+e.id,t.isAll=!1,t.isPublic=!1,t.isPrivate=!0,t.isFetching=!0,t.prSub=t.acrud.pr.subscribe((function(e){t.isFetching=!1,t.private_post=e,t.SinglePost=t.private_post[t.id]}))}))}},{key:"sortDesecending",value:function(){this.acrud.sortDesecending(this.unauthpostss)}},{key:"Like",value:function(){this.currentUserId?(this.count=this.likeStatus?this.count-1:this.count+1,this.likeStatus=!this.likeStatus,this.acrud.CreateLikeEntry(this.count,this.likeStatus,this.post_userid,this.posttitle,this.postdesc)):this.router.navigate(["/auth"])}},{key:"navigateToProfile",value:function(t){this.router.navigate(t?["myprofile",t]:["/home"])}},{key:"CallCommentForm",value:function(){this.CommentForm=this.fb.group({comment:["",Km.required]})}},{key:"onSubmit",value:function(t){var e=this;this.isAuthenticated?this.acrud.CreateComment(t,this.currentUserId,this.post_userid,this.posttitle,this.postdesc).then((function(){e.CommentForm.reset(),setTimeout((function(){window.location.reload()}),900)})):alert("Please Login or create your account to do Comment")}},{key:"OnDelete",value:function(){var t=this;"allpost"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.allPost[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()}))),"public"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.public_post[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()}))),"private"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.private_post[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()})))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe(),this.prSub&&this.private_post&&this.prSub.unsubscribe(),this.puSub&&this.public_post&&this.puSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||CE)(wa(Dg),wa(Hy),wa(Xw),wa(gC),wa(vC),wa(Fb))},CE.\u0275cmp=fe({type:CE,selectors:[["app-upost-detail"]],decls:21,vars:15,consts:[[1,"row"],["class","col-md-3 col-sm-12 post-exist",4,"ngIf"],[1,"container","container-postdetil","col-md-9","col-sm-12"],["class","row",4,"ngIf","ngIfElse"],["class","row ",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","col-md-12 commentsection",4,"ngIf"],["loading",""],["loading2",""],["loading3",""],["loading5",""],["loading7",""],[1,"col-md-3","col-sm-12","post-exist"],[1,"list-group"],["routerLink","/create-post",1,"list-group-item"],[1,"list-group-item",3,"routerLink"],["data-toggle","modal","data-target","#myModal",1,"list-group-item"],[1,"list-group-item",3,"ngClass","routerLink"],["id","myModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-default"],[1,"col-xs-12"],[1,"title"],[1,"avtar"],["alt","",1,"img-responsive","img-circle",3,"src"],[1,"avtar-text"],[1,"author-name",3,"click"],[1,"category"],[1,"date"],[4,"ngIf","ngIfElse"],[1,"stage",3,"click"],[1,"heart",3,"ngClass"],[1,"desc",3,"innerHTML"],["class","img-responsive","alt","img",3,"src",4,"ngIf"],["alt","",1,"img-responsive",3,"hidden","src","load"],["alt","img",1,"img-responsive",3,"src"],["alt","","class","img-responsive",3,"src",4,"ngIf"],["alt","",1,"img-responsive",3,"src"],[1,"col-md-9","col-xs-12"],["alt","","src","https://image.shutterstock.com/image-vector/man-character-face-avatar-glasses-260nw-562077406.jpg ",1,"img-responsive","img-circle"],["alt"," ",1,"img-responsive",3,"hidden","src","load"],[1,"author-name"],["alt","img",1,"img-responsive","post-img",3,"src"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","comment "],["rows","5 ","id","comment ","formControlName","comment",1,"form-control"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary ","type","submit ",1,"btn","btn-primary","submit-button",3,"disabled"],[1,"col-md-12","commentsection"],[4,"ngFor","ngForOf"],[1,"data"],["class","loading-text ",4,"ngIf"],[1,"loading-text"],["class","loading-text",4,"ngIf"]],template:function(t,e){if(1&t&&(Ia(0,"div",0),_a(1,zC,26,9,"div",1),Ia(2,"div",2),_a(3,QC,25,16,"div",3),_a(4,$C,26,15,"div",3),_a(5,tE,22,12,"div",4),_a(6,eE,24,12,"div",4),Tu(7,"async"),_a(8,nE,24,12,"div",4),_a(9,rE,11,2,"div",5),_a(10,oE,3,1,"div",6),Ta(),_a(11,uE,2,2,"ng-template",null,7,Ku),_a(13,hE,2,2,"ng-template",null,8,Ku),_a(15,pE,2,2,"ng-template",null,9,Ku),_a(17,yE,2,2,"ng-template",null,10,Ku),_a(19,bE,2,2,"ng-template",null,11,Ku),Ta()),2&t){var n=ba(12),r=ba(14),i=ba(16),o=ba(18),a=ba(20);gi(1),Ea("ngIf",e.isAuthenticated&&"home"!==e.xyz[1]&&"myprofile"!==e.xyz[1]),gi(2),Ea("ngIf","home"==e.xyz[1]&&e.isUnauth&&e.unauthpost&&!e.isFetching)("ngIfElse",n),gi(1),Ea("ngIf",("publicposts"==e.xyz[3]||"featured"===e.xyz[1])&&e.publicpostOfSingleUser)("ngIfElse",a),gi(1),Ea("ngIf","public"==e.postype&&e.public_post)("ngIfElse",r),gi(1),Ea("ngIf",Au(7,13,"private"==e.postype&&e.acrud.pr))("ngIfElse",i),gi(2),Ea("ngIf","allpost"==e.postype&&!e.isFetching&&e.allPost)("ngIfElse",o),gi(1),Ea("ngIf",e.showComment&&!e.isFetching),gi(1),Ea("ngIf",e.Comment_Data)}},directives:[rh,Gy,Zl,hb,Bm,pb,Nm,qm,Pb,eh,yC],pipes:[dh,ph,VC],styles:[".container-postdetil[_ngcontent-%COMP%]{float:none;margin:0 auto}.post-exist[_ngcontent-%COMP%] + .container-postdetil[_ngcontent-%COMP%]{float:left}.title[_ngcontent-%COMP%]{line-height:48px;font-size:40px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;color:rgba(0,0,0,.84);font-weight:400}.container-main[_ngcontent-%COMP%]{margin:0 auto;max-width:680px;width:100%}.avtar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:75px;height:75px;display:inline-block;float:left}.date[_ngcontent-%COMP%]{float:right;margin-top:10px}.avtar-text[_ngcontent-%COMP%]{margin-top:10px;float:left;padding-left:25px}.author-name[_ngcontent-%COMP%]{margin-top:10px;font-size:20px;margin-bottom:0}.avtar[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-left:12px;color:rgba(0,0,0,.84)}figcaption[_ngcontent-%COMP%]{text-align:center;padding:15px}.desc[_ngcontent-%COMP%]{margin-top:2em;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.heart[_ngcontent-%COMP%]{position:absolute;left:-35px;top:-60px;width:100px;height:68px;background:url(https://cssanimation.rocks/images/posts/steps/heart.png) no-repeat;background-position:0 0;cursor:pointer;transition:background-position 1s steps(28);transition-duration:0s}.heart.is-active[_ngcontent-%COMP%]{transition-duration:1s;background-position:-2800px 0}.stage[_ngcontent-%COMP%]{position:relative}.heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:80px;position:absolute;padding-top:41px}.avtar[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:120px}.post-img[_ngcontent-%COMP%]{margin-top:95px}@media screen and (max-width:767px){.post-exist[_ngcontent-%COMP%] + .container-postdetil[_ngcontent-%COMP%]{float:none}.avtar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{float:left;margin:8px 0 0 15px}.avtar-text[_ngcontent-%COMP%]{margin-top:0;padding-left:15px}.post-img[_ngcontent-%COMP%]{margin-top:115px}.heart[_ngcontent-%COMP%]{top:-37px}[_nghost-%COMP%]  section h2:nth-child(6){font-size:16px}[_nghost-%COMP%]  section a{word-break:break-word;font-size:16px}[_nghost-%COMP%]  section p{font-size:14px}}[_nghost-%COMP%]  p.desc img, [_nghost-%COMP%]  section img{text-align:center;margin-left:auto;margin-right:auto;float:none;display:table;padding-top:20px;padding-bottom:20px;width:100%}.heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0d6fc3;white-space:nowrap;font-weight:700;font-size:16px}.author-name[_ngcontent-%COMP%]:hover{cursor:pointer}div#myModal[_ngcontent-%COMP%]{top:20%}.commentsection[_ngcontent-%COMP%]{padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.commentsection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:inline;color:#000;font-weight:600}.commentsection[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{float:right}.data[_ngcontent-%COMP%]{padding-top:15px}.commentsection[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}.commentsection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:15px;margin-bottom:25px;box-shadow:0 10px 35px rgba(0,0,0,.1)}.row.submit-button-container[_ngcontent-%COMP%]{padding-bottom:25px}.avtar[_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{box-shadow:0 10px 35px rgba(0,0,0,.1)}.category[_ngcontent-%COMP%]{margin:8px 0 0}.category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.avtar[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),CE),SE=((kE=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e,n){return n&&e?t.filter(e,n):e}}],[{key:"filter",value:function(t,e){var n=e.toLowerCase();return t.filter((function(t){return function t(e,r){for(var i in e)if(null!==e[i]&&null!=e[i]){if("object"==typeof e[i]&&t(e[i],r))return!0;if(e[i].toString().toLowerCase().includes(n))return!0}return!1}(t,e)}))}}]),t}()).\u0275fac=function(t){return new(t||kE)},kE.\u0275pipe=_e({name:"filter",type:kE,pure:!1}),kE.\u0275prov=ht({token:kE,factory:kE.\u0275fac}),kE),IE=((wE=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:wE}),wE.\u0275inj=ft({factory:function(t){return new(t||wE)}}),wE),TE=function(t){return["/featured",t]};function AE(t,e){if(1&t&&(Ia(0,"div",20),Ia(1,"a",21),Ia(2,"div",22),Aa(3,"img",23),Ta(),Ia(4,"div",24),Ia(5,"h3",25),as(6),Ta(),Aa(7,"p",26),Tu(8,"noSanitize"),Ia(9,"div",27),Ia(10,"p",28),as(11),Ta(),Ia(12,"p",29),as(13),Tu(14,"date"),Ta(),Ta(),Ia(15,"div",30),Ia(16,"i",31),Ia(17,"span"),as(18),Ta(),Ta(),Ia(19,"i",32),as(20),Ta(),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index,i=Fa(3);gi(1),Ea("routerLink",Cu(13,TE,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),ss(n.title),gi(1),Ea("innerHTML",Au(8,8,n.desc),Xr),gi(4),us("By ",n.name,""),gi(2),us("On ",Pu(14,10,n.created_date,"mediumDate"),""),gi(5),ss(n.likestatus.count),gi(2),ss(i.commenData[r].length)}}function PE(t,e){if(1&t&&(Ia(0,"div"),_a(1,AE,21,15,"div",19),Ta()),2&t){var n=Fa().ngIf;gi(1),Ea("ngForOf",n)}}function xE(t,e){1&t&&(Ia(0,"h4"),as(1,"No Results Found"),Ta())}function OE(t,e){if(1&t&&(kn(),Cn(),Ia(0,"div"),Ia(1,"h3",17),as(2,"Most-liked Posts"),Ta(),_a(3,PE,2,1,"div",10),Ia(4,"div",18),_a(5,xE,2,0,"h4",10),Ta(),Ta()),2&t){var n=e.ngIf,r=Fa();gi(3),Ea("ngIf",!r.isFetching&&(null==n?null:n.length)>0),gi(2),Ea("ngIf",0===n.length)}}var NE=function(t){return[t]};function DE(t,e){if(1&t&&(Ia(0,"div",36),Ia(1,"a",21),Ia(2,"div",37),Aa(3,"img",38),Ta(),Ia(4,"div",39),Ia(5,"h2",25),as(6),Ta(),Aa(7,"p",40),Tu(8,"noSanitize"),Ta(),Ia(9,"div",41),Ia(10,"p",28),as(11),Ta(),Ia(12,"p",29),as(13),Tu(14,"date"),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index;gi(1),Ea("routerLink",Cu(10,NE,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),us(" ",n.title," "),gi(1),Ea("innerHTML",Au(8,6,n.desc),Xr),gi(4),us(" By : ",n.name," "),gi(2),us(" On : ",Au(14,8,n.created_date)," ")}}function RE(t,e){if(1&t&&(Ia(0,"div"),_a(1,DE,15,12,"div",35),Ta()),2&t){var n=Fa().ngIf;gi(1),Ea("ngForOf",n)}}function LE(t,e){1&t&&(Ia(0,"h4"),as(1,"No Results Found"),Ta())}function ME(t,e){if(1&t&&(kn(),Cn(),Ia(0,"div"),Ia(1,"h3",33),as(2,"Latest Posts"),Ta(),_a(3,RE,2,1,"div",10),Ia(4,"div",34),_a(5,LE,2,0,"h4",10),Ta(),Ta()),2&t){var n=e.ngIf,r=Fa();gi(3),Ea("ngIf",!r.isFetching&&(null==n?null:n.length)>0),gi(2),Ea("ngIf",0===n.length)}}function FE(t,e){1&t&&(kn(),Cn(),Ia(0,"div",42),Aa(1,"app-loading-spinner"),Ta())}function UE(t,e){if(1&t&&(kn(),Cn(),Ia(0,"div",43),Ia(1,"h4"),as(2),Ta(),Ta()),2&t){var n=Fa();gi(2),ss(n.error)}}var jE,VE=((jE=function(){function t(e,n,r){_classCallCheck(this,t),this.cd=e,this.acrud=n,this.toastr=r,this.isFetching=!1,this.commenData=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllPost(),this.getFeaturedPost()}},{key:"getAllPost",value:function(){var t=this;this.isFetching=!0,this.acrud.getAllPost().then((function(e){t.isFetching=!1,t.data=e,t.sortDesecending(t.data)}))}},{key:"sortDesecending",value:function(t){this.sorted=t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"onReadMore",value:function(t){}},{key:"getFeaturedPost",value:function(){var t=this;this.acrud.getFeaturedPost().then((function(e){for(var n in t.featuredPost=e,t.featuredPost){var r=t.acrud.seprate(t.featuredPost[n].commentData);t.commenData.push(r)}}),(function(t){console.log(t)}))}},{key:"public_data",value:function(){var t=this;this.isFetching=!0,this.cd.get_public_post().subscribe((function(e){t.data=e.map((function(t){return Object.assign({},t.payload.doc.data())})),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e})),ev((function(t){throw new Error("Error: Getting document:"+t)}))}}]),t}()).\u0275fac=function(t){return new(t||jE)(wa(Xw),wa(gC),wa(hC))},jE.\u0275cmp=fe({type:jE,selectors:[["app-home"]],decls:25,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-md-5","col-xs-12","col-md-push-7"],[1,"search-hero","search-input-wrapper","fadeInUp","hidden-md","hidden-lg"],["for","search"],["type","text","name","search","id","search","autocomplete","off","placeholder","   Search by Title or Author name",1,"form-control",3,"ngModel","ngModelChange"],[1,"search-button"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[4,"ngIf"],[1,"col-md-6","col-sm-12","col-xs-12","col-md-pull-5"],[1,"search-hero","search-input-wrapper","fadeInUp","hidden-xs","hidden-sm"],["for","search1"],["type","text","id","search1","name","search1","autocomplete","off","placeholder","   Search by Title or Author name",1,"form-control",3,"ngModel","ngModelChange"],["class","loading-text",4,"ngIf"],["class","error-text",4,"ngIf"],[1,"Featured"],[1,"text-left","no-result"],["class","card row card-featured",4,"ngFor","ngForOf"],[1,"card","row","card-featured"],[3,"routerLink"],[1,"img","img-col"],["alt","",1,"img-responsive",2,"width","100%",3,"src"],[1,"title","main-content"],[1,"title"],[3,"innerHTML"],[1,"author-date"],[1,"author-name"],[1,"date"],[1,"likecomment"],[1,"fa","fa-heart",2,"font-size","21px"],[1,"fa","fa-comment-o",2,"font-size","21px"],[1,"Featured","hidden-md","hidden-lg"],[1,"loading-text","text-left","no-result"],["class","card row",4,"ngFor","ngForOf"],[1,"card","row"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ","alt","img",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"loading-text"],[1,"error-text"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Aa(4,"label",4),Ia(5,"input",5),Ra("ngModelChange",(function(t){return e.searchText=t})),Ta(),Ia(6,"div",6),kn(),Ia(7,"svg",7),Aa(8,"circle",8),Aa(9,"line",9),Ta(),Ta(),Ta(),_a(10,OE,6,2,"div",10),Tu(11,"filter"),Ta(),Cn(),Ia(12,"div",11),Ia(13,"div",12),Aa(14,"label",13),Ia(15,"input",14),Ra("ngModelChange",(function(t){return e.searchText=t})),Ta(),Ia(16,"div",6),kn(),Ia(17,"svg",7),Aa(18,"circle",8),Aa(19,"line",9),Ta(),Ta(),Ta(),_a(20,ME,6,2,"div",10),Tu(21,"filter"),Ta(),_a(22,FE,2,0,"div",15),_a(23,UE,3,1,"div",16),Ta(),Ta(),Cn(),Aa(24,"router-outlet")),2&t&&(gi(5),Ea("ngModel",e.searchText),gi(5),Ea("ngIf",Pu(11,6,e.featuredPost,e.searchText)),gi(5),Ea("ngModel",e.searchText),gi(5),Ea("ngIf",Pu(21,9,e.sorted,e.searchText)),gi(2),Ea("ngIf",e.isFetching&&!e.error),gi(1),Ea("ngIf",e.error&&!e.isFetching))},directives:[Nm,qm,lb,rh,tm,eh,Gy,yC],pipes:[SE,VC,ph],styles:[".card.row[_ngcontent-%COMP%]{border-radius:6px;min-height:180px;position:relative}.col-md-8.col-xs-7.main-content[_ngcontent-%COMP%]{position:unset}.main-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0}.author-date[_ngcontent-%COMP%]{margin-top:10px}.author-date[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:grey;margin:0}.author-date.col-md-6.col-xs-12[_ngcontent-%COMP%]{position:absolute;bottom:0;padding-bottom:5px}.card.row[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000}.img-col[_ngcontent-%COMP%]{padding:0}.img-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:180px}h3.title[_ngcontent-%COMP%]{margin-top:7px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:24px;line-height:1.3}@media screen and (max-width:767px){.card.row[_ngcontent-%COMP%], .img-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:158px}h3.title[_ngcontent-%COMP%]{font-size:18px}.col-md-7.col-sm-12.col-xs-12[_ngcontent-%COMP%]{padding:0}}.loading-text[_ngcontent-%COMP%]{text-align:center;margin:0 auto}.search-hero[_ngcontent-%COMP%]{max-width:500px;padding-bottom:50px;margin:auto}.search-hero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-moz-box-shadow:0 10px 35px rgba(0,0,0,.1);-webkit-appearance:none!important;-webkit-box-shadow:0 10px 35px rgba(0,0,0,.1);background:#fff;border:0;border-radius:5px;box-shadow:0 10px 35px rgba(0,0,0,.1);color:#6c757d;height:6rem;outline:none;font-size:16px;font-weight:500;padding:1rem 1rem 1rem 5rem;width:calc(100% - 4rem);line-height:normal}.form-control[_ngcontent-%COMP%]{box-shadow:0 10px 40px 0 #b0c1d9}.search-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgba(108,117,125,.6);margin-left:15px;position:absolute;top:4rem;transition:all .2s ease-in-out}.fadeInUp[_ngcontent-%COMP%]{-webkit-animation-duration:.45s;animation-duration:.45s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeInUp;animation-name:fadeInUp}a[_ngcontent-%COMP%], div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.no-result[_ngcontent-%COMP%]{padding-top:45px}@media screen and (max-width:767px){.no-result[_ngcontent-%COMP%]{text-align:center;padding-top:15px}.col-md-5.col-xs-12.col-md-push-7[_ngcontent-%COMP%], .col-md-6.col-sm-12.col-xs-12.col-md-pull-5[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.search-hero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-left:4rem}input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:14px}.search-hero.search-input-wrapper.fadeInUp.hidden-md.hidden-lg[_ngcontent-%COMP%]{padding-bottom:25px}}.card-featured[_ngcontent-%COMP%]{position:relative;padding-bottom:15px}.card-featured[_ngcontent-%COMP%]   .title.main-content[_ngcontent-%COMP%]{padding-left:15px}.card-featured[_ngcontent-%COMP%]   .author-date[_ngcontent-%COMP%]{position:relative}.likecomment[_ngcontent-%COMP%]{float:right;position:absolute;right:0;bottom:13px}.likecomment[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{padding-right:25px}.fa.fa-heart[_ngcontent-%COMP%]{color:red}.fa.fa-heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.Featured[_ngcontent-%COMP%]{padding-bottom:10px}input[_ngcontent-%COMP%]::-webkit-input-placeholder{text-align:left;text-indent:-10px}@media (min-width:992px){.col-md-pull-5[_ngcontent-%COMP%]{right:39.666667%}}a[_ngcontent-%COMP%]:hover{text-decoration:none}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){h2.title[_ngcontent-%COMP%]{padding-top:7px}.author-date.col-md-6.col-xs-12[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),jE);function qE(t,e){if(1&t&&(Ia(0,"div",5),Ia(1,"p"),as(2),Ta(),Ta()),2&t){var n=Fa();gi(2),ss(n.error)}}function BE(t,e){1&t&&(Ia(0,"div",6),Aa(1,"app-loading-spinner"),Ta())}var HE=function(){return["/reset-password"]};function zE(t,e){if(1&t){var n=Oa();Ia(0,"form",7,8),Ra("ngSubmit",(function(){Ye(n);var t=ba(1);return Fa().onSubmit(t)})),Ia(2,"div",9),Ia(3,"label",10),as(4,"E-Mail"),Ta(),Aa(5,"input",11),Ta(),Ia(6,"div",9),Ia(7,"label",12),as(8,"Password"),Ta(),Aa(9,"input",13),Ta(),Ia(10,"div",9),Ia(11,"button",14),as(12),Ta(),as(13," | "),Ia(14,"button",15),Ra("click",(function(){return Ye(n),Fa().onSwitchMode()})),as(15),Ta(),Ia(16,"a",16),as(17,"Forget Password"),Ta(),Ta(),Ia(18,"div",9),Ia(19,"button",17),Ra("click",(function(){return Ye(n),Fa().tryGoogleLogin()})),Aa(20,"i",18),as(21," Login with Google "),Ta(),Ta(),Ta()}if(2&t){var r=ba(1),i=Fa();gi(11),Ea("disabled",!r.valid),gi(1),us(" ",i.isLoginMode?"Login":"Sign Up"," "),gi(3),us(" Switch to ",i.isLoginMode?"Sign Up":"Login"," "),gi(1),Ea("routerLink",ku(4,HE))}}var GE,WE=((GE=function(){function t(e,n,r){_classCallCheck(this,t),this.authService=e,this.acrud=n,this.router=r,this.isLoginMode=!0,this.isLoading=!1,this.error=null,this.isPorfileset=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSwitchMode",value:function(){this.isLoginMode=!this.isLoginMode}},{key:"onSubmit",value:function(t){var e=this;if(t.valid){var n=t.value.email,r=t.value.password;this.isLoading=!0,this.isLoginMode?this.authService.SignIn(n,r).then((function(t){e.isLoading=!1,e.authService.LoginData.subscribe((function(t){t.user.emailVerified&&e.getProfileByUid(t.user.uid)}))})).catch((function(t){e.isLoading=!1,e.error=t.message})):this.authService.SignUp(n,r).then((function(t){e.isLoading=!1,e.authService.logout()})).catch((function(t){e.authService.logout(),e.isLoading=!1,e.error=t})),t.reset()}}},{key:"tryGoogleLogin",value:function(){var t=this;this.isLoading=!0,this.authService.doGoogleLogin().then((function(e){t.isLoading=!1,t.getProfileByUid(e.uid)}))}},{key:"getProfileByUid",value:function(t){var e=this;this.acrud.getProfileFromUid(t).subscribe((function(t){var n=e.acrud.seprate(t);e.isPorfileset=n[0],e.isLoading=!1,e.router.navigate(e.isPorfileset?[""]:["myprofile"])}))}}]),t}()).\u0275fac=function(t){return new(t||GE)(wa(vC),wa(gC),wa(Hy))},GE.\u0275cmp=fe({type:GE,selectors:[["app-auth-component"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-link",3,"routerLink"],["type","button",1,"btn","btn-block",3,"click"],["aria-hidden","true",1,"fa","fa-google"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),_a(2,qE,3,1,"div",2),_a(3,BE,2,0,"div",3),_a(4,zE,22,5,"form",4),Ta(),Ta()),2&t&&(gi(2),Ea("ngIf",e.error),gi(1),Ea("ngIf",e.isLoading),gi(1),Ea("ngIf",!e.isLoading))},directives:[rh,yC,hb,Bm,nb,Nm,qm,lb,Ob,Db,Lb,Gy],styles:[".btn-link[_ngcontent-%COMP%]{float:right}"]}),GE),KE=function(t){return[t]};function QE(t,e){if(1&t&&(Ia(0,"div",12),Ia(1,"a",13),Ia(2,"div",14),Aa(3,"img",15),Ta(),Ia(4,"div",16),Ia(5,"h2",17),as(6),Ta(),Aa(7,"p",18),Tu(8,"noSanitize"),Ta(),Ia(9,"div",19),Ia(10,"p",20),as(11),Ta(),Ia(12,"p",21),as(13),Tu(14,"date"),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index;gi(1),Ea("routerLink",Cu(10,KE,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),us(" ",n.title," "),gi(1),Ea("innerHTML",Au(8,6,n.desc),Xr),gi(4),us(" By : ",n.name," "),gi(2),us(" On : ",Au(14,8,n.created_date)," ")}}function XE(t,e){if(1&t&&(Ia(0,"div"),_a(1,QE,15,12,"div",11),Ta()),2&t){var n=Fa();gi(1),Ea("ngForOf",n.allpost)}}function YE(t,e){if(1&t&&(Ia(0,"div",12),Ia(1,"a",13),Ia(2,"div",14),Aa(3,"img",15),Ta(),Ia(4,"div",16),Ia(5,"h2",17),as(6),Ta(),Aa(7,"p",18),Tu(8,"noSanitize"),Ta(),Ia(9,"div",19),Ia(10,"p",20),as(11),Ta(),Ia(12,"p",21),as(13),Tu(14,"date"),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index;gi(1),Ea("routerLink",Cu(10,KE,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),us(" ",n.title," "),gi(1),Ea("innerHTML",Au(8,6,n.desc),Xr),gi(4),us(" By : ",n.name," "),gi(2),us(" On : ",Au(14,8,n.created_date)," ")}}function $E(t,e){if(1&t&&(Ia(0,"div",22),_a(1,YE,15,12,"div",11),Ta()),2&t){var n=Fa();gi(1),Ea("ngForOf",n.public_post)}}function JE(t,e){if(1&t&&(Ia(0,"div",12),Ia(1,"a",13),Ia(2,"div",14),Aa(3,"img",15),Ta(),Ia(4,"div",16),Ia(5,"h2",17),as(6),Ta(),Aa(7,"p",18),Tu(8,"noSanitize"),Ta(),Ia(9,"div",19),Ia(10,"p",20),as(11),Ta(),Ia(12,"p",21),as(13),Tu(14,"date"),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index;gi(1),Ea("routerLink",Cu(10,KE,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),us(" ",n.title," "),gi(1),Ea("innerHTML",Au(8,6,n.desc),Xr),gi(4),us(" By : ",n.name," "),gi(2),us(" On : ",Au(14,8,n.created_date)," ")}}function ZE(t,e){if(1&t&&(Ia(0,"div",22),_a(1,JE,15,12,"div",11),Ta()),2&t){var n=Fa();gi(1),Ea("ngForOf",n.private_post)}}function tS(t,e){1&t&&(Ia(0,"div",25),Aa(1,"app-loading-spinner"),Ta())}function eS(t,e){1&t&&(Ia(0,"div",26),Ia(1,"h3"),as(2,"No Post Found"),Ta(),Ta())}function nS(t,e){if(1&t&&(_a(0,tS,2,0,"div",23),_a(1,eS,3,0,"div",24)),2&t){var n=Fa();Ea("ngIf",n.isAll&&n.isFetching),gi(1),Ea("ngIf",n.isAll&&!n.isFetching)}}function rS(t,e){1&t&&(Ia(0,"div",25),Aa(1,"app-loading-spinner"),Ta())}function iS(t,e){1&t&&(Ia(0,"div",26),Ia(1,"h3"),as(2,"No Public Post Found"),Ta(),Ta())}function oS(t,e){if(1&t&&(_a(0,rS,2,0,"div",23),_a(1,iS,3,0,"div",24)),2&t){var n=Fa();Ea("ngIf",n.isPublic&&n.isFetching),gi(1),Ea("ngIf",n.isPublic&&!n.isFetching)}}function aS(t,e){1&t&&(Ia(0,"div",25),Aa(1,"app-loading-spinner"),Ta())}function sS(t,e){1&t&&(Ia(0,"div",26),Ia(1,"h3"),as(2,"No Private Post Found"),Ta(),Ta())}function uS(t,e){if(1&t&&(_a(0,aS,2,0,"div",23),_a(1,sS,3,0,"div",24)),2&t){var n=Fa();Ea("ngIf",n.isPrivate&&n.isFetching),gi(1),Ea("ngIf",n.isPrivate&&!n.isFetching)}}var cS,lS=function(t){return{active:t}},hS=function(t){return["/myposts",t]},fS=((cS=function(){function t(e,n,r,i){_classCallCheck(this,t),this.acrud=e,this.router=n,this.route=r,this.authservice=i,this.selectedIndex=0,this.type=["allpost","public","private"],this.isLoading$=new Op(!1),this.public_post=null,this.isFetching=!0,this.isAll=!1,this.isPublic=!1,this.isPrivate=!1,this.count_all=0,this.count_pr=0,this.count_pb=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.href=this.router.url,this.url=this.href.split("/"),this.url=this.url[2],this.acrud.getDemo1(),this.acrud.getDemo2(),this.route.params.subscribe((function(e){t.url=e.type,"allpost"!==t.url&&"public"!==t.url&&"private"!==t.url&&t.router.navigate(["home"]),"allpost"===t.url&&t.getAllPosts(),"public"===t.url&&t.getPublicPosts(),"private"===t.url&&t.getPriavtePosts()}))}},{key:"getAllPosts",value:function(){var t=this;this.isLoading$.next(!0),this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n);t.allpost=r.concat(i),t.sortDesecendingByDate(t.allpost),t.count_all=t.allpost.length,t.isLoading$.next(!1),t.isFetching=!1}),(function(e){t.error=e}))}},{key:"getPublicPosts",value:function(){var t=this;this.isLoading$.next(!0),this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.isFetching=!0,this.puSub=this.acrud.pu.subscribe((function(e){t.public_post=e,t.public_post&&t.sortDesecendingByDate(t.public_post),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}),(function(){t.isFetching=!1}))}},{key:"getPriavtePosts",value:function(){var t=this;this.isAll=!1,this.isPublic=!1,this.isPrivate=!0,this.isFetching=!0,this.prSub=this.acrud.pr.subscribe((function(e){t.private_post=e,t.count_pr=t.private_post.length,t.isFetching=!1}),(function(e){t.error=e,t.isFetching=!1}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"ngOnDestroy",value:function(){this.puSub&&this.public_post&&this.puSub.unsubscribe(),this.prSub&&this.private_post&&this.prSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||cS)(wa(gC),wa(Hy),wa(Dg),wa(vC))},cS.\u0275cmp=fe({type:cS,selectors:[["app-user-post"]],decls:20,vars:24,consts:[[1,"row"],[1,"col-md-3","col-sm-12"],[1,"list-group"],[1,"list-group-item",3,"ngClass","routerLink","click"],[1,"col-md-7","col-sm-12","col-xs-12","post-cards"],[4,"ngIf","ngIfElse"],["class","col-md-7 col-sm-12 col-xs-12",4,"ngIf","ngIfElse"],["loading",""],["loading2",""],["loading3",""],[1,"col-sm-4","col-xs-12"],["class","card row",4,"ngFor","ngForOf"],[1,"card","row"],[3,"routerLink"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ","alt","img",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"title"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"author-name"],[1,"date"],[1,"col-md-7","col-sm-12","col-xs-12"],["class","loading-text",4,"ngIf"],["class","no-text",4,"ngIf"],[1,"loading-text"],[1,"no-text"]],template:function(t,e){if(1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"a",3),Ra("click",(function(){return e.getAllPosts()})),as(4,"All Posts "),Ta(),Ia(5,"a",3),Ra("click",(function(){return e.getPublicPosts()})),as(6,"Public Posts"),Ta(),Ia(7,"a",3),Ra("click",(function(){return e.getPriavtePosts()})),as(8,"Private Posts"),Ta(),Ta(),Ta(),Ia(9,"div",4),_a(10,XE,2,1,"div",5),Ta(),_a(11,$E,2,1,"div",6),_a(12,ZE,2,1,"div",6),_a(13,nS,2,2,"ng-template",null,7,Ku),_a(15,oS,2,2,"ng-template",null,8,Ku),_a(17,uS,2,2,"ng-template",null,9,Ku),Aa(19,"div",10),Ta()),2&t){var n=ba(14),r=ba(16),i=ba(18);gi(3),Ea("ngClass",Cu(12,lS,1==e.isAll))("routerLink",Cu(14,hS,e.type[0])),gi(2),Ea("ngClass",Cu(16,lS,1==e.isPublic))("routerLink",Cu(18,hS,e.type[1])),gi(2),Ea("ngClass",Cu(20,lS,1==e.isPrivate))("routerLink",Cu(22,hS,e.type[2])),gi(3),Ea("ngIf",e.isAll&&(null==e.allpost?null:e.allpost.length)>0)("ngIfElse",n),gi(1),Ea("ngIf",e.isPublic&&(null==e.public_post?null:e.public_post.length)>0)("ngIfElse",r),gi(1),Ea("ngIf",e.isPrivate&&e.private_post.length>0)("ngIfElse",i)}},directives:[Gy,Zl,rh,eh,yC],pipes:[VC,ph],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;opacity:.9}h2.title[_ngcontent-%COMP%]{color:#000}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){h2.title[_ngcontent-%COMP%]{padding-top:7px}.author-date[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),cS);function dS(t,e){if(1&t&&(Ia(0,"div",27),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function pS(t,e){if(1&t&&(Pa(0),_a(1,dS,2,1,"div",26),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function vS(t,e){if(1&t&&(Ia(0,"div",27),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function gS(t,e){if(1&t&&(Pa(0),_a(1,vS,2,1,"div",26),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("desc").hasError(n.type)&&(r.exampleForm.get("desc").dirty||r.exampleForm.get("desc").touched))}}function yS(t,e){if(1&t&&(Ia(0,"option"),as(1),Ta()),2&t){var n=e.$implicit;gi(1),us("",n," ")}}function mS(t,e){if(1&t&&(Ia(0,"div",27),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function _S(t,e){if(1&t&&(Pa(0),_a(1,mS,2,1,"div",26),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("category").hasError(n.type)&&(r.exampleForm.get("category").dirty||r.exampleForm.get("category").touched))}}function bS(t,e){1&t&&(Ia(0,"div",11),Aa(1,"input",28),Ta())}function wS(t,e){if(1&t&&(Ia(0,"div",27),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function kS(t,e){if(1&t&&(Pa(0),_a(1,wS,2,1,"div",26),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("name").hasError(n.type)&&(r.exampleForm.get("name").dirty||r.exampleForm.get("name").touched))}}function CS(t,e){if(1&t&&(Ia(0,"div",27),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function ES(t,e){if(1&t&&(Pa(0),_a(1,CS,2,1,"div",26),xa()),2&t){var n=e.$implicit,r=Fa(2);gi(1),Ea("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function SS(t,e){if(1&t){var n=Oa();Ia(0,"div"),Ia(1,"form",3),Ra("ngSubmit",(function(){Ye(n);var t=Fa();return t.onSubmit(t.exampleForm.value)})),Ia(2,"div",4),Ia(3,"input",5),Ra("change",(function(t){return Ye(n),Fa().detectFiles(t)})),Ta(),Aa(4,"img",6),Ia(5,"div"),as(6),Tu(7,"async"),Ta(),Ia(8,"a",7),as(9,"your url is View your Image here"),Ta(),Ta(),Aa(10,"br"),Ia(11,"div",8),Ia(12,"div",9),Ia(13,"label",10),as(14,"Title:"),Ta(),Ia(15,"div",11),Aa(16,"input",12),Ta(),_a(17,pS,2,1,"ng-container",13),Ta(),Ia(18,"div",9),Ia(19,"label",10),as(20,"Description:"),Ta(),Aa(21,"textarea",14),_a(22,gS,2,1,"ng-container",13),Ta(),Ia(23,"div",9),Ia(24,"label",15),as(25,"Category list:"),Ta(),Ia(26,"select",16,17),Ra("change",(function(){Ye(n);var t=ba(27);return Fa().onChange(t.value)})),_a(28,yS,2,1,"option",13),Ta(),_a(29,_S,2,1,"ng-container",13),Ta(),Ia(30,"div",9),_a(31,bS,2,0,"div",18),Ta(),Ia(32,"div",9),Ia(33,"label",10),as(34,"Name:"),Ta(),Ia(35,"div",11),Aa(36,"input",19),Ta(),_a(37,kS,2,1,"ng-container",13),Ta(),Ia(38,"div",9),Ia(39,"label",10),as(40,"Keep your post Public:"),Ta(),Ia(41,"div",11),Ia(42,"label",20),Aa(43,"input",21),as(44," Yes keep my post Public "),Ta(),Aa(45,"br"),Ia(46,"label",20),Aa(47,"input",22),as(48," No keep it private "),Ta(),Ta(),_a(49,ES,2,1,"ng-container",13),Ta(),Ia(50,"div",23),Ia(51,"div",24),Ia(52,"button",25),as(53,"Create"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=Fa();gi(1),Ea("formGroup",r.exampleForm),gi(3),Ea("src",r.imageSrc||"http://placehold.it/180",Yr),gi(2),ss(Au(7,12,r.uploadPercent)),gi(2),Ua("href",r.downloadURL,Yr),gi(9),Ea("ngForOf",r.validation_messages.title),gi(5),Ea("ngForOf",r.validation_messages.desc),gi(6),Ea("ngForOf",r.values),gi(1),Ea("ngForOf",r.validation_messages.category),gi(2),Ea("ngIf","Other"==r.selected),gi(6),Ea("ngForOf",r.validation_messages.name),gi(12),Ea("ngForOf",r.validation_messages.title),gi(3),Ea("disabled",!r.exampleForm.valid)}}function IS(t,e){1&t&&(Ia(0,"div",30),Aa(1,"app-loading-spinner"),Ta())}function TS(t,e){if(1&t&&(Ia(0,"div",30),Ia(1,"p"),as(2),Ta(),Ta()),2&t){var n=Fa(2);gi(2),us(" ",n.error,"")}}function AS(t,e){if(1&t&&(_a(0,IS,2,0,"div",29),_a(1,TS,3,1,"div",29)),2&t){var n=Fa();Ea("ngIf",n.isFetching&&!n.error),gi(1),Ea("ngIf",n.error)}}var PS,xS=((PS=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.route=e,this.router=n,this.acrud=r,this.fb=i,this.firebaseService=o,this.values=["Happy","Sad","Success","Failure","Hurt","Other"],this.selected="Happy",this.isloggedin=!1,this.validation_messages={title:[{type:"required",message:"Title is required."}],desc:[{type:"required",message:"Description is required."}],category:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]}}return _createClass(t,[{key:"onChange",value:function(t){this.selected=t}},{key:"ngOnInit",value:function(){var t=this;this.acrud.getDemo1(),this.acrud.getDemo2(),this.acrud.getAllData(),this.route.params.subscribe((function(e){t.id=+e.id,t.posttype=e.type})),"allpost"===this.posttype&&this.getAllPosts(),"public"===this.posttype&&this.getPublicPosts(),"private"===this.posttype&&this.getPriavtePosts(),this.EditForm()}},{key:"getAllPosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n);t.d4=r.concat(i),t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"setFormValue",value:function(t){this.imageSrc=t.imgurl,this.downloadURL=t.imgurl,this.exampleForm.patchValue({title:t.title,desc:t.desc,category:t.category,name:t.name,privacy:t.privacy})}},{key:"getPublicPosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.acrud.getPublicPost().subscribe((function(e){var n=t.acrud.seprate(e);t.d4=n,t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"getPriavtePosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!1,this.isPublic=!1,this.isPrivate=!0,this.acrud.getPrivatePost().subscribe((function(e){var n=t.acrud.seprate(e);t.d4=n,t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"detectFiles",value:function(t){var e=this;if(this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.downloadURL=t}),(function(t){console.log(t.message)}))}},{key:"EditForm",value:function(){this.exampleForm=this.fb.group({imgurl:[""],title:["",Km.required],desc:["",[Km.required,Km.minLength(50)]],category:[this.selected,Km.required],subcategory:["  ",Km.required],name:["",Km.required],privacy:["true"]})}},{key:"onSubmit",value:function(t){"allpost"===this.posttype&&t.privacy&&this.getAllPosts(),"public"===this.posttype&&this.getPublicPosts(),"private"===this.posttype&&this.getPriavtePosts(),this.acrud.passParams(this.posttype,this.id),this.acrud.update(this.id,this.d4[this.id],t,this.downloadURL)}}]),t}()).\u0275fac=function(t){return new(t||PS)(wa(Dg),wa(Hy),wa(gC),wa(Fb),wa(Xw))},PS.\u0275cmp=fe({type:PS,selectors:[["app-user-edit"]],decls:4,vars:2,consts:[[1,"col-md-10","col-sm-12","col-xs-12","center-block"],[4,"ngIf","ngIfElse"],["loading",""],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[3,"href"],[1,"col-md-8","col-sm-9","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["rows","5","id","comment","formControlName","desc",1,"form-control"],["for","sel1"],["formControlName","category",1,"form-control",3,"change"],["t",""],["class","input-style",4,"ngIf"],["placeholder","Name","formControlName","name",1,"form-control"],[1,"md-check"],["type","radio","value","true","name","privacy","formControlName","privacy","checked","true"],["type","radio","value","false","name","privacy","formControlName","privacy"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"],["placeholder","Other category","formControlName","subcategory",1,"form-control"],["class","loading-text",4,"ngIf"],[1,"loading-text"]],template:function(t,e){if(1&t&&(Ia(0,"div",0),_a(1,SS,54,14,"div",1),_a(2,AS,2,2,"ng-template",null,2,Ku),Ta()),2&t){var n=ba(3);gi(1),Ea("ngIf",!e.isFetching&&e.d4)("ngIfElse",n)}},directives:[rh,hb,Bm,pb,Nm,qm,Pb,eh,m_,s_,__,S_,yC],pipes:[dh],styles:["input[type=file][_ngcontent-%COMP%]{width:200px}.col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]{margin-bottom:25px}.center-block[_ngcontent-%COMP%]{float:none}"]}),PS);function OS(t,e){if(1&t&&(Ia(0,"div",21),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function NS(t,e){if(1&t&&(Pa(0),_a(1,OS,2,1,"div",20),xa()),2&t){var n=e.$implicit,r=Fa();gi(1),Ea("ngIf",r.ProfileForm.get("uname").hasError(n.type)&&(r.ProfileForm.get("uname").dirty||r.ProfileForm.get("uname").touched))}}function DS(t,e){if(1&t&&(Ia(0,"div",21),as(1),Ta()),2&t){var n=Fa(2);gi(1),us(" ",n.erroUsername,"")}}function RS(t,e){if(1&t&&(Pa(0),_a(1,DS,2,1,"div",20),xa()),2&t){var n=Fa();gi(1),Ea("ngIf",n.ProfileForm.get("uname")&&(n.ProfileForm.get("uname").dirty||n.ProfileForm.get("uname").touched))}}function LS(t,e){if(1&t&&(Ia(0,"div",21),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function MS(t,e){if(1&t&&(Pa(0),_a(1,LS,2,1,"div",20),xa()),2&t){var n=e.$implicit,r=Fa();gi(1),Ea("ngIf",r.ProfileForm.get("email").hasError(n.type)&&(r.ProfileForm.get("email").dirty||r.ProfileForm.get("email").touched))}}function FS(t,e){if(1&t&&(Ia(0,"div",21),as(1),Ta()),2&t){var n=Fa().$implicit;gi(1),us(" ",n.message,"")}}function US(t,e){if(1&t&&(Pa(0),_a(1,FS,2,1,"div",20),xa()),2&t){var n=e.$implicit,r=Fa();gi(1),Ea("ngIf",r.ProfileForm.get("name").hasError(n.type)&&(r.ProfileForm.get("name").dirty||r.ProfileForm.get("name").touched))}}var jS,VS=((jS=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.router=e,this.route=n,this.firebaseService=r,this.fb=i,this.authService=o,this.acrud=a,this.validation_messages={uname:[{type:"required",message:"Title is required."}],email:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]}}return _createClass(t,[{key:"detectFiles",value:function(t){var e=this;if(this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.downloadURL=t}),(function(t){console.log(t.message)}))}},{key:"ngOnInit",value:function(){var t=this;this.authService.user.subscribe((function(e){e.email&&(t.email=e.email)})),this.href=this.router.url,this.x=this.href.split("/"),this.usernamParam=this.x[2],this.x[2]&&"editProfile"==this.x[3]&&this.getProfileData(),this.CreateProfile(),null==this.x[2]&&this.checkProfileExist()}},{key:"checkProfileExist",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.profileReturned=n[0],t.profileReturned&&t.router.navigate(["myprofile",t.profileReturned.uname])}))}},{key:"getProfileData",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.profileReturned=n[0],t.profileReturned.uname.trim(),t.SetProfileForm(n[0])}))}},{key:"SetProfileForm",value:function(t){this.imageSrc=t.imgurl,this.downloadURL=t.imgurl,this.ProfileForm.patchValue({uname:t.uname,desc:t.desc,name:t.name,email:this.email})}},{key:"CreateProfile",value:function(){this.ProfileForm=this.fb.group({imgurl:["",Km.required],email:[this.email,Km.required],desc:[""],name:["",Km.required],uname:["",Km.required]})}},{key:"validateUsername",value:function(){var t=this;(this.profileReturned?this.profileReturned.uname:"")!==this.username&&this.acrud.getPublicProfile(this.username).subscribe((function(e){t.erroUsername=null!==e?"Username Already taken":null}))}},{key:"clearError",value:function(){this.erroUsername=""}},{key:"checkUsername",value:function(t){this.username=t,this.validateUsername()}},{key:"onSubmit",value:function(t){this.x[2]&&"editProfile"==this.x[3]?(this.acrud.UpdateProfile(t,this.profileReturned,this.downloadURL),this.ProfileForm.reset()):(this.acrud.createProfile(t),this.ProfileForm.reset(),this.redirectTo(""))}},{key:"redirectTo",value:function(t){var e=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){return e.router.navigate([t])})),setTimeout((function(){window.location.href=""}),1e3)}}]),t}()).\u0275fac=function(t){return new(t||jS)(wa(Hy),wa(Dg),wa(Xw),wa(Fb),wa(vC),wa(gC))},jS.\u0275cmp=fe({type:jS,selectors:[["app-profile"]],decls:40,vars:11,consts:[[1,"container"],[1,"col-md-12","col-sm-9","col-xs-12"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["alt","","id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[3,"href"],[1,"col-md-8","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","User Name","formControlName","uname",1,"form-control",3,"focus","blur"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","User Name","formControlName","email",1,"form-control"],["placeholder","Name","formControlName","name",1,"form-control"],["rows","5","id","comment","formControlName","desc",1,"form-control"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"form",2),Ra("ngSubmit",(function(){return e.onSubmit(e.ProfileForm.value)})),Ia(3,"div",3),Ia(4,"input",4),Ra("change",(function(t){return e.detectFiles(t)})),Ta(),Aa(5,"img",5),Ia(6,"div"),as(7),Tu(8,"async"),Ta(),Ia(9,"a",6),as(10," Click Here To View Your Image"),Ta(),Ta(),Aa(11,"br"),Ia(12,"div",7),Ia(13,"div",8),Ia(14,"label",9),as(15,"Username:"),Ta(),Ia(16,"div",10),Ia(17,"input",11),Ra("focus",(function(){return e.clearError()}))("blur",(function(t){return e.checkUsername(t.target.value)})),Ta(),Ta(),_a(18,NS,2,1,"ng-container",12),_a(19,RS,2,1,"ng-container",13),Ta(),Ia(20,"div",8),Ia(21,"label",9),as(22,"Email:"),Ta(),Ia(23,"div",10),Aa(24,"input",14),Ta(),_a(25,MS,2,1,"ng-container",12),Ta(),Ia(26,"div",8),Ia(27,"label",9),as(28,"Name:"),Ta(),Ia(29,"div",10),Aa(30,"input",15),Ta(),_a(31,US,2,1,"ng-container",12),Ta(),Ia(32,"div",8),Ia(33,"label",9),as(34,"Description:"),Ta(),Aa(35,"textarea",16),Ta(),Ia(36,"div",17),Ia(37,"div",18),Ia(38,"button",19),as(39,"Submit"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(gi(2),Ea("formGroup",e.ProfileForm),gi(3),Ea("src",e.imageSrc||"http://placehold.it/180",Yr),gi(2),ss(Au(8,9,e.uploadPercent)),gi(2),Ua("href",e.downloadURL,Yr),gi(9),Ea("ngForOf",e.validation_messages.uname),gi(1),Ea("ngIf",e.erroUsername&&!e.oldusername),gi(6),Ea("ngForOf",e.validation_messages.email),gi(6),Ea("ngForOf",e.validation_messages.name),gi(7),Ea("disabled",!e.ProfileForm.valid||e.erroUsername))},directives:[hb,Bm,pb,Nm,qm,Pb,eh,rh],pipes:[dh],styles:[".col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}.help-block[_ngcontent-%COMP%]{color:red}"]}),jS),qS=function(t){return["/myprofile",t]},BS=function(t){return["/myprofile",t,"editProfile"]},HS=function(){return["/myposts","public"]},zS=function(){return["/myposts","private"]},GS=function(){return["/myposts"]};function WS(t,e){if(1&t&&(Ia(0,"div",7),Ia(1,"div",8),Ia(2,"a",9),as(3,"Profile"),Ta(),Ia(4,"a",10),as(5,"Edit Profile"),Ta(),Ia(6,"a",10),as(7,"Public Posts "),Ia(8,"span",11),as(9),Ta(),Ta(),Ia(10,"a",10),as(11,"Private Posts "),Ia(12,"span",11),as(13),Ta(),Ta(),Ia(14,"a",10),as(15,"All Posts "),Ia(16,"span",11),as(17),Ta(),Ta(),Ta(),Ta()),2&t){var n=Fa(2);gi(2),Ea("routerLink",Cu(8,qS,n.unameParam)),gi(2),Ea("routerLink",Cu(10,BS,n.username)),gi(2),Ea("routerLink",ku(12,HS)),gi(3),us(" (",n.pbcount,")"),gi(1),Ea("routerLink",ku(13,zS)),gi(3),us(" (",n.prcount,")"),gi(1),Ea("routerLink",ku(14,GS)),gi(3),us(" (",n.allcount,")")}}var KS=function(){return["publicposts"]},QS=function(){return[""]};function XS(t,e){if(1&t&&(Ia(0,"div",7),Ia(1,"div",8),Ia(2,"a",9),as(3,"Profile"),Ta(),Ia(4,"a",9),as(5,"Public Posts "),Ia(6,"span",11),as(7),Ta(),Ta(),Ia(8,"a",12),as(9,"Private Posts "),Ia(10,"span",11),as(11),Ta(),Ta(),Ia(12,"a",12),as(13,"All Posts "),Ia(14,"span",11),as(15),Ta(),Ta(),Ta(),Ta()),2&t){var n=Fa(2);gi(2),Ea("routerLink",Cu(7,qS,n.unameParam)),gi(2),Ea("routerLink",ku(9,KS)),gi(3),us(" (",n.pbcount,")"),gi(1),Ea("routerLink",ku(10,QS)),gi(3),us(" (",n.prcount,")"),gi(1),Ea("routerLink",ku(11,QS)),gi(3),us(" (",n.allcount,")")}}function YS(t,e){if(1&t&&(Ia(0,"div",3),Ia(1,"div",13),Aa(2,"img",14),Ta(),Ia(3,"div",15),Ia(4,"h2"),as(5),Ta(),Ia(6,"h5"),Ia(7,"b"),as(8,"Username : "),Ta(),as(9),Ta(),Ia(10,"p"),Ia(11,"b"),as(12,"Email : "),Ta(),as(13),Ta(),Ia(14,"p"),Ia(15,"b"),as(16,"Bio : "),Ta(),as(17),Ta(),Ta(),Ta()),2&t){var n=Fa(2);gi(2),Ea("src",n.ProfileData.imgurl,Yr),gi(3),us(" Name : ",n.ProfileData.name," "),gi(4),us(" ",n.ProfileData.uname," "),gi(4),us(" ",n.ProfileData.email," "),gi(4),us(" ",n.ProfileData.desc," ")}}function $S(t,e){if(1&t&&(Ia(0,"div",3),_a(1,WS,18,15,"div",4),_a(2,XS,16,12,"div",4),Ia(3,"div",5),_a(4,YS,18,5,"div",6),Ta(),Ta()),2&t){var n=Fa();gi(1),Ea("ngIf",n.isAuthenticated&&n.ismyself),gi(1),Ea("ngIf",!n.isAuthenticated||!n.ismyself),gi(2),Ea("ngIf",n.ProfileData)}}function JS(t,e){1&t&&(Ia(0,"div",17),Aa(1,"app-loading-spinner"),Ta())}function ZS(t,e){1&t&&_a(0,JS,2,0,"div",16),2&t&&Ea("ngIf",Fa().isloading)}var tI,eI=((tI=function(){function t(e,n,r,i){_classCallCheck(this,t),this.acrud=e,this.authService=n,this.router=r,this.route=i,this.isAuthenticated=!1,this.isloading=!0,this.ismyself=!1,this.pbcount=0,this.prcount=0,this.allcount=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userSub=this.authService.user.subscribe((function(e){e&&(t.isAuthenticated=!!e)})),this.route.params.subscribe((function(e){t.unameParam=e.username,t.getUidFromService(),t.isAuthenticated&&t.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.myuname=n[0].uname,t.myuname==t.unameParam?(t.ismyself=!0,t.getPrfoileFromPersonalDb()):(t.ismyself=!1,t.getPrfoileFromPublicDb())})),t.isAuthenticated||(t.ismyself=!1,t.getPrfoileFromPublicDb())}))}},{key:"getPrfoileFromPublicDb",value:function(){var t=this;this.isloading=!0,this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e);t.ProfileData=n[0],t.isloading=!1}))}},{key:"getPrfoileFromPersonalDb",value:function(){var t=this;this.isloading=!0,this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.ProfileData=n[0],t.username=t.ProfileData.uname,t.isloading=!1}))}},{key:"getUidFromService",value:function(){var t=this;this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e);if(n[0]){var r=n[0].id;t.getPublicPostsFromProfileId(r),t.getPrivatePostsFromProfileId(r)}else t.router.navigate(["home"])}))}},{key:"getPrivatePostsFromProfileId",value:function(t){var e=this;this.acrud.getPrivateFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.prcount=n.length,e.allcount+=e.prcount}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.pbcount=n.length,e.allcount+=e.pbcount}))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||tI)(wa(gC),wa(vC),wa(Hy),wa(Dg))},tI.\u0275cmp=fe({type:tI,selectors:[["app-view-profile"]],decls:4,vars:2,consts:[["class","row",4,"ngIf","ngIfElse"],[1,"col-md-9","col-sm-12"],["loading",""],[1,"row"],["class","col-md-3 col-sm-12",4,"ngIf"],[1,"col-md-7","col-sm-12","center-block"],["class","row",4,"ngIf"],[1,"col-md-3","col-sm-12"],[1,"list-group"],["routerLinkActive","active",1,"list-group-item",3,"routerLink"],[1,"list-group-item",3,"routerLink"],[1,"count-post"],[1,"list-group-item","disabled",3,"routerLink"],[1,"col-md-4","col-xs-12","col-md-push-8"],["alt","","width","150","height","150",1,"img-circle",3,"src"],[1,"col-md-8","col-xs-12","col-md-pull-4"],["class","loading-text",4,"ngIf"],[1,"loading-text"]],template:function(t,e){if(1&t&&(_a(0,$S,5,3,"div",0),Ia(1,"div",1),_a(2,ZS,1,1,"ng-template",null,2,Ku),Ta()),2&t){var n=ba(3);Ea("ngIf",!e.isloading)("ngIfElse",n)}},directives:[rh,Gy,$y,yC],styles:["h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:767px){.col-md-4.col-xs-12[_ngcontent-%COMP%]{margin-top:25px;float:none;text-align:center}.img-circle[_ngcontent-%COMP%]{width:150px;height:150px;text-align:center}h5[_ngcontent-%COMP%] > b[_ngcontent-%COMP%], p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-size:18px}h2[_ngcontent-%COMP%]{padding-bottom:10px}}@media screen and (min-width:992px){.col-md-8.col-xs-8[_ngcontent-%COMP%]{padding-left:50px}}.center-block[_ngcontent-%COMP%]{padding:25px;box-shadow:0 10px 35px rgba(0,0,0,.1)}b[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}"]}),tI),nI=function(t){return[t]};function rI(t,e){if(1&t&&(Ia(0,"div"),Ia(1,"div",10),Ia(2,"a",11),Ia(3,"div",12),Aa(4,"img",13),Ta(),Ia(5,"div",14),Ia(6,"h2",15),as(7),Ta(),Aa(8,"p",16),Tu(9,"noSanitize"),Ta(),Ia(10,"div",17),Ia(11,"p",18),as(12),Ta(),Ia(13,"p",19),as(14),Tu(15,"date"),Ta(),Ta(),Ta(),Ta(),Ta()),2&t){var n=e.$implicit,r=e.index;gi(2),Ea("routerLink",Cu(10,nI,r)),gi(2),ja("src","",n.imgurl," ",Yr),gi(3),us(" ",n.title," "),gi(1),Ea("innerHTML",Au(9,6,n.desc),Xr),gi(4),us(" By ",n.name," "),gi(2),us(" On ",Au(15,8,n.created_date)," ")}}function iI(t,e){if(1&t&&(Ia(0,"div"),_a(1,rI,16,12,"div",9),Ta()),2&t){var n=Fa();gi(1),Ea("ngForOf",n.PublicPosts)}}function oI(t,e){1&t&&(Ia(0,"div",20),Aa(1,"app-loading-spinner"),Ta())}function aI(t,e){1&t&&(Ia(0,"div",20),Ia(1,"h3"),as(2,"No Post Found"),Ta(),Ta())}var sI,uI,cI=function(t){return["/myprofile",t]},lI=function(){return{exact:!0}},hI=function(t){return["/myprofile",t,"publicposts"]},fI=function(){return[""]},dI=((uI=function(){function t(e,n,r){_classCallCheck(this,t),this.acrud=e,this.authService=n,this.router=r,this.isFetching=!1,this.pbcount=0,this.prcount=0,this.allcount=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.router.url.split("/");this.unameParam=t[2],this.getUidFromService()}},{key:"getUidFromService",value:function(){var t=this;this.isFetching=!0,this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e)[0].id;t.getPublicPostsFromProfileId(n),t.getPrivatePstsFromProfileId(n),t.isFetching=!1}))}},{key:"getPrivatePstsFromProfileId",value:function(t){var e=this;this.isFetching=!0,this.acrud.getPrivateFromProfileId(t).subscribe((function(t){e.isFetching=!1;var n=e.acrud.seprate(t);e.prcount=n.length,e.allcount+=e.prcount}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.isFetching=!0,this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.sortDesecendingByDate(n),e.PublicPosts=n,e.pbcount=e.PublicPosts.length,e.allcount+=e.pbcount,e.isFetching=!1}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}}]),t}()).\u0275fac=function(t){return new(t||uI)(wa(gC),wa(vC),wa(Hy))},uI.\u0275cmp=fe({type:uI,selectors:[["app-view-only-public-post"]],decls:21,vars:24,consts:[[1,"row"],[1,"col-md-3","col-sm-12"],[1,"list-group"],["routerLinkActive","active",1,"list-group-item",3,"routerLink","routerLinkActiveOptions"],[1,"count-post"],["routerLinkActive","active",1,"list-group-item","disabled",3,"routerLink","routerLinkActiveOptions"],[1,"col-md-7","col-sm-12","col-xs-12","post-cards"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card","row"],[3,"routerLink"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"title"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"author-name"],[1,"date"],[1,"loading-text"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"a",3),as(4,"Profile"),Ta(),Ia(5,"a",3),as(6,"Public Posts "),Ia(7,"span",4),as(8),Ta(),Ta(),Ia(9,"a",5),as(10,"Private Posts "),Ia(11,"span",4),as(12),Ta(),Ta(),Ia(13,"a",5),as(14,"All Posts "),Ia(15,"span",4),as(16),Ta(),Ta(),Ta(),Ta(),Ia(17,"div",6),_a(18,iI,2,1,"div",7),_a(19,oI,2,0,"div",8),_a(20,aI,3,0,"div",8),Ta(),Ta()),2&t&&(gi(3),Ea("routerLink",Cu(14,cI,e.unameParam))("routerLinkActiveOptions",ku(16,lI)),gi(2),Ea("routerLink",Cu(17,hI,e.unameParam))("routerLinkActiveOptions",ku(19,lI)),gi(3),us(" (",e.pbcount,")"),gi(1),Ea("routerLink",ku(20,fI))("routerLinkActiveOptions",ku(21,lI)),gi(3),us(" (",e.prcount,")"),gi(1),Ea("routerLink",ku(22,fI))("routerLinkActiveOptions",ku(23,lI)),gi(3),us(" (",e.allcount,")"),gi(2),Ea("ngIf",(null==e.PublicPosts?null:e.PublicPosts.length)>0&&!e.isFetching),gi(1),Ea("ngIf",e.isFetching),gi(1),Ea("ngIf",!e.isFetching&&(null==e.PublicPosts?null:e.PublicPosts.length)<1))},directives:[Gy,$y,rh,eh,yC],pipes:[VC,ph],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;opacity:.9}h2.title[_ngcontent-%COMP%]{color:#000}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){.author-date[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),uI),pI=((sI=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(t,e){return!!this.authService.isLoggedIn1()||(this.router.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)}}]),t}()).\u0275fac=function(t){return new(t||sI)(Xt(vC),Xt(Hy))},sI.\u0275prov=ht({token:sI,factory:sI.\u0275fac}),sI);function vI(t,e){if(1&t&&(Ia(0,"div",5),Ia(1,"p"),as(2),Ta(),Ta()),2&t){var n=Fa();gi(2),ss(n.error)}}function gI(t,e){1&t&&(Ia(0,"div",6),Aa(1,"app-loading-spinner"),Ta())}var yI=function(){return["/auth"]};function mI(t,e){if(1&t){var n=Oa();Ia(0,"form",7,8),Ra("ngSubmit",(function(){Ye(n);var t=ba(1);return Fa().onSubmit(t)})),Ia(2,"div",9),Ia(3,"label",10),as(4,"E-Mail"),Ta(),Aa(5,"input",11),Ta(),Ia(6,"div",9),Ia(7,"button",12),as(8," Reset Password "),Ta(),Ia(9,"a",13),as(10,"Login Page"),Ta(),Ta(),Ta()}if(2&t){var r=ba(1);gi(7),Ea("disabled",!r.valid),gi(2),Ea("routerLink",ku(2,yI))}}var _I,bI=((_I=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.isLoading=!1,this.error=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(t){var e=this;this.isLoading=!0,t.valid&&this.auth.sendPasswordResetEmail(t.value.email).then((function(){e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.error=t.message,e.auth.showerrorForResetMail()}))}}]),t}()).\u0275fac=function(t){return new(t||_I)(wa(vC))},_I.\u0275cmp=fe({type:_I,selectors:[["app-resetpassword"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-link",3,"routerLink"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),_a(2,vI,3,1,"div",2),_a(3,gI,2,0,"div",3),_a(4,mI,11,3,"form",4),Ta(),Ta()),2&t&&(gi(2),Ea("ngIf",e.error),gi(1),Ea("ngIf",e.isLoading),gi(1),Ea("ngIf",!e.isLoading))},directives:[rh,yC,hb,Bm,nb,Nm,qm,lb,Ob,Db,Gy],styles:[""]}),_I);function wI(t,e){if(1&t&&(Ia(0,"div",10),Ia(1,"p",3),as(2,"We have sent a confirmation email to "),Ia(3,"strong"),as(4),Ta(),as(5,"."),Ta(),Ia(6,"p",3),as(7,"Please check your email and click on the link to verfiy your email address."),Ta(),Ta()),2&t){var n=e.ngIf;gi(4),ss(n.email)}}var kI,CI,EI,SI=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:VE},{path:"home/:id",component:EE,pathMatch:"full"},{path:"featured/:id",component:EE,pathMatch:"full"},{path:"myprofile",component:VS,pathMatch:"full",canActivate:[pI]},{path:"myprofile/:username",component:eI,pathMatch:"full"},{path:"myprofile/:username/editProfile",component:VS,canActivate:[pI]},{path:"myprofile/:username/publicposts",component:dI},{path:"myprofile/:username/publicposts/:id",component:EE},{path:"create-post",component:jC,canActivate:[pI]},{path:"auth",component:WE},{path:"verify-mail",component:(kI=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"OnClick",value:function(){this.authService.logout()}}]),t}(),kI.\u0275fac=function(t){return new(t||kI)(wa(vC),wa(Hy))},kI.\u0275cmp=fe({type:kI,selectors:[["app-verify-mail"]],decls:18,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],["class","formGroup text-info part2",4,"ngIf"],[1,"formGroup","text-center","text-info"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin","text-info"],[1,"redirect",3,"click"],[1,"formGroup","text-info","part2"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),as(4,"Thank You for Registering"),Ta(),_a(5,wI,8,1,"div",4),Ia(6,"div",5),Ia(7,"h4",3),as(8,"After verfying kidnly try to login again"),Ta(),Ia(9,"button",6),Ra("click",(function(){return e.authService.SendVerificationMail()})),Aa(10,"i",7),as(11," Resend Verification Email "),Ta(),Ia(12,"div",8),Ia(13,"a"),Ia(14,"span"),as(15,"Go back to?"),Ia(16,"span",9),Ra("click",(function(){return e.OnClick()})),as(17," Sign in"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(gi(5),Ea("ngIf",e.authService.userData))},directives:[rh],styles:[".text-info[_ngcontent-%COMP%]{padding-top:35px}.redirect[_ngcontent-%COMP%]:hover{cursor:pointer}.redirect[_ngcontent-%COMP%]{font-weight:700}.btnPrimary[_ngcontent-%COMP%]{margin-top:25px}@media screen and (max-width:767px){.part2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}}"]}),kI)},{path:"reset-password",component:bI},{path:"myposts",redirectTo:"myposts/allpost",pathMatch:"full"},{path:"myposts/:type",component:fS,pathMatch:"full"},{path:"myposts/:type/:id",component:EE},{path:"myposts/:type/:id/edit",component:xS},{path:"myposts/:type/:id/delete",component:EE},{path:"**/undefined",redirectTo:"/home"}],II=((CI=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:CI}),CI.\u0275inj=ft({factory:function(t){return new(t||CI)},imports:[[hm.forRoot(SI,{scrollPositionRestoration:"enabled",useHash:!0})],hm]}),CI);n("6Joi");var TI,AI=((TI=EI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(t){return{ngModule:EI,providers:[{provide:Uw,useValue:!0},{provide:jw,useValue:t}]}}}]),t}()).\u0275mod=ge({type:TI}),TI.\u0275inj=ft({factory:function(t){return new(t||TI)},providers:[Qw]}),TI),PI=n("wj3C"),xI=n.n(PI),OI=n("S+S0"),NI=function(){function t(t,e){this.code_=DI(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return DI(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}();function DI(t){return"storage/"+t}function RI(){return new NI("unknown","An unknown error occurred, please check the error payload for server response.")}function LI(){return new NI("canceled","User canceled the upload/download.")}function MI(){return new NI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function FI(){return new NI("no-download-url","The given file does not have any download URLs.")}function UI(t,e,n){return new NI("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function jI(){return new NI("app-deleted","The Firebase app was deleted.")}function VI(t,e){return new NI("invalid-format","String does not match format '"+t+"': "+e)}function qI(t){throw new NI("internal-error","Internal error: "+t)}var BI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function HI(t){switch(t){case BI.RAW:case BI.BASE64:case BI.BASE64URL:case BI.DATA_URL:return;default:throw"Expected one of the event types: ["+BI.RAW+", "+BI.BASE64+", "+BI.BASE64URL+", "+BI.DATA_URL+"]."}}var zI=function(t,e){this.data=t,this.contentType=e||null};function GI(t,e){switch(t){case BI.RAW:return new zI(WI(e));case BI.BASE64:case BI.BASE64URL:return new zI(KI(t,e));case BI.DATA_URL:return new zI((n=new QI(e)).base64?KI(BI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw VI(BI.DATA_URL,"Malformed data URL.")}return WI(e)}(n.rest),new QI(e).contentType)}var n;throw RI()}function WI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function KI(t,e){switch(t){case BI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw VI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case BI.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw VI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw VI(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var QI=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw VI(BI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},XI={STATE_CHANGED:"state_changed"},YI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $I(t){switch(t){case"running":case"pausing":case"canceling":return YI.RUNNING;case"paused":return YI.PAUSED;case"success":return YI.SUCCESS;case"canceled":return YI.CANCELED;case"error":default:return YI.ERROR}}function JI(t){return null!=t}function ZI(t){return void 0!==t}function tT(t){return"function"==typeof t}function eT(t){return"object"==typeof t}function nT(t){return eT(t)&&null!==t}function rT(t){return"string"==typeof t||t instanceof String}function iT(t){return oT(t)&&Number.isInteger(t)}function oT(t){return"number"==typeof t||t instanceof Number}function aT(t){return sT()&&t instanceof Blob}function sT(){return"undefined"!=typeof Blob}var uT=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),cT=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=uT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=uT.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=uT.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw qI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),JI(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return JI(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw qI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw qI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw qI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){JI(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){JI(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),lT=function(){function t(){}return t.prototype.createXhrIo=function(){return new cT},t}();function hT(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hT();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(sT())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var dT=function(){function t(t,e){var n=0,r="";aT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(aT(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(sT()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(fT.apply(null,r))}var i=e.map((function(t){return rT(t)?GI(BI.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),pT=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new NI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new NI("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function vT(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return eT(n=e)&&!Array.isArray(n)?e:null}function gT(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function yT(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mT(t){return"https://firebasestorage.googleapis.com/v0"+t}function _T(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function bT(t,e){return e}var wT=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bT},kT=null;function CT(t,e,n){var r=vT(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new pT(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function ET(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ST(t){if(!eT(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!eT(n))throw"Expected object for 'customMetadata' mapping."}else if(nT(n))throw"Mapping for '"+e+"' cannot be an object."}}function IT(t){if(!eT(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!iT(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!rT(t.pageToken))throw"Expected pageToken to be string."}}var TT=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function AT(t){if(!t)throw RI()}function PT(t,e){return function(n,r){var i=CT(t,r,e);return AT(null!==i),i}}function xT(t){return function(e,n){var r;return(r=401===e.getStatus()?new NI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new NI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new NI("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function OT(t){var e=xT(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new NI("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function NT(t,e,n){var r=mT(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new TT(r,"GET",PT(t,n),i);return o.errorHandler=OT(e),o}function DT(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=mT(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new TT(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=vT(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new pT(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t.makeStorageReference(new pT(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return AT(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=xT(e),u}function RT(t,e,n){var r=mT(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new TT(r,"GET",function(t,e){return function(n,r){var i=CT(t,r,e);return AT(null!==i),function(t,e){var n=vT(e);if(null===n)return null;if(!rT(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return mT("/b/"+i(t.bucket)+"/o/"+i(n))+_T({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=OT(e),o}function LT(t,e,n,r){var i=mT(e.fullServerUrl()),o=ET(n,r),a=t.maxOperationRetryTime,s=new TT(i,"PATCH",PT(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=OT(e),s}function MT(t,e){var n=mT(e.fullServerUrl()),r=new TT(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=OT(e),r}function FT(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var UT=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function jT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){AT(!1)}return AT(!!n&&-1!==(e||["active"]).indexOf(n)),n}var VT=function(t,e,n){if(tT(t)||JI(e)||JI(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},qT=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function BT(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(a=r)===(s=i)?(u=a,c=1===a?"argument":"arguments"):(u="between "+a+" and "+s,c="arguments"),new NI("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");var a,s,u,c;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?UI(o,t,l.message):UI(o,t,l)}}var HT=function(t,e){var n=this;this.validator=function(e){n.optional&&!ZI(e)||t(e)},this.optional=!!e};function zT(t,e){function n(t){if(!rT(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new HT(r,e)}function GT(){return new HT((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||sT()&&t instanceof Blob))throw"Expected Blob or File."}))}function WT(t){return new HT(ST,t)}function KT(t){return new HT(IT,t)}function QT(){return new HT((function(t){if(!(oT(t)&&t>=0))throw"Expected a number 0 or greater."}))}function XT(t,e){return new HT((function(e){if(!(null===e||JI(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function YT(t){return new HT((function(t){if(null!==t&&!tT(t))throw"Expected a Function."}),t)}function $T(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var JT,ZT,tA=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_("error"))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals("canceled")?a.completeTransitions_():(a.error_=t,a.transition_("error"))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=FT(e,r,i),s={name:a.fullPath},u=mT(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ET(a,n),h=new TT(u,"POST",(function(t){var e;jT(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){AT(!1)}return AT(rT(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=xT(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new TT(n,"POST",(function(t){var e=jT(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){AT(!1)}n||AT(!1);var i=Number(n);return AT(!isNaN(i)),new UT(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=xT(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new UT(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new UT(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new NI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw MI();var p=new TT(n,"POST",(function(t,n){var i,a=jT(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?PT(e,o)(t,n):null,new UT(s,c,"final"===a,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=xT(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_("error")}var a=t.service_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=NT(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=FT(e,r,i),c=ET(u,n),l=dT.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw MI();var h={name:u.fullPath},f=mT(o),d=t.maxUploadRetryTime,p=new TT(f,"POST",PT(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=xT(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=LI(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=$I(this.state_);return new qT(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==XI.STATE_CHANGED)throw"Expected one of the event types: ["+XI.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=YT(!0).validator,s=XT(null,!0).validator;function u(t){try{return void a(t)}catch(e){}try{if(s(t),!(ZI(t.next)||ZI(t.error)||ZI(t.complete)))throw"";return}catch(e){throw o}}var c=[zT(i),XT(u,!0),YT(!0),YT(!0)];BT("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&BT("on",t,arguments);var o=new VT(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[XT(f),YT(!0),YT(!0)],p=!(ZI(e)||ZI(n)||ZI(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch($I(this.state_)){case YI.SUCCESS:$T(this.resolve_.bind(null,this.snapshot))();break;case YI.CANCELED:case YI.ERROR:$T(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch($I(this.state_)){case YI.RUNNING:case YI.PAUSED:t.next&&$T(t.next.bind(t,this.snapshot))();break;case YI.SUCCESS:t.complete&&$T(t.complete.bind(t))();break;case YI.CANCELED:case YI.ERROR:t.error&&$T(t.error.bind(t,this.error_))();break;default:t.error&&$T(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){BT("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){BT("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){BT("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),eA=function(){function t(t,e){this.service=t,this.location=e instanceof pT?e:pT.makeFromUrl(e)}return t.prototype.toString=function(){return BT("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(kT)return kT;var t=[];t.push(new wT("bucket")),t.push(new wT("generation")),t.push(new wT("metageneration")),t.push(new wT("name","fullPath",!0));var e=new wT("name");e.xform=function(t,e){return function(t){return!rT(t)||t.length<2?t:yT(t)}(e)},t.push(e);var n=new wT("size");return n.xform=function(t,e){return JI(e)?Number(e):e},t.push(n),t.push(new wT("timeCreated")),t.push(new wT("updated")),t.push(new wT("md5Hash",null,!0)),t.push(new wT("cacheControl",null,!0)),t.push(new wT("contentDisposition",null,!0)),t.push(new wT("contentEncoding",null,!0)),t.push(new wT("contentLanguage",null,!0)),t.push(new wT("contentType",null,!0)),t.push(new wT("metadata","customMetadata",!0)),kT=t}()},t.prototype.child=function(t){BT("child",[zT()],arguments);var e=gT(this.location.path,t),n=new pT(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new pT(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new pT(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return yT(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),BT("put",[GT(),WT(!0)],arguments),this.throwIfRoot_("put"),new tA(this,this.service,this.location,this.mappings(),new dT(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=BI.RAW),BT("putString",[zT(),zT(HI,!0),WT(!0)],arguments),this.throwIfRoot_("putString");var r=GI(e,t),i=Object.assign({},n);return!JI(i.contentType)&&JI(r.contentType)&&(i.contentType=r.contentType),new tA(this,this.service,this.location,this.mappings(),new dT(r.data,!0),i)},t.prototype.delete=function(){var t=this;return BT("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=MT(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){BT("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(Yw.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Yw.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){BT("list",[KT(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=DT(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return BT("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=NT(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return BT("updateMetadata",[WT()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=LT(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return BT("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=RT(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw FI();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new NI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),nA=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),rA=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());ZI(s)?i(s):i()}catch(u){o(u)}else null!==a?((r=RI()).setServerResponseProp(a.getResponseText()),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?jI():LI():new NI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new iA(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new iA(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===uT.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new iA(a,n))}else{var s=n.getErrorCode()===uT.ABORT;e(!1,new iA(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Yw.__spreadArrays)([null,t],e));else{var r,o=u()||a;o?l.call.apply(l,Object(Yw.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),iA=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},oA=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?pT.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new aA(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:pT.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(Yw.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Yw.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new eA(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new nA(jI());var r=function(t,e,n,r){var i=_T(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==xI.a?xI.a.SDK_VERSION:"AppManager")}(a),new rA(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(BT("ref",[zT(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new eA(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{pT.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return BT("refFromURL",[zT(e,!1)],arguments),new eA(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){BT("setMaxUploadRetryTime",[QT()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){BT("setMaxOperationRetryTime",[QT()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),aA=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();ZT={TaskState:YI,TaskEvent:XI,StringFormat:BI,Storage:oA,Reference:eA},(JT=xI.a).INTERNAL.registerComponent(new OI.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new oA(n,r,new lT,e)}),"PUBLIC").setServiceProps(ZT).setMultipleInstances(!0)),JT.registerVersion("@firebase/storage","0.3.43");var sA,uA=((sA=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:sA}),sA.\u0275inj=ft({factory:function(t){return new(t||sA)},providers:[Pw]}),sA);function cA(t,e){1&t&&(Ia(0,"a",31),as(1,"Create post"),Ta())}function lA(t,e){1&t&&(Ia(0,"a",31),as(1,"Add Post"),Ta())}function hA(t,e){1&t&&(Ia(0,"li",17),Ia(1,"a",32),as(2,"Authenticate"),Ta(),Ta())}function fA(t,e){1&t&&(Ia(0,"li",17),Ia(1,"a",33),as(2,"MyPosts"),Ta(),Ta())}function dA(t,e){1&t&&(Ia(0,"li",17),Ia(1,"a",34),as(2,"CreateProfile"),Ta(),Ta())}var pA=function(t){return["/myprofile",t]};function vA(t,e){if(1&t&&(Ia(0,"li",17),Ia(1,"a",35),as(2,"MyProfile"),Ta(),Ta()),2&t){var n=Fa();gi(1),Ea("routerLink",Cu(1,pA,n.username))}}function gA(t,e){if(1&t){var n=Oa();Ia(0,"li"),Ia(1,"a",36),Ra("click",(function(){return Ye(n),Fa().ViewCV()})),as(2,"My CV"),Ta(),Ta()}}function yA(t,e){if(1&t){var n=Oa();Ia(0,"li"),Ia(1,"a",36),Ra("click",(function(){return Ye(n),Fa().onLogout()})),as(2,"Logout"),Ta(),Ta()}}function mA(t,e){1&t&&(Ia(0,"div",37),Ia(1,"footer",38),Ia(2,"a",39),kn(),Ia(3,"svg",40),Aa(4,"path",41),Ta(),Cn(),Ia(5,"span"),as(6,"Open Sourced on GitHub"),Ta(),Ta(),Ia(7,"a",42),Ia(8,"span"),Aa(9,"img",43),as(10,"Read about this Project On MEDIUM"),Ta(),Ta(),Ia(11,"div",4),Ia(12,"ul",5),Ia(13,"li",6),Ia(14,"a",23),Aa(15,"i",8),Ta(),Ta(),Ia(16,"li",6),Ia(17,"a",9),Ia(18,"span"),Aa(19,"img",10),Ta(),Ta(),Ta(),Ia(20,"li",6),Ia(21,"a",44),Aa(22,"i",12),Ta(),Ta(),Ia(23,"li",6),Ia(24,"a",13),Aa(25,"i",14),Ta(),Ta(),Ta(),Ta(),Ta(),Ta())}function _A(t,e){1&t&&(Ia(0,"h5",45),as(1,"Tu Hai \xa9 2021"),Ta())}var bA,wA=((bA=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.authService=e,this.acrud=n,this.router=r,this.isAuthenticated=!1,this.isprofileSet=!1,this.allpostcount=0,this.isloading=!1,this.title="write-your-heart-out",this.ViewCV=function(){alert("you dont have permission to download CV ")},this.acrud.username.subscribe((function(t){i.username=t}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;if(this.isloading){window.onscroll=function(){window.pageYOffset>n?e.classList.add("sticky"):e.classList.remove("sticky")};var e=document.getElementById("myHeader"),n=e.offsetTop}this.isloading=!0,this.authService.autoLogin(),this.authService.isLoggedIn1(),this.userSub=this.authService.user.subscribe((function(e){t.isloading=!1,e&&(t.isemailverfied=e.emailVerified),t.isAuthenticated=!!e,console.log(!e),console.log(!!e),console.log(t.isAuthenticated),t.isAuthenticated&&t.acrud.getProfileFromUid(e.uid).subscribe((function(e){var n=t.acrud.seprate(e);t.ProfieData=n[0],t.ProfieData&&(t.isprofileSet=t.ProfieData.isProfileSet,t.username=t.ProfieData.uname)}))})),this.getAllPosts()}},{key:"getAllPosts",value:function(){var t=this;this.isloading=!0,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n),o=r.concat(i);t.allpostcount=o.length,t.isloading=!1}))}},{key:"onLogout",value:function(){this.authService.logout()}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||bA)(wa(vC),wa(gC),wa(Hy))},bA.\u0275cmp=fe({type:bA,selectors:[["app-root"]],decls:52,vars:10,consts:[[1,"navbar","navbar-default","main-header"],[1,"container","header-main"],[1,"navbar-header"],["routerLink","/",1,"navbar-brand"],[1,"footer-icons"],[1,"navbar-nav"],[1,"nav-item","inline-block"],["href","http://tu-hai.github.io","aria-label","Github",1,"nav-link","text-github"],[1,"fa","fa-github",2,"font-size","24px","color","black"],["href","","aria-label","Medium",1,"nav-link"],["width","24","alt","","src","https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png",1,"img-circle","medium-icon"],["href","https://www.linkedin.com/in/vo-tu-hai-0311aa182/","aria-label","Instagram",1,"nav-link"],[1,"fa","fa-instagram",2,"font-size","24px","color","black"],["href","https://www.linkedin.com/in/vo-tu-hai-0311aa182/","aria-label","LinkedIn",1,"nav-link"],[1,"fa","fa-linkedin",2,"font-size","24px","color","black"],["id","myHeader",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active"],["class","hover-underline","routerLink","/create-post",4,"ngIf"],["routerLinkActive","active",4,"ngIf"],[1,"nav","navbar-nav","navbar-right"],[4,"ngIf"],[1,"footer-icons","hidden-xs","hidden-sm"],["href","https://tu-hai.github.io","aria-label","Github",1,"nav-link","text-github"],["href","https://www.youtube.com/watch?v=hwccAx8iVag&list=FLHry7FzoRkJWX3vqxM5F7iw&ab_channel=TuHai","aria-label","Youtube",1,"nav-link","text-youtube"],[1,"fa","fa-youtube",2,"font-size","24px","color","black"],["href","https://www.facebook.com/hgiveup301/","aria-label","Facebook",1,"nav-link"],[1,"fa","fa-facebook",2,"font-size","24px","color","black"],[1,"container","middle"],["class","container",4,"ngIf"],["class","text-center copyright",4,"ngIf"],["routerLink","/create-post",1,"hover-underline"],["routerLink","/auth",1,"hover-underline"],["routerLink","/myposts",1,"hover-underline"],["routerLink","/myprofile",1,"hover-underline"],[1,"hover-underline",3,"routerLink"],[1,"hover-underline",2,"cursor","pointer",3,"click"],[1,"container"],[1,"fadeInUp","col-md-12"],["href","https://github.com/tu-hai/MyBlog",1,"button","github"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"],["href","https://tu-hai.github.io",1,"button","btn-light","medium"],["width","20","alt","","src","https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png",1,"img-circle"],["href","","aria-label","Insagram",1,"nav-link"],[1,"text-center","copyright"]],template:function(t,e){1&t&&(Ia(0,"nav",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"a",3),as(4,"Tu Hai Blog"),Ta(),Ia(5,"div",4),Ia(6,"ul",5),Ia(7,"li",6),Ia(8,"a",7),Aa(9,"i",8),Ta(),Ta(),Ia(10,"li",6),Ia(11,"a",9),Ia(12,"span"),Aa(13,"img",10),Ta(),Ta(),Ta(),Ia(14,"li",6),Ia(15,"a",11),Aa(16,"i",12),Ta(),Ta(),Ia(17,"li",6),Ia(18,"a",13),Aa(19,"i",14),Ta(),Ta(),Ta(),Ta(),Ta(),Ia(20,"div",15),Ia(21,"ul",16),Aa(22,"li",17),Aa(23,"li",17),Ia(24,"li",17),_a(25,cA,2,0,"a",18),_a(26,lA,2,0,"a",18),Ta(),_a(27,hA,3,0,"li",19),_a(28,fA,3,0,"li",19),_a(29,dA,3,0,"li",19),_a(30,vA,3,3,"li",19),Ta(),Ia(31,"ul",20),_a(32,gA,3,0,"li",21),_a(33,yA,3,0,"li",21),Ta(),Ta(),Ta(),Ta(),Ia(34,"div",22),Ia(35,"ul",5),Ia(36,"li",6),Ia(37,"a",23),Aa(38,"i",8),Ta(),Ta(),Ia(39,"li",6),Ia(40,"a",24),Aa(41,"i",25),Ta(),Ta(),Ia(42,"li",6),Ia(43,"a",26),Aa(44,"i",27),Ta(),Ta(),Ia(45,"li",6),Ia(46,"a",13),Aa(47,"i",14),Ta(),Ta(),Ta(),Ta(),Ia(48,"div",28),Aa(49,"router-outlet"),Ta(),_a(50,mA,26,0,"div",29),_a(51,_A,2,0,"h5",30)),2&t&&(gi(25),Ea("ngIf",0==e.allpostcount),gi(1),Ea("ngIf",e.allpostcount>0),gi(1),Ea("ngIf",!e.isAuthenticated),gi(1),Ea("ngIf",e.isAuthenticated&&e.isemailverfied),gi(1),Ea("ngIf",e.isAuthenticated&&!e.isprofileSet),gi(1),Ea("ngIf",e.isAuthenticated&&e.isprofileSet&&e.isemailverfied),gi(2),Ea("ngIf",e.isAuthenticated),gi(1),Ea("ngIf",e.isAuthenticated),gi(17),Ea("ngIf",!e.isloading),gi(1),Ea("ngIf",!e.isloading))},directives:[Gy,$y,rh,tm],styles:['.header-main[_ngcontent-%COMP%]{background-color:#2c3e50;color:#f8f8f8}.header-main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;text-decoration:none;letter-spacing:.15em;display:inline-block;padding:15px 20px;position:relative}.header-main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:2px;left:50%;position:absolute;margin-bottom:3px;background:#fff;transition:width .3s ease 0s,left .3s ease 0s;width:0}.header-main[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%;left:0}.navbar-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:22px}.navbar-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#37bf91}footer[_ngcontent-%COMP%]{margin:5rem auto;text-align:center}.github[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{justify-content:center}.github[_ngcontent-%COMP%]{width:30%;background:#000!important;color:#fff!important;transition:all .2s ease-in-out;font-weight:600}.button[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px;border:0;text-transform:uppercase;background:rgba(0,123,255,.0627451);color:rgba(0,123,255,.6);cursor:pointer;border-radius:5px;transition:background .2s ease-in-out;margin:15px auto .5rem;outline:none;font-size:13px;text-decoration:none}.button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem;width:20px;stroke-width:2px}.button[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}a.button.btn-light.medium[_ngcontent-%COMP%]{background:rgba(87,100,112,.083);width:30%;color:#000!important;justify-content:center;font-weight:600;padding:13px}a.button.btn-light.medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.github[_ngcontent-%COMP%]:hover{background:#343a40!important}.github[_ngcontent-%COMP%]:hover, a.button.btn-light.medium[_ngcontent-%COMP%]:hover{transform:translateY(-3px);transition:all .2s ease-in-out}a.button.btn-light.medium[_ngcontent-%COMP%]:hover{background:rgba(108,117,125,.5)!important}.footer-icons[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:1.4;padding-left:0;margin:30px auto 2px;float:none}.footer-icons[_ngcontent-%COMP%]   li.nav-item.inline-block[_ngcontent-%COMP%]{display:inline;text-align:center;list-style-type:none;padding:20px;float:none}.copyright[_ngcontent-%COMP%]{color:#fff;background-color:#2c3e50;box-shadow:0 10px 35px rgba(0,0,0,.3);padding-top:25px;padding-bottom:25px;margin-bottom:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;bottom:0}img.medium-icon[_ngcontent-%COMP%]{width:24px;margin-top:-9px}@media (max-width:551px){.collapse.navbar-collapse.sticky[_ngcontent-%COMP%]{position:fixed;top:0;z-index:99999;width:100%;display:block;background:#f8f8f8;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.button[_ngcontent-%COMP%], .github[_ngcontent-%COMP%], a.button.btn-light.medium[_ngcontent-%COMP%]{width:100%;font-size:12px}footer.fadeInUp.col-md-12[_ngcontent-%COMP%]{padding:0}.navbar-header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{margin-top:15px;color:#fff}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]{width:auto;text-align:right}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:right;margin:15px 0 0}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:22px!important}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-top:-2px}.sticky-header[_ngcontent-%COMP%]{top:0}#myHeader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width:992px){.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]{position:fixed;left:0;background:#fff;z-index:55;border-radius:4px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);top:25%;width:auto;text-align:left}.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:30px}.navbar-header[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{position:fixed;top:0;border-color:#e7e7e7;width:100%;z-index:55;padding-left:55px;padding-right:55px;box-shadow:0 0 0 rgba(0,0,0,.28),0 2px 6px rgba(0,0,0,.23)}.main-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8;transform:translateY(-3px);transition:all .2s ease-in-out}}.middle[_ngcontent-%COMP%]{min-height:450px}']}),bA);n("LOEa");var kA,CA,EA=((CA=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:CA}),CA.\u0275inj=ft({factory:function(t){return new(t||CA)},providers:[Vk]}),CA),SA=((kA=function t(){_classCallCheck(this,t)}).\u0275mod=ge({type:kA,bootstrap:[wA]}),kA.\u0275inj=ft({factory:function(t){return new(t||kA)},providers:[Xw,vC,gC,pI],imports:[[of,Pp,II,jk,Ub,jb,Tw.initializeApp(Wc),EA,uA,AI,IE,pC.forRoot()]]}),kA);(function(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");wr=!1})(),nf().bootstrapModule(SA).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);